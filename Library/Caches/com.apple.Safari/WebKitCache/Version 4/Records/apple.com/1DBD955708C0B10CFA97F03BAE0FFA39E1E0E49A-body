(function(a){a.fn.SpinButton=function(b){return this.each(function(){a(this).data("spinCfg",{min:b&&!isNaN(parseFloat(b.min))?Number(b.min):null,max:b&&!isNaN(parseFloat(b.max))?Number(b.max):null,step:b&&b.step?Number(b.step):1,page:b&&b.page?Number(b.page):10,upClass:b&&b.upClass?b.upClass:"up",downClass:b&&b.downClass?b.downClass:"down",reset:b&&b.reset?b.reset:this.value,delay:b&&b.delay?Number(b.delay):500,interval:b&&b.interval?Number(b.interval):100,_btn_width:20,_btn_height:12,_direction:null,_delay:null,_repeat:null});var d=this;function c(f){var g=a(d).data("spinCfg");var e=(isNaN(d.value)?g.reset:Number(d.value))+Number(f);if(g.min!==null){e=Math.max(e,g.min)}if(g.max!==null){e=Math.min(e,g.max)}$j(d).val(e);if(f!=0){$j(d).trigger("change")}}a(this).addClass(b&&b.spinClass?b.spinClass:"spin-button").mousemove(function(k){var f=k.pageX||k.x;var l=k.pageY||k.y;var h=k.target||k.srcElement;var g=a(h).offset();var i=a(this).data("spinCfg");var j=(f>g.left+h.offsetWidth-i._btn_width)?((l<g.top+i._btn_height)?1:-1):0;if(j!==i._direction){switch(j){case 1:a(this).removeClass(i.downClass).addClass(i.upClass);break;case -1:a(this).removeClass(i.upClass).addClass(i.downClass);break;default:a(this).removeClass(i.upClass).removeClass(i.downClass)}i._direction=j}}).mouseout(function(){a(this).removeClass(a(this).data("spinCfg").upClass).removeClass(a(this).data("spinCfg").downClass);a(this).data("spinCfg")._direction=null}).mousedown(function(i){var g=a(this).data("spinCfg");if(g._direction!=0){var f=this;var h=function(){c(g._direction*g.step)};h();g._delay=window.setTimeout(function(){h();g._repeat=window.setInterval(h,g.interval)},g.delay)}}).mouseup(function(f){window.clearInterval(a(this).data("spinCfg")._repeat);window.clearTimeout(a(this).data("spinCfg")._delay)}).dblclick(function(f){if(a.browser.msie){c(a(this).data("spinCfg")._direction*a(this).data("spinCfg").step)}}).keydown(function(g){var f=a(this).data("spinCfg");switch(g.keyCode){case 38:c(f.step);break;case 40:c(-f.step);break;case 33:c(f.page);break;case 34:c(-f.page);break}}).change(function(f){c(0)})})}})(jQuery);
;
jQuery.JSON = {
useHasOwn : ({}.hasOwnProperty ? true : false),
pad : function(n) {
return n < 10 ? "0" + n : n;
},
m : {
"\b": '\\b',
"\t": '\\t',
"\n": '\\n',
"\f": '\\f',
"\r": '\\r',
'"' : '\\"',
"\\": '\\\\'
},
encodeString : function(s){
if (/["\\\x00-\x1f]/.test(s)) {
return '"' + s.replace(/([\x00-\x1f\\"])/g, function(a, b) {
var c = m[b];
if(c){
return c;
}
c = b.charCodeAt();
return "\\u00" +
Math.floor(c / 16).toString(16) +
(c % 16).toString(16);
}) + '"';
}
return '"' + s + '"';
},
encodeArray : function(o){
var a = ["["], b, i, l = o.length, v;
for (i = 0; i < l; i += 1) {
v = o[i];
switch (typeof v) {
case "undefined":
case "function":
case "unknown":
break;
default:
if (b) {
a.push(',');
}
a.push(v === null ? "null" : this.encode(v));
b = true;
}
}
a.push("]");
return a.join("");
},
encodeDate : function(o){
return '"' + o.getFullYear() + "-" +
pad(o.getMonth() + 1) + "-" +
pad(o.getDate()) + "T" +
pad(o.getHours()) + ":" +
pad(o.getMinutes()) + ":" +
pad(o.getSeconds()) + '"';
},
encode : function(o){
if(typeof o == "undefined" || o === null){
return "null";
}else if(o instanceof Array){
return this.encodeArray(o);
}else if(o instanceof Date){
return this.encodeDate(o);
}else if(typeof o == "string"){
return this.encodeString(o);
}else if(typeof o == "number"){
return isFinite(o) ? String(o) : "null";
}else if(typeof o == "boolean"){
return String(o);
}else {
var self = this;
var a = ["{"], b, i, v;
for (i in o) {
if(!this.useHasOwn || o.hasOwnProperty(i)) {
v = o[i];
switch (typeof v) {
case "undefined":
case "function":
case "unknown":
break;
default:
if(b){
a.push(',');
}
a.push(self.encode(i), ":",
v === null ? "null" : self.encode(v));
b = true;
}
}
}
a.push("}");
return a.join("");
}
},
decode : function(json){
return eval("(" + json + ')');
}
};

;
jQuery.quickSilverFilter=function(a,f,b,c){var e=$j.trim(f.toLowerCase()),g=[];if(c==null){c=function(h){return h}}if(!e){return a}else{var d=[];jQuery(a).each(function(h,j){var k=c(j).score(e);if(k>0){g.push([k,h])}});jQuery.each(g.sort(function(i,h){return h[0]-i[0]}),function(){d.push(a[this[1]])});if(b!=null&&d.length>b){d=d.slice(0,b)}return d}};
;
(function(d){var c={className:"autosizejs",append:"",callback:false},f="hidden",b="border-box",k="lineHeight",a='<textarea tabindex="-1" style="position:absolute; top:-9999px; left:-9999px; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>',g=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],i="oninput",e="onpropertychange",j,h=d(a).data("autosize",true)[0];h.style.lineHeight="99px";if(d(h).css(k)==="99px"){g.push(k)}h.style.lineHeight="";d.fn.autosize=function(l){l=d.extend({},c,l||{});if(h.parentNode!==document.body){d(document.body).append(h)}return this.each(function(){var q=this,o=d(q),v=o.height(),p,n,m=0,s=q.value,u=d.isFunction(l.callback);if(o.data("autosize")){return}if(o.css("box-sizing")===b||o.css("-moz-box-sizing")===b||o.css("-webkit-box-sizing")===b){m=o.outerHeight()-o.height()}n=o.css("resize")==="none"?"none":"horizontal";o.css({overflow:f,overflowY:f,wordWrap:"break-word",resize:n}).data("autosize",true);function t(){j=q;h.className=l.className;d.each(g,function(w,x){h.style[x]=o.css(x)})}function r(){var w,z,x;if(j!==q){t()}if(!p){p=true;h.value=q.value+l.append;h.style.overflowY=q.style.overflowY;x=parseInt(q.style.height,10);h.style.width=o.width()+"px";h.scrollTop=0;h.scrollTop=90000;w=h.scrollTop;var y=parseInt(o.css("maxHeight"),10);y=y&&y>0?y:90000;if(w>y){w=y;z="scroll"}else{if(w<v){w=v}}w+=m;q.style.overflowY=z||f;if(x!==w){q.style.height=w+"px";if(u){l.callback.call(q)}}setTimeout(function(){p=false},1)}}if(e in q){if(i in q){q[i]=q.onkeyup=r}else{q[e]=r}}else{q[i]=r;q.value="";q.value=s}d(window).resize(r);o.bind("autosize",r);r()})}}(window.jQuery||window.Zepto));
;
jive.ext.y._sliders_on=true;jive.ext.y._sliders=new jive.ext.y.HashTable();jive.ext.y.ySlider=function(b,f,a){var d=new Array();var c=this;this.hash=0;this.name=a;this.moving=false;if(!$obj(f)||f==null){f=new Object()}if(!$def(f.timeout)||f.timeout==null){f.timeout=false}this.go=function(){try{while(c.hash==0||$obj(jive.ext.y._sliders.get(c.hash))){c.hash=Math.round(Math.random()*10000)+1}jive.ext.y._sliders.put(c.hash,this);if(!f.timeout){f.timeout=40}for(var g=0;g<d.length;g++){d[g].init()}f.slideTime=b;f.stop=false;f.B=Math.PI/(2*f.slideTime);var h=new Date();f.C=h.getTime();if(!jive.ext.y._sliders_on){f.slideTime=0}if(!c.moving){this._slide()}}catch(e){alert("error initializing slider:"+f.message)}};this._slide=function(){try{var e,k,j,l;e=new Date();j=e.getTime()-f.C;if(f.stop){c.moving=false}else{if(j<f.slideTime){setTimeout("jive.ext.y._sliders.get('"+c.hash+"')._slide();",f.timeout);var k=Math.sin(f.B*j);for(var h=0;h<d.length;h++){d[h].tick(k)}c.moving=true}else{for(var h=0;h<d.length;h++){d[h].stop()}c.moving=false}}}catch(g){alert("error sliding slider:"+f)}};this.addTicker=function(e){d.push(e)}};jive.ext.y.EndOfSlideTicker=function(a){this.init=function(){};this.tick=function(b){};this.stop=function(){a()}};jive.ext.y.SlideToTicker=function(b,a,c){this.init=function(){if(!(b=jive.ext.x.xGetElementById(b))){return}b.xTarget=a;b.yTarget=c;b.yA=b.yTarget-jive.ext.x.xTop(b);b.xA=b.xTarget-jive.ext.x.xLeft(b);b.yD=jive.ext.x.xTop(b);b.xD=jive.ext.x.xLeft(b)};this.tick=function(d){if(!(b=jive.ext.x.xGetElementById(b))){return}var f=Math.round(b.xA*d+b.xD);var e=Math.round(b.yA*d+b.yD);jive.ext.x.xMoveTo(b,f,e)};this.stop=function(){if(!(b=jive.ext.x.xGetElementById(b))){return}jive.ext.x.xMoveTo(b,b.xTarget,b.yTarget)}};jive.ext.y.SlideHeightToTicker=function(b,a){this.init=function(){if(!(b=jive.ext.x.xGetElementById(b))){return}b.xTargetH=a;b.xAH=b.xTargetH-jive.ext.x.xHeight(b);b.xDH=jive.ext.x.xHeight(b)};this.tick=function(d){if(!(b=jive.ext.x.xGetElementById(b))){return}var c=Math.round(b.xAH*d+b.xDH);jive.ext.x.xHeight(b,c)};this.stop=function(){if(!(b=jive.ext.x.xGetElementById(b))){return}jive.ext.x.xHeight(b,b.xTargetH)}};jive.ext.y.SlideWidthToTicker=function(b,a){this.init=function(){if(!(b=jive.ext.x.xGetElementById(b))){return}b.xTargetW=a;b.xAW=b.xTargetW-jive.ext.x.xWidth(b);b.xDW=jive.ext.x.xWidth(b)};this.tick=function(c){if(!(b=jive.ext.x.xGetElementById(b))){return}var d=Math.round(b.xAW*c+b.xDW);jive.ext.x.xWidth(b,d)};this.stop=function(){if(!(b=jive.ext.x.xGetElementById(b))){return}jive.ext.x.xWidth(b,b.xTargetW)}};jive.ext.y.SlideTopToTicker=function(b,a){this.init=function(){if(!(b=jive.ext.x.xGetElementById(b))){return}b.xTargetT=a;b.xAT=b.xTargetT-jive.ext.x.xTop(b);b.xDT=jive.ext.x.xTop(b)};this.tick=function(d){if(!(b=jive.ext.x.xGetElementById(b))){return}var c=Math.round(b.xAT*d+b.xDT);jive.ext.x.xTop(b,c)};this.stop=function(){if(!(b=jive.ext.x.xGetElementById(b))){return}jive.ext.x.xTop(b,b.xTargetT)}};jive.ext.y.SlideBottomToTicker=function(b,a){this.init=function(){if(!(b=jive.ext.x.xGetElementById(b))){return}b.xTargetT=a;b.xAT=b.xTargetT-jive.ext.y.yBottom(b);b.xDT=jive.ext.y.yBottom(b)};this.tick=function(d){if(!(b=jive.ext.x.xGetElementById(b))){return}var c=Math.round(b.xAT*d+b.xDT);jive.ext.y.yBottom(b,c)};this.stop=function(){if(!(b=jive.ext.x.xGetElementById(b))){return}jive.ext.y.yBottom(b,b.xTargetT)}};jive.ext.y.SlideOpacityToTicker=function(a,b){this.init=function(){if(!(a=jive.ext.x.xGetElementById(a))){return}a.xTargetO=b;a.xAO=a.xTargetO-jive.ext.y.yOpacity(a);a.xDO=jive.ext.y.yOpacity(a)};this.tick=function(c){if(!(a=jive.ext.x.xGetElementById(a))){return}var d=Math.round(a.xAO*c+a.xDO);jive.ext.y.yOpacity(a,d)};this.stop=function(){if(!(a=jive.ext.x.xGetElementById(a))){return}jive.ext.y.yOpacity(a,a.xTargetO)}};
;
String.prototype.score=function(l,d){d=d||0;if(l.length==0){return 0.9}if(l.length>this.length){return 0}for(var g=l.length;g>0;g--){var n=l.substring(0,g);var h=this.indexOf(n);if(h<0){continue}if(h+l.length>this.length+d){continue}var m=this.substring(h+n.length);var f=null;if(g>=l.length){f=""}else{f=l.substring(g)}var e=m.score(f,d+h);if(e>0){var a=this.length-m.length;if(h!=0){var b=0;var k=this.charCodeAt(h-1);if(k==32||k==9){for(var b=(h-2);b>=0;b--){k=this.charCodeAt(b);a-=((k==32||k==9)?1:0.15)}}else{a-=h}}a+=e*m.length;a/=this.length;return a}}return 0};
;
(function($win$$){var $whiteSpaceRe$$=/^\s+|\s+$/g,$nativeTrim$$=String.prototype.trim,$isRegExpBroken$$="$1"==="B".replace(/A(.)|B/,"$1"),$tinymce$$={majorVersion:"3",minorVersion:"4.5",releaseDate:"2011-09-06",_init:function(){function $getBase$$($n$$){if($n$$.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test($n$$.src)){/_(src|dev)\.js/g.test($n$$.src)&&($t$$.suffix="_src");if(-1!=($p$$=$n$$.src.indexOf("?")))$t$$.query=$n$$.src.substring($p$$+1);$t$$.baseURL=$n$$.src.substring(0,
$n$$.src.lastIndexOf("/"));$base$$&&(-1==$t$$.baseURL.indexOf("://")&&0!==$t$$.baseURL.indexOf("/"))&&($t$$.baseURL=$base$$+$t$$.baseURL);return $t$$.baseURL}return null}var $t$$=this,$d_n$$=document,$i$$=navigator,$nl_ua$$=$i$$.userAgent,$base$$,$p$$,$v$$;$t$$.isIE11=-1!=$nl_ua$$.indexOf("Trident/")&&(-1!=$nl_ua$$.indexOf("rv:")||-1!=$i$$.appName.indexOf("Netscape"));$t$$.isOpera=$win$$.opera&&opera.buildNumber;$t$$.isWebKit=/WebKit/.test($nl_ua$$);$t$$.isIE=!$t$$.isWebKit&&!$t$$.isOpera&&/MSIE/gi.test($nl_ua$$)&&
/Explorer/gi.test($i$$.appName)||$t$$.isIE11;$t$$.isIE6=$t$$.isIE&&/MSIE [56]/.test($nl_ua$$);$t$$.isIE7=$t$$.isIE&&/MSIE [7]/.test($nl_ua$$);$t$$.isIE8=$t$$.isIE&&/MSIE [8]/.test($nl_ua$$);$t$$.isIE9=$t$$.isIE&&/MSIE [9]/.test($nl_ua$$);$t$$.isIE10=$t$$.isIE&&/MSIE [10]/.test($nl_ua$$);$t$$.isGecko=!$t$$.isWebKit&&!$t$$.isIE11&&/Gecko/.test($nl_ua$$);$t$$.isMac=-1!=$nl_ua$$.indexOf("Mac");$t$$.isAir=/adobeair/i.test($nl_ua$$);$t$$.isIDevice=/(iPad|iPhone)/.test($nl_ua$$);$t$$.isIOS5=$t$$.isIDevice&&
534<=$nl_ua$$.match(/AppleWebKit\/(\d*)/)[1];if($win$$.tinyMCEPreInit)$t$$.suffix=tinyMCEPreInit.suffix,$t$$.baseURL=tinyMCEPreInit.base,$t$$.query=tinyMCEPreInit.query;else{$t$$.suffix="";$nl_ua$$=$d_n$$.getElementsByTagName("base");for($i$$=0;$i$$<$nl_ua$$.length;$i$$++)if($v$$=$nl_ua$$[$i$$].href)/^https?:\/\/[^\/]+$/.test($v$$)&&($v$$+="/"),$base$$=$v$$?$v$$.match(/.*\//)[0]:"";$nl_ua$$=$d_n$$.getElementsByTagName("script");for($i$$=0;$i$$<$nl_ua$$.length;$i$$++)if($getBase$$($nl_ua$$[$i$$]))return;
if($d_n$$=$d_n$$.getElementsByTagName("head")[0]){$nl_ua$$=$d_n$$.getElementsByTagName("script");for($i$$=0;$i$$<$nl_ua$$.length&&!$getBase$$($nl_ua$$[$i$$]);$i$$++);}}},is:function($o$$,$t$$){return!$t$$?void 0!==$o$$:"array"==$t$$&&$o$$.hasOwnProperty&&$o$$ instanceof Array?!0:typeof $o$$==$t$$},makeMap:function($items$$,$delim_i$$,$map$$){$items$$=$items$$||[];"string"==typeof $items$$&&($items$$=$items$$.split($delim_i$$||","));$map$$=$map$$||{};for($delim_i$$=$items$$.length;$delim_i$$--;)$map$$[$items$$[$delim_i$$]]=
{};return $map$$},each:function($o$$,$cb$$,$s$$){var $n$$,$l$$;if(!$o$$)return 0;$s$$=$s$$||$o$$;if(void 0!==$o$$.length){$n$$=0;for($l$$=$o$$.length;$n$$<$l$$;$n$$++)if(!1===$cb$$.call($s$$,$o$$[$n$$],$n$$,$o$$))return 0}else for($n$$ in $o$$)if(Object.prototype.hasOwnProperty.call($o$$,$n$$)&&!1===$cb$$.call($s$$,$o$$[$n$$],$n$$,$o$$))return 0;return 1},map:function($a$$,$f$$){var $o$$=[];$tinymce$$.each($a$$,function($v$$){$o$$.push($f$$($v$$))});return $o$$},grep:function($a$$,$f$$){var $o$$=
[];$tinymce$$.each($a$$,function($v$$){(!$f$$||$f$$($v$$))&&$o$$.push($v$$)});return $o$$},inArray:function($a$$,$v$$){var $i$$,$l$$;if($a$$){$i$$=0;for($l$$=$a$$.length;$i$$<$l$$;$i$$++)if($a$$[$i$$]===$v$$)return $i$$}return-1},extend:function($o$$,$e$$){var $i$$,$l$$,$a$$=arguments;$i$$=1;for($l$$=$a$$.length;$i$$<$l$$;$i$$++)$e$$=$a$$[$i$$],$tinymce$$.each($e$$,function($v$$,$n$$){void 0!==$v$$&&($o$$[$n$$]=$v$$)});return $o$$},trim:$nativeTrim$$?function trim($s$$){return $s$$?$nativeTrim$$.call($s$$+
""):""}:function trim($s$$){return($s$$?""+$s$$:"").replace($whiteSpaceRe$$,"")},create:function($s$$,$p$$,$root$$){var $sp$$,$ns$$,$cn$$,$scn$$,$c$$,$de$$=0,$s$$=/^((static) )?([\w.]+)(:([\w.]+))?/.exec($s$$);$cn$$=$s$$[3].match(/(^|\.)(\w+)$/i)[2];$ns$$=this.createNS($s$$[3].replace(/\.\w+$/,""),$root$$);if(!$ns$$[$cn$$])if("static"==$s$$[2]){if($ns$$[$cn$$]=$p$$,this.onCreate)this.onCreate($s$$[2],$s$$[3],$ns$$[$cn$$])}else if($p$$[$cn$$]||($p$$[$cn$$]=function $$p$$$$cn$$$(){},$de$$=1),$ns$$[$cn$$]=
$p$$[$cn$$],this.extend($ns$$[$cn$$].prototype,$p$$),$s$$[5]&&($sp$$=this.resolve($s$$[5]).prototype,$scn$$=$s$$[5].match(/\.(\w+)$/i)[1],$c$$=$ns$$[$cn$$],$ns$$[$cn$$]=$de$$?function(){return $sp$$[$scn$$].apply(this,arguments)}:function(){this.parent=$sp$$[$scn$$];return $c$$.apply(this,arguments)},$ns$$[$cn$$].prototype[$cn$$]=$ns$$[$cn$$],this.each($sp$$,function($f$$,$n$$){$ns$$[$cn$$].prototype[$n$$]=$sp$$[$n$$]}),this.each($p$$,function($f$$,$n$$){$sp$$[$n$$]?$ns$$[$cn$$].prototype[$n$$]=function $$ns$$$$cn$$$$$n$$$(){this.parent=
$sp$$[$n$$];return $f$$.apply(this,arguments)}:$n$$!=$cn$$&&($ns$$[$cn$$].prototype[$n$$]=$f$$)})),this.each($p$$["static"],function($f$$,$n$$){$ns$$[$cn$$][$n$$]=$f$$}),this.onCreate)this.onCreate($s$$[2],$s$$[3],$ns$$[$cn$$].prototype)},walk:function($o$$0$$,$f$$,$n$$,$s$$){$s$$=$s$$||this;$o$$0$$&&($n$$&&($o$$0$$=$o$$0$$[$n$$]),$tinymce$$.each($o$$0$$,function($o$$,$i$$){if(!1===$f$$.call($s$$,$o$$,$i$$,$n$$))return!1;$tinymce$$.walk($o$$,$f$$,$n$$,$s$$)}))},createNS:function($n$$,$o$$){var $i$$,
$v$$,$o$$=$o$$||$win$$,$n$$=$n$$.split(".");for($i$$=0;$i$$<$n$$.length;$i$$++)$v$$=$n$$[$i$$],$o$$[$v$$]||($o$$[$v$$]={}),$o$$=$o$$[$v$$];return $o$$},resolve:function($n$$,$o$$){var $i$$,$l$$,$o$$=$o$$||$win$$,$n$$=$n$$.split(".");$i$$=0;for($l$$=$n$$.length;$i$$<$l$$&&!($o$$=$o$$[$n$$[$i$$]],!$o$$);$i$$++);return $o$$},addUnload:function($f$$,$s$$){var $t$$=this,$f$$={func:$f$$,scope:$s$$||this};if($t$$.unloads)$t$$.unloads.push($f$$);else{var $unload$$=function $$unload$$$(){var $li$$=$t$$.unloads,
$o$$,$n$$;if($li$$){for($n$$ in $li$$)($o$$=$li$$[$n$$])&&$o$$.func&&$o$$.func.call($o$$.scope,1);$win$$.detachEvent?($win$$.detachEvent("onbeforeunload",$fakeUnload$$),$win$$.detachEvent("onunload",$unload$$)):$win$$.removeEventListener&&$win$$.removeEventListener("unload",$unload$$,!1);$t$$.unloads=w=$unload$$=0;$win$$.CollectGarbage&&CollectGarbage()}},$fakeUnload$$=function $$fakeUnload$$$(){var $d$$=document;if("interactive"==$d$$.readyState){var $stop$$=function $$stop$$$(){$d$$.detachEvent("onstop",
$stop$$);$unload$$&&$unload$$();$d$$=0};$d$$&&$d$$.attachEvent("onstop",$stop$$);$win$$.setTimeout(function(){$d$$&&$d$$.detachEvent("onstop",$stop$$)},0)}};$win$$.attachEvent?($win$$.attachEvent("onunload",$unload$$),$win$$.attachEvent("onbeforeunload",$fakeUnload$$)):$win$$.addEventListener&&$win$$.addEventListener("unload",$unload$$,!1);$t$$.unloads=[$f$$]}return $f$$},removeUnload:function($f$$){var $u$$=this.unloads,$r$$=null;$tinymce$$.each($u$$,function($o$$,$i$$){if($o$$&&$o$$.func==$f$$)return $u$$.splice($i$$,
1),$r$$=$f$$,!1});return $r$$},explode:function($s$$,$d$$){return $s$$?$tinymce$$.map($s$$.split($d$$||","),$tinymce$$.trim):$s$$},_addVer:function($u$$){var $v$$;if(!this.query)return $u$$;$v$$=(-1==$u$$.indexOf("?")?"?":"&")+this.query;return-1==$u$$.indexOf("#")?$u$$+$v$$:$u$$.replace("#",$v$$+"#")},_replace:function($find$$,$replace$$,$str$$){return $isRegExpBroken$$?$str$$.replace($find$$,function(){var $val$$=$replace$$,$args$$=arguments,$i$$;for($i$$=0;$i$$<$args$$.length-2;$i$$++)$val$$=void 0===
$args$$[$i$$]?$val$$.replace(RegExp("\\$"+$i$$,"g"),""):$val$$.replace(RegExp("\\$"+$i$$,"g"),$args$$[$i$$]);return $val$$}):$str$$.replace($find$$,$replace$$)}};$tinymce$$._init();$win$$.tinymce=$win$$.tinyMCE=$tinymce$$})(window);
tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,Dispatcher:function($s$$){this.scope=$s$$||this;this.listeners=[]},add:function($cb$$,$s$$){this.listeners.push({cb:$cb$$,scope:$s$$||this.scope});return $cb$$},addToTop:function($cb$$,$s$$){this.listeners.unshift({cb:$cb$$,scope:$s$$||this.scope});return $cb$$},remove:function($cb$$){var $l$$=this.listeners,$o$$=null;tinymce.each($l$$,function($c$$,$i$$){if($cb$$==$c$$.cb)return $o$$=$cb$$,$l$$.splice($i$$,1),!1});return $o$$},dispatch:function(){var $c$$2_s$$,
$a$$=arguments,$i$$,$li$$=this.listeners;for($i$$=0;$i$$<$li$$.length&&!($c$$2_s$$=$li$$[$i$$],$c$$2_s$$=$c$$2_s$$.cb.apply($c$$2_s$$.scope,$a$$),!1===$c$$2_s$$);$i$$++);return $c$$2_s$$}});
(function(){var $each$$=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function($u$$,$s$$0$$){var $t$$=this,$b_base_url$$,$u$$=tinymce.trim($u$$),$s$$0$$=$t$$.settings=$s$$0$$||{};if(/^([\w\-\+\.]+):/i.test($u$$)&&!/^https?:/i.test($u$$)||/^\s*#/.test($u$$))$t$$.source=$u$$;else if(0===$u$$.indexOf("/")&&0!==$u$$.indexOf("//")&&($u$$=($s$$0$$.base_uri?$s$$0$$.base_uri.protocol||"http":"http")+"://mce_host"+$u$$),/^[\w-]*:?\/\//.test($u$$)||($b_base_url$$=$s$$0$$.base_uri?$s$$0$$.base_uri.path:
(new tinymce.util.URI(location.href)).directory,$u$$=($s$$0$$.base_uri&&$s$$0$$.base_uri.protocol||"http")+"://mce_host"+$t$$.toAbsPath($b_base_url$$,$u$$)),$u$$=$u$$.replace(/@@/g,"(mce_at)"),$u$$=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec($u$$),$each$$("source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),
function($v$$,$i$$){var $s$$=$u$$[$i$$];$s$$&&($s$$=$s$$.replace(/\(mce_at\)/g,"@@"));$t$$[$v$$]=$s$$}),$b_base_url$$=$s$$0$$.base_uri){$t$$.protocol||($t$$.protocol=$b_base_url$$.protocol);$t$$.userInfo||($t$$.userInfo=$b_base_url$$.userInfo);!$t$$.port&&"mce_host"==$t$$.host&&($t$$.port=$b_base_url$$.port);if(!$t$$.host||"mce_host"==$t$$.host)$t$$.host=$b_base_url$$.host;$t$$.source=""}},setPath:function($p$$){$p$$=/^(.*?)\/?(\w+)?$/.exec($p$$);this.path=$p$$[0];this.directory=$p$$[1];this.file=
$p$$[2];this.source="";this.getURI()},toRelative:function($u$$){var $o$$;if("./"===$u$$)return $u$$;$u$$=new tinymce.util.URI($u$$,{base_uri:this});if("mce_host"!=$u$$.host&&this.host!=$u$$.host&&$u$$.host||this.port!=$u$$.port||this.protocol!=$u$$.protocol)return $u$$.getURI();$o$$=this.toRelPath(this.path,$u$$.path);$u$$.query&&($o$$+="?"+$u$$.query);$u$$.anchor&&($o$$+="#"+$u$$.anchor);return $o$$},toAbsolute:function($u$$,$nh$$){$u$$=new tinymce.util.URI($u$$,{base_uri:this});return $u$$.getURI(this.host==
$u$$.host&&this.protocol==$u$$.protocol?$nh$$:0)},toRelPath:function($base$$,$path$$){var $items$$,$bp$$=0,$out$$="",$i$$,$l$$,$base$$=$base$$.substring(0,$base$$.lastIndexOf("/")),$base$$=$base$$.split("/");$items$$=$path$$.split("/");if($base$$.length>=$items$$.length){$i$$=0;for($l$$=$base$$.length;$i$$<$l$$;$i$$++)if($i$$>=$items$$.length||$base$$[$i$$]!=$items$$[$i$$]){$bp$$=$i$$+1;break}}if($base$$.length<$items$$.length){$i$$=0;for($l$$=$items$$.length;$i$$<$l$$;$i$$++)if($i$$>=$base$$.length||
$base$$[$i$$]!=$items$$[$i$$]){$bp$$=$i$$+1;break}}if(1==$bp$$)return $path$$;$i$$=0;for($l$$=$base$$.length-($bp$$-1);$i$$<$l$$;$i$$++)$out$$+="../";$i$$=$bp$$-1;for($l$$=$items$$.length;$i$$<$l$$;$i$$++)$out$$=$i$$!=$bp$$-1?$out$$+("/"+$items$$[$i$$]):$out$$+$items$$[$i$$];return $out$$},toAbsPath:function($base$$,$path$$){var $i$$,$nb$$=0,$o$$=[],$tr$$;$tr$$=/\/$/.test($path$$)?"/":"";$base$$=$base$$.split("/");$path$$=$path$$.split("/");$each$$($base$$,function($k$$){$k$$&&$o$$.push($k$$)});$base$$=
$o$$;$i$$=$path$$.length-1;for($o$$=[];0<=$i$$;$i$$--)0==$path$$[$i$$].length||"."==$path$$[$i$$]||(".."==$path$$[$i$$]?$nb$$++:0<$nb$$?$nb$$--:$o$$.push($path$$[$i$$]));$i$$=$base$$.length-$nb$$;$i$$=0>=$i$$?$o$$.reverse().join("/"):$base$$.slice(0,$i$$).join("/")+"/"+$o$$.reverse().join("/");0!==$i$$.indexOf("/")&&($i$$="/"+$i$$);$tr$$&&$i$$.lastIndexOf("/")!==$i$$.length-1&&($i$$+=$tr$$);return $i$$},getURI:function($nh$$){var $s$$;if(!this.source||$nh$$)$s$$="",$nh$$||(this.protocol&&($s$$+=this.protocol+
"://"),this.userInfo&&($s$$+=this.userInfo+"@"),this.host&&($s$$+=this.host),this.port&&($s$$+=":"+this.port)),$s$$=this.path?$s$$+this.path:$s$$+"/",this.query&&($s$$+="?"+this.query),this.anchor&&($s$$+="#"+this.anchor),this.source=$s$$;return this.source}})})();
(function(){var $each$$=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function($n$$12_v$$){var $n$$12_v$$=this.get($n$$12_v$$),$h$$;$n$$12_v$$&&$each$$($n$$12_v$$.split("&"),function($v$$){$v$$=$v$$.split("=");$h$$=$h$$||{};$h$$[unescape($v$$[0])]=unescape($v$$[1])});return $h$$},setHash:function($n$$,$v$$0$$,$e$$,$p$$,$d$$,$s$$){var $o$$="";$each$$($v$$0$$,function($v$$,$k$$){$o$$+=(!$o$$?"":"&")+escape($k$$)+"="+escape($v$$)});this.set($n$$,$o$$,$e$$,$p$$,$d$$,$s$$)},get:function($e$$10_n$$){var $c$$=
document.cookie,$p$$=$e$$10_n$$+"=",$b$$;if($c$$){$b$$=$c$$.indexOf("; "+$p$$);if(-1==$b$$){if($b$$=$c$$.indexOf($p$$),0!=$b$$)return null}else $b$$+=2;$e$$10_n$$=$c$$.indexOf(";",$b$$);-1==$e$$10_n$$&&($e$$10_n$$=$c$$.length);return unescape($c$$.substring($b$$+$p$$.length,$e$$10_n$$))}},set:function($n$$,$v$$,$e$$,$p$$,$d$$,$s$$){document.cookie=$n$$+"="+escape($v$$)+($e$$?"; expires="+$e$$.toGMTString():"")+($p$$?"; path="+escape($p$$):"")+($d$$?"; domain="+$d$$:"")+($s$$?"; secure":"")},remove:function($n$$,
$p$$){var $d$$=new Date;$d$$.setTime($d$$.getTime()-1E3);this.set($n$$,"",$d$$,$p$$,$d$$)}})})();
(function(){function $serialize$$($o$$,$quote$$){var $i$$,$v$$,$t$$,$quote$$=$quote$$||'"';if(null==$o$$)return"null";$t$$=typeof $o$$;if("string"==$t$$)return $v$$="\u0008b\tt\nn\u000cf\rr\"\"''\\\\",$quote$$+$o$$.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function($a$$,$b$$){if('"'===$quote$$&&"'"===$a$$)return $a$$;$i$$=$v$$.indexOf($b$$);if($i$$+1)return"\\"+$v$$.charAt($i$$+1);$a$$=$b$$.charCodeAt().toString(16);return"\\u"+"0000".substring($a$$.length)+$a$$})+$quote$$;if("object"==$t$$){if($o$$.hasOwnProperty&&
$o$$ instanceof Array){$i$$=0;for($v$$="[";$i$$<$o$$.length;$i$$++)$v$$+=(0<$i$$?",":"")+$serialize$$($o$$[$i$$],$quote$$);return $v$$+"]"}$v$$="{";for($i$$ in $o$$)$v$$+="function"!=typeof $o$$[$i$$]?(1<$v$$.length?","+$quote$$:$quote$$)+$i$$+$quote$$+":"+$serialize$$($o$$[$i$$],$quote$$):"";return $v$$+"}"}return""+$o$$}tinymce.util.JSON={serialize:$serialize$$,parse:function $tinymce$util$JSON$parse$($s$$){try{return eval("("+$s$$+")")}catch($ex$$){}}}})();
tinymce.create("static tinymce.util.XHR",{send:function($o$$){function $get$$($s$$){$x$$=0;try{$x$$=new ActiveXObject($s$$)}catch($ex$$){}return $x$$}var $x$$,$w$$=window,$c$$=0;$o$$.scope=$o$$.scope||this;$o$$.success_scope=$o$$.success_scope||$o$$.scope;$o$$.error_scope=$o$$.error_scope||$o$$.scope;$o$$.async=!1===$o$$.async?!1:!0;$o$$.data=$o$$.data||"";if($x$$=$w$$.XMLHttpRequest?new XMLHttpRequest:$get$$("Microsoft.XMLHTTP")||$get$$("Msxml2.XMLHTTP")){$x$$.overrideMimeType&&$x$$.overrideMimeType($o$$.content_type);
$x$$.open($o$$.type||($o$$.data?"POST":"GET"),$o$$.url,$o$$.async);$o$$.content_type&&$x$$.setRequestHeader("Content-Type",$o$$.content_type);$x$$.setRequestHeader("X-Requested-With","XMLHttpRequest");$x$$.send($o$$.data);var $ready$$=function $$ready$$$(){!$o$$.async||4==$x$$.readyState||1E4<$c$$++?($o$$.success&&1E4>$c$$&&200==$x$$.status?$o$$.success.call($o$$.success_scope,""+$x$$.responseText,$x$$,$o$$):$o$$.error&&$o$$.error.call($o$$.error_scope,1E4<$c$$?"TIMED_OUT":"GENERAL",$x$$,$o$$),$x$$=
null):$w$$.setTimeout($ready$$,10)};if(!$o$$.async)return $ready$$();$w$$.setTimeout($ready$$,10)}}});
(function(){var $extend$$=tinymce.extend,$JSON$$=tinymce.util.JSON,$XHR$$=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function($s$$){this.settings=$extend$$({},$s$$);this.count=0},send:function($o$$){var $ecb$$=$o$$.error,$scb$$=$o$$.success,$o$$=$extend$$(this.settings,$o$$);$o$$.success=function $$o$$$success$($c$$,$x$$){$c$$=$JSON$$.parse($c$$);"undefined"==typeof $c$$&&($c$$={error:"JSON Parse error."});$c$$.error?$ecb$$.call($o$$.error_scope||$o$$.scope,$c$$.error,
$x$$):$scb$$.call($o$$.success_scope||$o$$.scope,$c$$.result)};$o$$.error=function $$o$$$error$($ty$$,$x$$){$ecb$$&&$ecb$$.call($o$$.error_scope||$o$$.scope,$ty$$,$x$$)};$o$$.data=$JSON$$.serialize({id:$o$$.id||"c"+this.count++,method:$o$$.method,params:$o$$.params});$o$$.content_type="application/json";$XHR$$.send($o$$)},"static":{sendRPC:function($o$$){return(new tinymce.util.JSONRequest).send($o$$)}}})})();
(function($tinymce$$){$tinymce$$.VK={DELETE:46,BACKSPACE:8,ENTER:13,TAB:9,SPACEBAR:32,UP:38,DOWN:40,modifierPressed:function $$tinymce$$$VK$modifierPressed$($e$$){return $e$$.shiftKey||$e$$.ctrlKey||$e$$.altKey}}})(tinymce);
(function($tinymce$$){function $each$$($obj$$,$callback$$){var $length$$,$key$$,$i$$,$value$$;if($obj$$)if($length$$=$obj$$.length,void 0===$length$$)for($key$$ in $obj$$){if($obj$$.hasOwnProperty($key$$)&&($value$$=$obj$$[$key$$],!1===$callback$$.call($value$$,$value$$,$key$$)))break}else for($i$$=0;$i$$<$length$$&&!($value$$=$obj$$[$i$$],!1===$callback$$.call($value$$,$value$$,$key$$));$i$$++);return $obj$$}function $cleanupStylesWhenDeleting$$($ed$$0$$){var $dom$$=$ed$$0$$.dom,$selection$$=$ed$$0$$.selection;
$ed$$0$$.onKeyDown.add(function($ed$$,$e$$){var $rng$$,$blockElm_node$$,$clonedSpan$$,$isDelete$$;if((($isDelete$$=$e$$.keyCode==$DELETE$$)||$e$$.keyCode==$BACKSPACE$$)&&!$VK$$.modifierPressed($e$$))$e$$.preventDefault(),$rng$$=$selection$$.getRng(),$blockElm_node$$=$dom$$.getParent($rng$$.startContainer,$dom$$.isBlock),$isDelete$$&&($blockElm_node$$=$dom$$.getNext($blockElm_node$$,$dom$$.isBlock)),$blockElm_node$$&&($blockElm_node$$=$blockElm_node$$.firstChild)&&"SPAN"===$blockElm_node$$.nodeName&&
($clonedSpan$$=$blockElm_node$$.cloneNode(!1)),$ed$$.getDoc().execCommand($isDelete$$?"ForwardDelete":"Delete",!1,null),$blockElm_node$$=$dom$$.getParent($rng$$.startContainer,$dom$$.isBlock),$tinymce$$.each($dom$$.select("span.Apple-style-span,font.Apple-style-span",$blockElm_node$$),function($span$$){var $rng$$=$dom$$.createRng();$rng$$.setStartBefore($span$$);$rng$$.setEndBefore($span$$);$clonedSpan$$?$dom$$.replace($clonedSpan$$.cloneNode(false),$span$$,true):$dom$$.remove($span$$,true);$selection$$.setRng($rng$$)})})}
function $emptyEditorWhenDeleting$$($ed$$0$$){function $serializeRng$$($contents_rng$$){var $body$$=$dom$$.create("body"),$contents_rng$$=$contents_rng$$.cloneContents();$body$$.appendChild($contents_rng$$);return $ed$$0$$.selection.serializer.serialize($body$$,{format:"html"})}var $dom$$=$ed$$0$$.dom;$ed$$0$$.onKeyDown.add(function($ed$$,$e$$){var $JSCompiler_temp$$4_isCollapsed_keyCode_rng$$inline_6_selection$$=$e$$.keyCode;if($JSCompiler_temp$$4_isCollapsed_keyCode_rng$$inline_6_selection$$==$DELETE$$||
$JSCompiler_temp$$4_isCollapsed_keyCode_rng$$inline_6_selection$$==$BACKSPACE$$)if($JSCompiler_temp$$4_isCollapsed_keyCode_rng$$inline_6_selection$$=$ed$$.selection.isCollapsed(),!$JSCompiler_temp$$4_isCollapsed_keyCode_rng$$inline_6_selection$$||$dom$$.isEmpty($ed$$.getBody()))if(!$tinymce$$.isIE||$tinymce$$.isIE11||$JSCompiler_temp$$4_isCollapsed_keyCode_rng$$inline_6_selection$$){if($JSCompiler_temp$$4_isCollapsed_keyCode_rng$$inline_6_selection$$=!$JSCompiler_temp$$4_isCollapsed_keyCode_rng$$inline_6_selection$$){var $JSCompiler_temp$$4_isCollapsed_keyCode_rng$$inline_6_selection$$=
$ed$$.selection.getRng(),$JSCompiler_temp$$4_isCollapsed_keyCode_rng$$inline_6_selection$$=$serializeRng$$($JSCompiler_temp$$4_isCollapsed_keyCode_rng$$inline_6_selection$$),$allRng$$inline_8_allSelection$$=$dom$$.createRng();$allRng$$inline_8_allSelection$$.selectNode($ed$$0$$.getBody());$allRng$$inline_8_allSelection$$=$serializeRng$$($allRng$$inline_8_allSelection$$);$JSCompiler_temp$$4_isCollapsed_keyCode_rng$$inline_6_selection$$=$JSCompiler_temp$$4_isCollapsed_keyCode_rng$$inline_6_selection$$!==
$allRng$$inline_8_allSelection$$}$JSCompiler_temp$$4_isCollapsed_keyCode_rng$$inline_6_selection$$||($e$$.preventDefault(),$ed$$.setContent(""),$ed$$.selection.setCursorLocation($ed$$.getBody(),0),$ed$$.nodeChanged())}})}function $renderEmptyBlocksFix$$($ed$$){$ed$$.onInit.add(function(){$each$$("p div h1 h2 h3 h4 h5 h6".split(" "),function($name$$){tinyMCE.DOM.setStyle(tinyMCE.activeEditor.dom.select($name$$),"padding-right","1px !important")})})}function $createEmptyFirstNode$$($ed$$){$j($ed$$.getBody()).focus(function(){0==
$ed$$.getBody().textContent.length&&($ed$$.getBody().textContent="\u200c")})}var $VK$$=$tinymce$$.VK,$BACKSPACE$$=$VK$$.BACKSPACE,$DELETE$$=$VK$$.DELETE;$tinymce$$.create("tinymce.util.Quirks",{Quirks:function($ed$$){$tinymce$$.isWebKit&&($cleanupStylesWhenDeleting$$($ed$$),$emptyEditorWhenDeleting$$($ed$$),$tinymce$$.isIDevice&&$createEmptyFirstNode$$($ed$$));$tinymce$$.isIE&&!$tinymce$$.isIE11&&($emptyEditorWhenDeleting$$($ed$$),$tinymce$$.isIE10&&$renderEmptyBlocksFix$$($ed$$))}})})(tinymce);
(function($tinymce$$){function $buildEntitiesLookup$$($items$$,$radix$$){var $i$$,$chr$$,$entity$$,$lookup$$={};if($items$$){$items$$=$items$$.split(",");$radix$$=$radix$$||10;for($i$$=0;$i$$<$items$$.length;$i$$+=2)$chr$$=String.fromCharCode(parseInt($items$$[$i$$],$radix$$)),$baseEntities$$[$chr$$]||($entity$$="&"+$items$$[$i$$+1]+";",$lookup$$[$chr$$]=$entity$$,$lookup$$[$entity$$]=$chr$$);return $lookup$$}}var $namedEntities$$,$baseEntities$$,$reverseEntities$$,$attrsCharsRegExp$$=/[&<>\"\u007E-\uD7FF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
$textCharsRegExp$$=/[<>&\u007E-\uD7FF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$rawCharsRegExp$$=/[<>&\"\']/g,$entityRegExp$$=/&(#x|#)?([\w]+);/g,$asciiMap$$={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};
$baseEntities$$={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"};$reverseEntities$$={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};$namedEntities$$=$buildEntitiesLookup$$("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
32);$tinymce$$.html=$tinymce$$.html||{};$tinymce$$.html.Entities={encodeRaw:function $$tinymce$$$html$Entities$encodeRaw$($text$$,$attr$$){return $text$$.replace($attr$$?$attrsCharsRegExp$$:$textCharsRegExp$$,function($chr$$){return $baseEntities$$[$chr$$]||$chr$$})},encodeAllRaw:function $$tinymce$$$html$Entities$encodeAllRaw$($text$$){return(""+$text$$).replace($rawCharsRegExp$$,function($chr$$){return $baseEntities$$[$chr$$]||$chr$$})},encodeNumeric:function $$tinymce$$$html$Entities$encodeNumeric$($text$$,
$attr$$){return $text$$.replace($attr$$?$attrsCharsRegExp$$:$textCharsRegExp$$,function($chr$$){return 1<$chr$$.length?"&#"+(1024*($chr$$.charCodeAt(0)-55296)+($chr$$.charCodeAt(1)-56320)+65536)+";":$baseEntities$$[$chr$$]||"&#"+$chr$$.charCodeAt(0)+";"})},encodeNamed:function $$tinymce$$$html$Entities$encodeNamed$($text$$,$attr$$,$entities$$){$entities$$=$entities$$||$namedEntities$$;return $text$$.replace($attr$$?$attrsCharsRegExp$$:$textCharsRegExp$$,function($chr$$){return $baseEntities$$[$chr$$]||
$entities$$[$chr$$]||$chr$$})},getEncodeFunc:function $$tinymce$$$html$Entities$getEncodeFunc$($name$$,$entities$$){function $encodeNamedAndNumeric$$($text$$,$attr$$){return $text$$.replace($attr$$?$attrsCharsRegExp$$:$textCharsRegExp$$,function($chr$$){return $baseEntities$$[$chr$$]||$entities$$[$chr$$]||"&#"+$chr$$.charCodeAt(0)+";"||$chr$$})}function $encodeCustomNamed$$($text$$,$attr$$){return $Entities$$.encodeNamed($text$$,$attr$$,$entities$$)}var $Entities$$=$tinymce$$.html.Entities,$entities$$=
$buildEntitiesLookup$$($entities$$)||$namedEntities$$,$name$$=$tinymce$$.makeMap($name$$.replace(/\+/g,","));return $name$$.named&&$name$$.numeric?$encodeNamedAndNumeric$$:$name$$.named?$entities$$?$encodeCustomNamed$$:$Entities$$.encodeNamed:$name$$.numeric?$Entities$$.encodeNumeric:$Entities$$.encodeRaw},decode:function $$tinymce$$$html$Entities$decode$($text$$){return $text$$.replace($entityRegExp$$,function($all$$,$JSCompiler_temp$$1_JSCompiler_temp$$2_elm$$,$value$$){if($JSCompiler_temp$$1_JSCompiler_temp$$2_elm$$)return $value$$=
parseInt($value$$,2===$JSCompiler_temp$$1_JSCompiler_temp$$2_elm$$.length?16:10),65535<$value$$?($value$$-=65536,String.fromCharCode(55296+($value$$>>10),56320+($value$$&1023))):$asciiMap$$[$value$$]||String.fromCharCode($value$$);if(!($JSCompiler_temp$$1_JSCompiler_temp$$2_elm$$=$reverseEntities$$[$all$$]))if(!($JSCompiler_temp$$1_JSCompiler_temp$$2_elm$$=$namedEntities$$[$all$$]))$JSCompiler_temp$$1_JSCompiler_temp$$2_elm$$=document.createElement("div"),$JSCompiler_temp$$1_JSCompiler_temp$$2_elm$$.innerHTML=
$all$$,$JSCompiler_temp$$1_JSCompiler_temp$$2_elm$$=$JSCompiler_temp$$1_JSCompiler_temp$$2_elm$$.textContent||$JSCompiler_temp$$1_JSCompiler_temp$$2_elm$$.innerText||$all$$;return $JSCompiler_temp$$1_JSCompiler_temp$$2_elm$$})}}})(tinymce);
tinymce.html.Styles=function $tinymce$html$Styles$($settings$$,$schema$$){function $toHex$$($match$$,$r$$,$g$$,$b$$){function $hex$$($val$$){$val$$=parseInt($val$$).toString(16);return 1<$val$$.length?$val$$:"0"+$val$$}return"#"+$hex$$($r$$)+$hex$$($g$$)+$hex$$($b$$)}var $rgbRegExp$$=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,$urlOrStrRegExp$$=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,$styleRegExp$$=
/\s*([^:]+):\s*([^;]+);?/g,$trimRightRegExp$$=/\s+$/,$i$$0$$,$encodingLookup$$={},$encodingItems$$,$settings$$=$settings$$||{};$encodingItems$$="\\\" \\' \\; \\: ; : \ufeff".split(" ");for($i$$0$$=0;$i$$0$$<$encodingItems$$.length;$i$$0$$++)$encodingLookup$$[$encodingItems$$[$i$$0$$]]="\ufeff"+$i$$0$$,$encodingLookup$$["\ufeff"+$i$$0$$]=$encodingItems$$[$i$$0$$];return{toHex:function($color$$){return $color$$.replace($rgbRegExp$$,$toHex$$)},parse:function($css$$){function $compress$$($prefix$$,$suffix$$){var $bottom$$1_top$$,
$left$$3_right$$;if($bottom$$1_top$$=$styles$$[$prefix$$+"-top"+$suffix$$])$left$$3_right$$=$styles$$[$prefix$$+"-right"+$suffix$$],$bottom$$1_top$$==$left$$3_right$$&&($bottom$$1_top$$=$styles$$[$prefix$$+"-bottom"+$suffix$$],$left$$3_right$$==$bottom$$1_top$$&&($left$$3_right$$=$styles$$[$prefix$$+"-left"+$suffix$$],$bottom$$1_top$$==$left$$3_right$$&&($styles$$[$prefix$$+$suffix$$]=$left$$3_right$$,delete $styles$$[$prefix$$+"-top"+$suffix$$],delete $styles$$[$prefix$$+"-right"+$suffix$$],delete $styles$$[$prefix$$+
"-bottom"+$suffix$$],delete $styles$$[$prefix$$+"-left"+$suffix$$])))}function $canCompress$$($key$$){var $value$$=$styles$$[$key$$],$i$$;if($value$$&&!(0>$value$$.indexOf(" "))){$value$$=$value$$.split(" ");for($i$$=$value$$.length;$i$$--;)if($value$$[$i$$]!==$value$$[0])return!1;$styles$$[$key$$]=$value$$[0];return!0}}function $compress2$$($target$$,$a$$,$b$$,$c$$){$canCompress$$($a$$)&&($canCompress$$($b$$)&&$canCompress$$($c$$))&&($styles$$[$target$$]=$styles$$[$a$$]+" "+$styles$$[$b$$]+" "+$styles$$[$c$$],
delete $styles$$[$a$$],delete $styles$$[$b$$],delete $styles$$[$c$$])}function $encode$$($str$$){$isEncoded$$=!0;return $encodingLookup$$[$str$$]}function $decode$$($str$$0$$,$keep_slashes$$){$isEncoded$$&&($str$$0$$=$str$$0$$.replace(/\uFEFF[0-9]/g,function($str$$){return $encodingLookup$$[$str$$]}));$keep_slashes$$||($str$$0$$=$str$$0$$.replace(/\\([\'\";:])/g,"$1"));return $str$$0$$}var $styles$$={},$matches$$,$name$$,$value$$0$$,$isEncoded$$,$urlConverter$$=$settings$$.url_converter,$urlConverterScope$$=
$settings$$.url_converter_scope||this;if($css$$){for($css$$=$css$$.replace(/\\[\"\';:\uFEFF]/g,$encode$$).replace(/\"[^\"]+\"|\'[^\']+\'/g,function($str$$){return $str$$.replace(/[;:]/g,$encode$$)});$matches$$=$styleRegExp$$.exec($css$$);){$name$$=$matches$$[1].replace($trimRightRegExp$$,"").toLowerCase();$value$$0$$=$matches$$[2].replace($trimRightRegExp$$,"");if($name$$&&0<$value$$0$$.length){if("font-weight"===$name$$&&"700"===$value$$0$$)$value$$0$$="bold";else if("color"===$name$$||"background-color"===
$name$$)$value$$0$$=$value$$0$$.toLowerCase();$value$$0$$=$value$$0$$.replace($rgbRegExp$$,$toHex$$);$value$$0$$=$value$$0$$.replace($urlOrStrRegExp$$,function($match$$,$url$$,$url2$$,$url3$$,$str$$,$str2$$){if($str$$=$str$$||$str2$$)return $str$$=$decode$$($str$$),"'"+$str$$.replace(/\'/g,"\\'")+"'";$url$$=$decode$$($url$$||$url2$$||$url3$$);$urlConverter$$&&($url$$=$urlConverter$$.call($urlConverterScope$$,$url$$,"style"));return"url('"+$url$$.replace(/\'/g,"\\'")+"')"});$styles$$[$name$$]=$isEncoded$$?
$decode$$($value$$0$$,!0):$value$$0$$}$styleRegExp$$.lastIndex=$matches$$.index+$matches$$[0].length}$compress$$("border","");$compress$$("border","-width");$compress$$("border","-color");$compress$$("border","-style");$compress$$("padding","");$compress$$("margin","");$compress2$$("border","border-width","border-style","border-color");"medium none"===$styles$$.border&&delete $styles$$.border}return $styles$$},serialize:function($styles$$,$element_name$$){function $serializeStyles$$($name$$){var $styleList$$,
$i$$,$l$$,$value$$;if($styleList$$=$schema$$.styles[$name$$]){$i$$=0;for($l$$=$styleList$$.length;$i$$<$l$$;$i$$++)$name$$=$styleList$$[$i$$],$value$$=$styles$$[$name$$],void 0!==$value$$&&0<$value$$.length&&($css$$+=(0<$css$$.length?" ":"")+$name$$+": "+$value$$+";")}}var $css$$="",$name$$0$$,$value$$0$$;if($element_name$$&&$schema$$&&$schema$$.styles)$serializeStyles$$("*"),$serializeStyles$$($element_name$$);else for($name$$0$$ in $styles$$)$value$$0$$=$styles$$[$name$$0$$],void 0!==$value$$0$$&&
0<$value$$0$$.length&&($css$$+=(0<$css$$.length?" ":"")+$name$$0$$+": "+$value$$0$$+";");return $css$$}}};
(function($tinymce$$){function $split$$($str$$,$delim$$){return $str$$.split($delim$$||",")}var $transitional$$={},$boolAttrMap$$,$blockElementsMap$$,$shortEndedElementsMap$$,$nonEmptyElementsMap$$,$customElementsMap$$={},$defaultWhiteSpaceElementsMap$$,$selfClosingElementsMap$$,$makeMap$$=$tinymce$$.makeMap,$each$$=$tinymce$$.each;$blockElementsMap$$="h1,h2,h3,h4,h5,h6,hr,p,div,address,pre,form,table,tbody,thead,tfoot,th,tr,td,li,ol,ul,caption,blockquote,center,dl,dt,dd,dir,fieldset,noscript,menu,isindex,samp,header,footer,article,section,hgroup";$blockElementsMap$$=
$makeMap$$($blockElementsMap$$,",",$makeMap$$($blockElementsMap$$.toUpperCase()));$transitional$$=function unpack($lookup$$,$data$$){function $replace$$($value$$){return $value$$.replace(/[A-Z]+/g,function($key$$){return $replace$$($lookup$$[$key$$])})}var $key$$0$$,$elements$$={};for($key$$0$$ in $lookup$$)$lookup$$.hasOwnProperty($key$$0$$)&&($lookup$$[$key$$0$$]=$replace$$($lookup$$[$key$$0$$]));$replace$$($data$$).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function($str$$,
$name$$,$attributes$$,$children$$){$attributes$$=$split$$($attributes$$,"|");$elements$$[$name$$]={attributes:$makeMap$$($attributes$$),attributesOrder:$attributes$$,children:$makeMap$$($children$$,"|",{"#comment":{}})}});return $elements$$}({Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",
ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",
B:"lang|xml:lang|dir",A:"id|class|style|title"},"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]");
$boolAttrMap$$=$makeMap$$("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected,autoplay,loop,controls");$shortEndedElementsMap$$=$makeMap$$("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,source");$nonEmptyElementsMap$$=$tinymce$$.extend($makeMap$$("td,th,iframe,video,audio,object"),$shortEndedElementsMap$$);$defaultWhiteSpaceElementsMap$$=$makeMap$$("pre,script,style,textarea");$selfClosingElementsMap$$=$makeMap$$("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");
$tinymce$$.html.Schema=function $$tinymce$$$html$Schema$($settings$$){function $addValidElements$$($valid_elements$$){var $ei$$,$el$$,$ai$$,$al$$,$matches$$1_value$$,$element$$,$attr$$,$attrData$$,$elementName$$,$attrName$$,$attrType$$,$attributes$$,$attributesOrder$$,$prefix$$,$outputName$$,$globalAttributes$$,$globalAttributesOrder$$,$key$$,$elementRuleRegExp$$=/^([#+-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/,$attrRuleRegExp$$=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,$hasPatternsRegExp$$=
/[*?+]/;if($valid_elements$$){$valid_elements$$=$split$$($valid_elements$$);$elements$$["@"]&&($globalAttributes$$=$elements$$["@"].attributes,$globalAttributesOrder$$=$elements$$["@"].attributesOrder);$ei$$=0;for($el$$=$valid_elements$$.length;$ei$$<$el$$;$ei$$++)if($matches$$1_value$$=$elementRuleRegExp$$.exec($valid_elements$$[$ei$$])){$prefix$$=$matches$$1_value$$[1];$elementName$$=$matches$$1_value$$[2];$outputName$$=$matches$$1_value$$[3];$attrData$$=$matches$$1_value$$[4];$attributes$$={};
$attributesOrder$$=[];$element$$={attributes:$attributes$$,attributesOrder:$attributesOrder$$};"#"===$prefix$$&&($element$$.paddEmpty=!0);"-"===$prefix$$&&($element$$.removeEmpty=!0);if($globalAttributes$$){for($key$$ in $globalAttributes$$)$attributes$$[$key$$]=$globalAttributes$$[$key$$];$attributesOrder$$.push.apply($attributesOrder$$,$globalAttributesOrder$$)}if($attrData$$){$attrData$$=$split$$($attrData$$,"|");$ai$$=0;for($al$$=$attrData$$.length;$ai$$<$al$$;$ai$$++)if($matches$$1_value$$=$attrRuleRegExp$$.exec($attrData$$[$ai$$]))if($attr$$=
{},$attrType$$=$matches$$1_value$$[1],$attrName$$=$matches$$1_value$$[2].replace(/::/g,":"),$prefix$$=$matches$$1_value$$[3],$matches$$1_value$$=$matches$$1_value$$[4],"!"===$attrType$$&&($element$$.attributesRequired=$element$$.attributesRequired||[],$element$$.attributesRequired.push($attrName$$),$attr$$.required=!0),"-"===$attrType$$)delete $attributes$$[$attrName$$],$attributesOrder$$.splice($tinymce$$.inArray($attributesOrder$$,$attrName$$),1);else{if($prefix$$&&("="===$prefix$$&&($element$$.attributesDefault=
$element$$.attributesDefault||[],$element$$.attributesDefault.push({name:$attrName$$,value:$matches$$1_value$$}),$attr$$.defaultValue=$matches$$1_value$$),":"===$prefix$$&&($element$$.attributesForced=$element$$.attributesForced||[],$element$$.attributesForced.push({name:$attrName$$,value:$matches$$1_value$$}),$attr$$.forcedValue=$matches$$1_value$$),"<"===$prefix$$))$attr$$.validValues=$makeMap$$($matches$$1_value$$,"?");$hasPatternsRegExp$$.test($attrName$$)?($element$$.attributePatterns=$element$$.attributePatterns||
[],$attr$$.pattern=RegExp("^"+$attrName$$.replace(/([?+*])/g,".$1")+"$"),$element$$.attributePatterns.push($attr$$)):($attributes$$[$attrName$$]||$attributesOrder$$.push($attrName$$),$attributes$$[$attrName$$]=$attr$$)}}!$globalAttributes$$&&"@"==$elementName$$&&($globalAttributes$$=$attributes$$,$globalAttributesOrder$$=$attributesOrder$$);$outputName$$&&($element$$.outputName=$elementName$$,$elements$$[$outputName$$]=$element$$);$hasPatternsRegExp$$.test($elementName$$)?($element$$.pattern=RegExp("^"+
$elementName$$.replace(/([?+*])/g,".$1")+"$"),$patternElements$$.push($element$$)):$elements$$[$elementName$$]=$element$$}}}function $setValidElements$$($valid_elements$$){$elements$$={};$patternElements$$=[];$addValidElements$$($valid_elements$$);$each$$($transitional$$,function($element$$,$name$$){$children$$[$name$$]=$element$$.children})}function $addCustomElements$$($custom_elements$$){var $customElementRegExp$$=/^(~)?(.+)$/;$custom_elements$$&&$each$$($split$$($custom_elements$$),function($matches$$2_rule$$){var $matches$$2_rule$$=
$customElementRegExp$$.exec($matches$$2_rule$$),$inline$$="~"===$matches$$2_rule$$[1],$cloneName$$=$inline$$?"span":"div",$name$$=$matches$$2_rule$$[2];$children$$[$name$$]=$children$$[$cloneName$$];$customElementsMap$$[$name$$]=$cloneName$$;$inline$$||($blockElementsMap$$[$name$$]={});$each$$($children$$,function($element$$){$element$$[$cloneName$$]&&($element$$[$name$$]=$element$$[$cloneName$$])})})}function $addValidChildren$$($valid_children$$){var $childRuleRegExp$$=/^([+\-]?)(\w+)\[([^\]]+)\]$/;
$valid_children$$&&$each$$($split$$($valid_children$$),function($matches$$3_rule$$){var $matches$$3_rule$$=$childRuleRegExp$$.exec($matches$$3_rule$$),$parent$$,$prefix$$;$matches$$3_rule$$&&($parent$$=($prefix$$=$matches$$3_rule$$[1])?$children$$[$matches$$3_rule$$[2]]:$children$$[$matches$$3_rule$$[2]]={"#comment":{}},$parent$$=$children$$[$matches$$3_rule$$[2]],$each$$($split$$($matches$$3_rule$$[3],"|"),function($child$$){"-"===$prefix$$?delete $parent$$[$child$$]:$parent$$[$child$$]={}}))})}
function $getElementRule$$($name$$){var $element$$=$elements$$[$name$$],$i$$;if($element$$)return $element$$;for($i$$=$patternElements$$.length;$i$$--;)if($element$$=$patternElements$$[$i$$],$element$$.pattern.test($name$$))return $element$$}var $elements$$={},$children$$={},$patternElements$$=[],$validStyles$$,$whiteSpaceElementsMap$$,$settings$$=$settings$$||{};!1===$settings$$.verify_html&&($settings$$.valid_elements="*[*]");$settings$$.valid_styles&&($validStyles$$={},$each$$($settings$$.valid_styles,
function($value$$,$key$$){$validStyles$$[$key$$]=$tinymce$$.explode($value$$)}));$whiteSpaceElementsMap$$=$settings$$.whitespace_elements?$makeMap$$($settings$$.whitespace_elements):$defaultWhiteSpaceElementsMap$$;$settings$$.valid_elements?$setValidElements$$($settings$$.valid_elements):($each$$($transitional$$,function($element$$,$name$$){$elements$$[$name$$]={attributes:$element$$.attributes,attributesOrder:$element$$.attributesOrder};$children$$[$name$$]=$element$$.children}),$each$$($split$$("strong/b,em/i"),
function($item$$){$item$$=$split$$($item$$,"/");$elements$$[$item$$[1]].outputName=$item$$[0]}),$elements$$.img.attributesDefault=[{name:"alt",value:""}],$each$$($split$$("ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr"),function($name$$){$elements$$[$name$$].removeEmpty=true}),$each$$($split$$("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function($name$$){$elements$$[$name$$].paddEmpty=true}));$addCustomElements$$($settings$$.custom_elements);$addValidChildren$$($settings$$.valid_children);
$addValidElements$$($settings$$.extended_valid_elements);$addValidChildren$$("+ol[ul|ol],+ul[ul|ol]");$getElementRule$$("span")||$addValidElements$$("span[!data-mce-type|*]");$settings$$.invalid_elements&&$tinymce$$.each($tinymce$$.explode($settings$$.invalid_elements),function($item$$){$elements$$[$item$$]&&delete $elements$$[$item$$]});this.children=$children$$;this.styles=$validStyles$$;this.getBoolAttrs=function $this$getBoolAttrs$(){return $boolAttrMap$$};this.getBlockElements=function $this$getBlockElements$(){return $blockElementsMap$$};
this.getShortEndedElements=function $this$getShortEndedElements$(){return $shortEndedElementsMap$$};this.getSelfClosingElements=function $this$getSelfClosingElements$(){return $selfClosingElementsMap$$};this.getNonEmptyElements=function $this$getNonEmptyElements$(){return $nonEmptyElementsMap$$};this.getWhiteSpaceElements=function $this$getWhiteSpaceElements$(){return $whiteSpaceElementsMap$$};this.isValidChild=function $this$isValidChild$($name$$,$child$$){var $parent$$=$children$$[$name$$];return!(!$parent$$||
!$parent$$[$child$$])};this.getElementRule=$getElementRule$$;this.getCustomElements=function $this$getCustomElements$(){return $customElementsMap$$};this.addValidElements=$addValidElements$$;this.setValidElements=$setValidElements$$;this.addCustomElements=$addCustomElements$$;this.addValidChildren=$addValidChildren$$};$tinymce$$.html.Schema.boolAttrMap=$boolAttrMap$$;$tinymce$$.html.Schema.blockElementsMap=$blockElementsMap$$})(tinymce);
(function($tinymce$$){$tinymce$$.html.SaxParser=function $$tinymce$$$html$SaxParser$($settings$$,$schema$$){var $self$$0$$=this,$noop$$=function $$noop$$$(){},$settings$$=$settings$$||{};$self$$0$$.schema=$schema$$=$schema$$||new $tinymce$$.html.Schema;!1!==$settings$$.fix_self_closing&&($settings$$.fix_self_closing=!0);$tinymce$$.each("comment cdata text start end pi doctype".split(" "),function($name$$){$name$$&&($self$$0$$[$name$$]=$settings$$[$name$$]||$noop$$)});$self$$0$$.parse=function $$self$$0$$$parse$($html$$){function $processEndTag$$($name$$){var $pos$$,
$i$$;for($pos$$=$stack$$.length;$pos$$--;)if($stack$$[$pos$$].name===$name$$)break;if($pos$$>=0){for($i$$=$stack$$.length-1;$i$$>=$pos$$;$i$$--){$name$$=$stack$$[$i$$];$name$$.valid&&$self$$.end($name$$.name)}$stack$$.length=$pos$$}}var $self$$=this,$matches$$,$index$$=0,$value$$0$$,$endRegExp_i$$,$stack$$=[],$attrList$$,$text$$,$name$$0$$,$isInternalElement$$,$removeInternalElements$$,$shortEndedElements$$,$fillAttrsMap$$,$validate$$,$elementRule$$,$isValidElement$$,$attr$$,$attribsValue$$,$invalidPrefixRegExp$$,
$validAttributesMap$$,$validAttributePatterns$$,$attributesRequired$$,$attributesDefault$$,$attributesForced$$,$selfClosing$$,$tokenRegExp$$,$attrRegExp$$,$specialElements$$,$idCount$$=0,$decode$$=$tinymce$$.html.Entities.decode,$fixSelfClosing$$,$isIE$$;$tokenRegExp$$=RegExp("<(?:(?:!--([\\w\\W]*?)--\>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([^\\s\\/<>]+)\\s*((?:[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*)>))",
"g");$attrRegExp$$=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:\\.|[^\"])*)\")|(?:\'((?:\\.|[^\'])*)\')|([^>\s]+)))?/g;$specialElements$$={script:/<\/script[^>]*>/gi,style:/<\/style[^>]*>/gi,noscript:/<\/noscript[^>]*>/gi};$shortEndedElements$$=$schema$$.getShortEndedElements();$selfClosing$$=$schema$$.getSelfClosingElements();$fillAttrsMap$$=$schema$$.getBoolAttrs();$validate$$=$settings$$.validate;$removeInternalElements$$=$settings$$.remove_internals;$fixSelfClosing$$=$settings$$.fix_self_closing;$isIE$$=
$tinymce$$.isIE;for($invalidPrefixRegExp$$=/^:/;$matches$$=$tokenRegExp$$.exec($html$$);){$index$$<$matches$$.index&&$self$$.text($decode$$($html$$.substr($index$$,$matches$$.index-$index$$)));if($value$$0$$=$matches$$[6]){$value$$0$$=$value$$0$$.toLowerCase();$isIE$$&&$invalidPrefixRegExp$$.test($value$$0$$)&&($value$$0$$=$value$$0$$.substr(1));$processEndTag$$($value$$0$$)}else if($value$$0$$=$matches$$[7]){$value$$0$$=$value$$0$$.toLowerCase();$isIE$$&&$invalidPrefixRegExp$$.test($value$$0$$)&&
($value$$0$$=$value$$0$$.substr(1));$index$$=$value$$0$$ in $shortEndedElements$$;$fixSelfClosing$$&&($selfClosing$$[$value$$0$$]&&$stack$$.length>0&&$stack$$[$stack$$.length-1].name===$value$$0$$)&&$processEndTag$$($value$$0$$);if(!$validate$$||($elementRule$$=$schema$$.getElementRule($value$$0$$))){$isValidElement$$=true;if($validate$$){$validAttributesMap$$=$elementRule$$.attributes;$validAttributePatterns$$=$elementRule$$.attributePatterns}if($attribsValue$$=$matches$$[8]){($isInternalElement$$=
$attribsValue$$.indexOf("data-mce-type")!==-1)&&$removeInternalElements$$&&($isValidElement$$=false);$attrList$$=[];$attrList$$.map={};$attribsValue$$.replace($attrRegExp$$,function($attrRule_match$$,$name$$,$value$$,$i$$,$val3$$){$name$$=$name$$.toLowerCase();$value$$=$name$$ in $fillAttrsMap$$?$name$$:$decode$$($value$$||$i$$||$val3$$||"");if($validate$$&&!$isInternalElement$$&&$name$$.indexOf("data-")!==0){$attrRule_match$$=$validAttributesMap$$[$name$$];if(!$attrRule_match$$&&$validAttributePatterns$$){for($i$$=
$validAttributePatterns$$.length;$i$$--;){$attrRule_match$$=$validAttributePatterns$$[$i$$];if($attrRule_match$$.pattern.test($name$$))break}$i$$===-1&&($attrRule_match$$=null)}if(!$attrRule_match$$||$attrRule_match$$.validValues&&!($value$$ in $attrRule_match$$.validValues))return}$attrList$$.map[$name$$]=$value$$;$attrList$$.push({name:$name$$,value:$value$$})})}else{$attrList$$=[];$attrList$$.map={}}if($validate$$&&!$isInternalElement$$){$attributesRequired$$=$elementRule$$.attributesRequired;
$attributesDefault$$=$elementRule$$.attributesDefault;if($attributesForced$$=$elementRule$$.attributesForced)for($endRegExp_i$$=$attributesForced$$.length;$endRegExp_i$$--;){$attr$$=$attributesForced$$[$endRegExp_i$$];$name$$0$$=$attr$$.name;$attr$$=$attr$$.value;$attr$$==="{$uid}"&&($attr$$="mce_"+$idCount$$++);$attrList$$.map[$name$$0$$]=$attr$$;$attrList$$.push({name:$name$$0$$,value:$attr$$})}if($attributesDefault$$)for($endRegExp_i$$=$attributesDefault$$.length;$endRegExp_i$$--;){$attr$$=$attributesDefault$$[$endRegExp_i$$];
$name$$0$$=$attr$$.name;if(!($name$$0$$ in $attrList$$.map)){$attr$$=$attr$$.value;$attr$$==="{$uid}"&&($attr$$="mce_"+$idCount$$++);$attrList$$.map[$name$$0$$]=$attr$$;$attrList$$.push({name:$name$$0$$,value:$attr$$})}}if($attributesRequired$$){for($endRegExp_i$$=$attributesRequired$$.length;$endRegExp_i$$--;)if($attributesRequired$$[$endRegExp_i$$]in $attrList$$.map)break;$endRegExp_i$$===-1&&($isValidElement$$=false)}$attrList$$.map["data-mce-bogus"]&&($isValidElement$$=false)}$isValidElement$$&&
$self$$.start($value$$0$$,$attrList$$,$index$$)}else $isValidElement$$=false;if($endRegExp_i$$=$specialElements$$[$value$$0$$]){$endRegExp_i$$.lastIndex=$index$$=$matches$$.index+$matches$$[0].length;if($matches$$=$endRegExp_i$$.exec($html$$)){$isValidElement$$&&($text$$=$html$$.substr($index$$,$matches$$.index-$index$$));$index$$=$matches$$.index+$matches$$[0].length}else{$text$$=$html$$.substr($index$$);$index$$=$html$$.length}$isValidElement$$&&$text$$.length>0&&$self$$.text($text$$,true);$isValidElement$$&&
$self$$.end($value$$0$$);$tokenRegExp$$.lastIndex=$index$$;continue}$index$$||(!$attribsValue$$||$attribsValue$$.indexOf("/")!=$attribsValue$$.length-1?$stack$$.push({name:$value$$0$$,valid:$isValidElement$$}):$isValidElement$$&&$self$$.end($value$$0$$))}else($value$$0$$=$matches$$[1])?$self$$.comment($value$$0$$):($value$$0$$=$matches$$[2])?$self$$.cdata($value$$0$$):($value$$0$$=$matches$$[3])?$self$$.doctype($value$$0$$):($value$$0$$=$matches$$[4])&&$self$$.pi($value$$0$$,$matches$$[5]);$index$$=
$matches$$.index+$matches$$[0].length}$index$$<$html$$.length&&$self$$.text($decode$$($html$$.substr($index$$)));for($endRegExp_i$$=$stack$$.length-1;$endRegExp_i$$>=0;$endRegExp_i$$--){$value$$0$$=$stack$$[$endRegExp_i$$];$value$$0$$.valid&&$self$$.end($value$$0$$.name)}}}})(tinymce);
(function($tinymce$$){function $walk$$($node$$3_parent$$,$root_node$$,$prev_siblingName$$){var $sibling_startName$$;$sibling_startName$$=$prev_siblingName$$?"lastChild":"firstChild";$prev_siblingName$$=$prev_siblingName$$?"prev":"next";if($node$$3_parent$$[$sibling_startName$$])return $node$$3_parent$$[$sibling_startName$$];if($node$$3_parent$$!==$root_node$$){if($sibling_startName$$=$node$$3_parent$$[$prev_siblingName$$])return $sibling_startName$$;for($node$$3_parent$$=$node$$3_parent$$.parent;$node$$3_parent$$&&
$node$$3_parent$$!==$root_node$$;$node$$3_parent$$=$node$$3_parent$$.parent)if($sibling_startName$$=$node$$3_parent$$[$prev_siblingName$$])return $sibling_startName$$}}function $Node$$($name$$,$type$$){this.name=$name$$;this.type=$type$$;1===$type$$&&(this.attributes=[],this.attributes.map={})}var $whiteSpaceRegExp$$=/^[ \t\r\n]*$/,$typeLookup$$={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};$tinymce$$.extend($Node$$.prototype,{replace:function($node$$){$node$$.parent&&
$node$$.remove();this.insert($node$$,this);this.remove();return this},attr:function($name$$,$value$$){var $attrs$$,$i$$;if("string"!==typeof $name$$){for($i$$ in $name$$)this.attr($i$$,$name$$[$i$$]);return this}if($attrs$$=this.attributes){if(void 0!==$value$$){if(null===$value$$){if($name$$ in $attrs$$.map){delete $attrs$$.map[$name$$];for($i$$=$attrs$$.length;$i$$--;)if($attrs$$[$i$$].name===$name$$){$attrs$$.splice($i$$,1);break}}return this}if($name$$ in $attrs$$.map)for($i$$=$attrs$$.length;$i$$--;){if($attrs$$[$i$$].name===
$name$$){$attrs$$[$i$$].value=$value$$;break}}else $attrs$$.push({name:$name$$,value:$value$$});$attrs$$.map[$name$$]=$value$$;return this}return $attrs$$.map[$name$$]}},clone:function(){var $clone$$=new $Node$$(this.name,this.type),$i$$,$l$$,$selfAttrs$$,$selfAttr$$,$cloneAttrs$$;if($selfAttrs$$=this.attributes){$cloneAttrs$$=[];$cloneAttrs$$.map={};$i$$=0;for($l$$=$selfAttrs$$.length;$i$$<$l$$;$i$$++)$selfAttr$$=$selfAttrs$$[$i$$],"id"!==$selfAttr$$.name&&($cloneAttrs$$[$cloneAttrs$$.length]={name:$selfAttr$$.name,
value:$selfAttr$$.value},$cloneAttrs$$.map[$selfAttr$$.name]=$selfAttr$$.value);$clone$$.attributes=$cloneAttrs$$}$clone$$.value=this.value;$clone$$.shortEnded=this.shortEnded;return $clone$$},wrap:function($wrapper$$){this.parent.insert($wrapper$$,this);$wrapper$$.append(this);return this},unwrap:function(){var $node$$,$next$$;for($node$$=this.firstChild;$node$$;)$next$$=$node$$.next,this.insert($node$$,this,!0),$node$$=$next$$;this.remove()},remove:function(){var $parent$$=this.parent,$next$$=this.next,
$prev$$=this.prev;if($parent$$){if($parent$$.firstChild===this){if($parent$$.firstChild=$next$$)$next$$.prev=null}else $prev$$.next=$next$$;if($parent$$.lastChild===this){if($parent$$.lastChild=$prev$$)$prev$$.next=null}else $next$$.prev=$prev$$;this.parent=this.next=this.prev=null}return this},append:function($node$$){var $last$$;$node$$.parent&&$node$$.remove();($last$$=this.lastChild)?($last$$.next=$node$$,$node$$.prev=$last$$,this.lastChild=$node$$):this.lastChild=this.firstChild=$node$$;$node$$.parent=
this;return $node$$},insert:function($node$$,$ref_node$$,$before$$){var $parent$$;$node$$.parent&&$node$$.remove();$parent$$=$ref_node$$.parent||this;$before$$?($ref_node$$===$parent$$.firstChild?$parent$$.firstChild=$node$$:$ref_node$$.prev.next=$node$$,$node$$.prev=$ref_node$$.prev,$node$$.next=$ref_node$$,$ref_node$$.prev=$node$$):($ref_node$$===$parent$$.lastChild?$parent$$.lastChild=$node$$:$ref_node$$.next.prev=$node$$,$node$$.next=$ref_node$$.next,$node$$.prev=$ref_node$$,$ref_node$$.next=
$node$$);$node$$.parent=$parent$$;return $node$$},getAll:function($name$$){var $node$$,$collection$$=[];for($node$$=this.firstChild;$node$$;$node$$=$walk$$($node$$,this))$node$$.name===$name$$&&$collection$$.push($node$$);return $collection$$},empty:function(){var $nodes$$,$i$$,$node$$;if(this.firstChild){$nodes$$=[];for($node$$=this.firstChild;$node$$;$node$$=$walk$$($node$$,this))$nodes$$.push($node$$);for($i$$=$nodes$$.length;$i$$--;)$node$$=$nodes$$[$i$$],$node$$.parent=$node$$.firstChild=$node$$.lastChild=
$node$$.next=$node$$.prev=null}this.firstChild=this.lastChild=null;return this},isEmpty:function($elements$$){var $node$$=this.firstChild,$i$$,$name$$;if($node$$){do{if(1===$node$$.type){if($node$$.attributes.map["data-mce-bogus"])continue;if($elements$$[$node$$.name])return!1;for($i$$=$node$$.attributes.length;$i$$--;)if($name$$=$node$$.attributes[$i$$].name,"name"===$name$$||0===$name$$.indexOf("data-"))return!1}if(3===$node$$.type&&!$whiteSpaceRegExp$$.test($node$$.value))return!1}while($node$$=
$walk$$($node$$,this))}return!0},walk:function($prev$$){return $walk$$(this,null,$prev$$)}});$tinymce$$.extend($Node$$,{create:function($name$$,$attrs$$){var $node$$,$attrName$$;$node$$=new $Node$$($name$$,$typeLookup$$[$name$$]||1);if($attrs$$)for($attrName$$ in $attrs$$)$node$$.attr($attrName$$,$attrs$$[$attrName$$]);return $node$$}});$tinymce$$.html.Node=$Node$$})(tinymce);
(function($tinymce$$){var $Node$$=$tinymce$$.html.Node;$tinymce$$.html.DomParser=function $$tinymce$$$html$DomParser$($settings$$,$schema$$){function $fixInvalidChildren$$($nodes$$){var $ni$$,$node$$,$parent$$7_sibling$$,$parents$$,$newParent$$,$childNode_currentNode$$,$tempNode$$,$i$$,$nonEmptyElements$$,$nonSplitableElements$$,$nextNode$$;$nonSplitableElements$$=$tinymce$$.makeMap("tr,td,th,tbody,thead,tfoot,table");$nonEmptyElements$$=$schema$$.getNonEmptyElements();for($ni$$=0;$ni$$<$nodes$$.length;$ni$$++)if($node$$=
$nodes$$[$ni$$],$node$$.parent){$parents$$=[$node$$];for($parent$$7_sibling$$=$node$$.parent;$parent$$7_sibling$$&&!$schema$$.isValidChild($parent$$7_sibling$$.name,$node$$.name)&&!$nonSplitableElements$$[$parent$$7_sibling$$.name];$parent$$7_sibling$$=$parent$$7_sibling$$.parent)$parents$$.push($parent$$7_sibling$$);if($parent$$7_sibling$$&&1<$parents$$.length){$parents$$.reverse();$newParent$$=$childNode_currentNode$$=$self$$.filterNode($parents$$[0].clone());for($i$$=0;$i$$<$parents$$.length-1;$i$$++){$schema$$.isValidChild($childNode_currentNode$$.name,
$parents$$[$i$$].name)?($tempNode$$=$self$$.filterNode($parents$$[$i$$].clone()),$childNode_currentNode$$.append($tempNode$$)):$tempNode$$=$childNode_currentNode$$;for($childNode_currentNode$$=$parents$$[$i$$].firstChild;$childNode_currentNode$$&&$childNode_currentNode$$!=$parents$$[$i$$+1];)$nextNode$$=$childNode_currentNode$$.next,$tempNode$$.append($childNode_currentNode$$),$childNode_currentNode$$=$nextNode$$;$childNode_currentNode$$=$tempNode$$}$newParent$$.isEmpty($nonEmptyElements$$)?$parent$$7_sibling$$.insert($node$$,
$parents$$[0],!0):($parent$$7_sibling$$.insert($newParent$$,$parents$$[0],!0),$parent$$7_sibling$$.insert($node$$,$newParent$$));$parent$$7_sibling$$=$parents$$[0];($parent$$7_sibling$$.isEmpty($nonEmptyElements$$)||$parent$$7_sibling$$.firstChild===$parent$$7_sibling$$.lastChild&&"br"===$parent$$7_sibling$$.firstChild.name)&&$parent$$7_sibling$$.empty().remove()}else $node$$.parent&&("li"===$node$$.name?($parent$$7_sibling$$=$node$$.prev)&&("ul"===$parent$$7_sibling$$.name||"ul"===$parent$$7_sibling$$.name)?
$parent$$7_sibling$$.append($node$$):($parent$$7_sibling$$=$node$$.next)&&("ul"===$parent$$7_sibling$$.name||"ul"===$parent$$7_sibling$$.name)?$parent$$7_sibling$$.insert($node$$,$parent$$7_sibling$$.firstChild,!0):$node$$.wrap($self$$.filterNode(new $Node$$("ul",1))):$schema$$.isValidChild($node$$.parent.name,"div")&&$schema$$.isValidChild("div",$node$$.name)?$node$$.wrap($self$$.filterNode(new $Node$$("div",1))):"style"===$node$$.name||"script"===$node$$.name?$node$$.empty().remove():$node$$.unwrap())}}
var $self$$=this,$nodeFilters$$={},$attributeFilters$$=[],$matchedNodes$$={},$matchedAttributes$$={},$settings$$=$settings$$||{};$settings$$.validate="validate"in $settings$$?$settings$$.validate:!0;$settings$$.root_name=$settings$$.root_name||"body";$self$$.schema=$schema$$=$schema$$||new $tinymce$$.html.Schema;$self$$.filterNode=function $$self$$$filterNode$($node$$){var $i$$,$name$$,$list$$;$name$$ in $nodeFilters$$&&(($list$$=$matchedNodes$$[$name$$])?$list$$.push($node$$):$matchedNodes$$[$name$$]=
[$node$$]);for($i$$=$attributeFilters$$.length;$i$$--;)$name$$=$attributeFilters$$[$i$$].name,$name$$ in $node$$.attributes.map&&(($list$$=$matchedAttributes$$[$name$$])?$list$$.push($node$$):$matchedAttributes$$[$name$$]=[$node$$]);return $node$$};$self$$.addNodeFilter=function $$self$$$addNodeFilter$($name$$0$$,$callback$$){$tinymce$$.each($tinymce$$.explode($name$$0$$),function($name$$){var $list$$=$nodeFilters$$[$name$$];$list$$||($nodeFilters$$[$name$$]=$list$$=[]);$list$$.push($callback$$)})};
$self$$.addAttributeFilter=function $$self$$$addAttributeFilter$($name$$0$$,$callback$$){$tinymce$$.each($tinymce$$.explode($name$$0$$),function($name$$){var $i$$;for($i$$=0;$i$$<$attributeFilters$$.length;$i$$++)if($attributeFilters$$[$i$$].name===$name$$){$attributeFilters$$[$i$$].callbacks.push($callback$$);return}$attributeFilters$$.push({name:$name$$,callbacks:[$callback$$]})})};$self$$.parse=function $$self$$$parse$($html$$,$args$$){function $addRootBlocks$$(){for(var $node$$=$rootNode$$.firstChild,
$next$$,$rootBlockNode$$;$node$$;)$next$$=$node$$.next,3==$node$$.type||1==$node$$.type&&"p"!==$node$$.name&&!$blockElements$$[$node$$.name]&&!$node$$.attr("data-mce-type")?($rootBlockNode$$||($rootBlockNode$$=$createNode$$($rootBlockName$$,1),$rootNode$$.insert($rootBlockNode$$,$node$$)),$rootBlockNode$$.append($node$$)):$rootBlockNode$$=null,$node$$=$next$$}function $createNode$$($name$$,$type$$){var $node$$=new $Node$$($name$$,$type$$),$list$$;$name$$ in $nodeFilters$$&&(($list$$=$matchedNodes$$[$name$$])?
$list$$.push($node$$):$matchedNodes$$[$name$$]=[$node$$]);return $node$$}function $removeWhitespaceBefore$$($node$$){for(var $sibling$$,$node$$=$node$$.prev;$node$$&&3===$node$$.type;)$sibling$$=$node$$.value.replace($endWhiteSpaceRegExp$$,""),0<$sibling$$.length?($node$$.value=$sibling$$,$node$$=$node$$.prev):($sibling$$=$node$$.prev,$node$$.remove(),$node$$=$sibling$$)}var $nodes$$,$rootNode$$,$node$$0$$,$i$$,$l$$,$fi$$,$fl_name$$,$list$$0$$,$validate$$,$blockElements$$,$startWhiteSpaceRegExp$$,
$invalidChildren$$=[],$endWhiteSpaceRegExp$$,$allWhiteSpaceRegExp$$,$whiteSpaceElements$$,$children$$,$nonEmptyElements$$,$rootBlockName$$,$args$$=$args$$||{};$matchedNodes$$={};$matchedAttributes$$={};$blockElements$$=$tinymce$$.extend($tinymce$$.makeMap("script,style,head,html,body,title,meta,param"),$schema$$.getBlockElements());$nonEmptyElements$$=$schema$$.getNonEmptyElements();$children$$=$schema$$.children;$validate$$=$settings$$.validate;$rootBlockName$$="forced_root_block"in $args$$?$args$$.forced_root_block:
$settings$$.forced_root_block;$whiteSpaceElements$$=$schema$$.getWhiteSpaceElements();$startWhiteSpaceRegExp$$=/^[ \t\r\n]+/;$endWhiteSpaceRegExp$$=/[ \t\r\n]+$/;$allWhiteSpaceRegExp$$=/[ \t\r\n]+/g;$nodes$$=new $tinymce$$.html.SaxParser({validate:$validate$$,fix_self_closing:!$validate$$,cdata:function($text$$){$node$$0$$.append($createNode$$("#cdata",4)).value=$text$$},text:function($text$$,$raw$$){var $textNode$$;$whiteSpaceElements$$[$node$$0$$.name]||($text$$=$text$$.replace($allWhiteSpaceRegExp$$,
" "),$node$$0$$.lastChild&&$blockElements$$[$node$$0$$.lastChild.name]&&($text$$=$text$$.replace($startWhiteSpaceRegExp$$,"")));0!==$text$$.length&&($textNode$$=$createNode$$("#text",3),$textNode$$.raw=!!$raw$$,$node$$0$$.append($textNode$$).value=$text$$)},comment:function($text$$){$node$$0$$.append($createNode$$("#comment",8)).value=$text$$},pi:function($name$$,$text$$){$node$$0$$.append($createNode$$($name$$,7)).value=$text$$;$removeWhitespaceBefore$$($node$$0$$)},doctype:function($text$$){$node$$0$$.append($createNode$$("#doctype",
10)).value=$text$$;$removeWhitespaceBefore$$($node$$0$$)},start:function($name$$,$attrs$$,$empty$$){var $elementRule$$2_newNode$$,$attrFiltersLen_parent$$,$attrName$$;if($elementRule$$2_newNode$$=$validate$$?$schema$$.getElementRule($name$$):{}){$elementRule$$2_newNode$$=$createNode$$($elementRule$$2_newNode$$.outputName||$name$$,1);$elementRule$$2_newNode$$.attributes=$attrs$$;$elementRule$$2_newNode$$.shortEnded=$empty$$;$node$$0$$.append($elementRule$$2_newNode$$);($attrFiltersLen_parent$$=$children$$[$node$$0$$.name])&&
($children$$[$elementRule$$2_newNode$$.name]&&!$attrFiltersLen_parent$$[$elementRule$$2_newNode$$.name])&&$invalidChildren$$.push($elementRule$$2_newNode$$);for($attrFiltersLen_parent$$=$attributeFilters$$.length;$attrFiltersLen_parent$$--;)$attrName$$=$attributeFilters$$[$attrFiltersLen_parent$$].name,$attrName$$ in $attrs$$.map&&(($list$$0$$=$matchedAttributes$$[$attrName$$])?$list$$0$$.push($elementRule$$2_newNode$$):$matchedAttributes$$[$attrName$$]=[$elementRule$$2_newNode$$]);$blockElements$$[$name$$]&&
$removeWhitespaceBefore$$($elementRule$$2_newNode$$);$empty$$||($node$$0$$=$elementRule$$2_newNode$$)}},end:function($name$$84_textNode$$){var $elementRule$$3_tempNode$$,$sibling$$4_text$$;if($elementRule$$3_tempNode$$=$validate$$?$schema$$.getElementRule($name$$84_textNode$$):{}){if($blockElements$$[$name$$84_textNode$$]){if(!$whiteSpaceElements$$[$node$$0$$.name]){for($name$$84_textNode$$=$node$$0$$.firstChild;$name$$84_textNode$$&&3===$name$$84_textNode$$.type;)$sibling$$4_text$$=$name$$84_textNode$$.value.replace($startWhiteSpaceRegExp$$,
""),0<$sibling$$4_text$$.length?($name$$84_textNode$$.value=$sibling$$4_text$$,$name$$84_textNode$$=$name$$84_textNode$$.next):($sibling$$4_text$$=$name$$84_textNode$$.next,$name$$84_textNode$$.remove(),$name$$84_textNode$$=$sibling$$4_text$$);for($name$$84_textNode$$=$node$$0$$.lastChild;$name$$84_textNode$$&&3===$name$$84_textNode$$.type;)$sibling$$4_text$$=$name$$84_textNode$$.value.replace($endWhiteSpaceRegExp$$,""),0<$sibling$$4_text$$.length?($name$$84_textNode$$.value=$sibling$$4_text$$,$name$$84_textNode$$=
$name$$84_textNode$$.prev):($sibling$$4_text$$=$name$$84_textNode$$.prev,$name$$84_textNode$$.remove(),$name$$84_textNode$$=$sibling$$4_text$$)}if(($name$$84_textNode$$=$node$$0$$.prev)&&3===$name$$84_textNode$$.type)$sibling$$4_text$$=$name$$84_textNode$$.value.replace($startWhiteSpaceRegExp$$,""),0<$sibling$$4_text$$.length?$name$$84_textNode$$.value=$sibling$$4_text$$:$name$$84_textNode$$.remove()}if(($elementRule$$3_tempNode$$.removeEmpty||$elementRule$$3_tempNode$$.paddEmpty)&&$node$$0$$.isEmpty($nonEmptyElements$$))if($elementRule$$3_tempNode$$.paddEmpty)$node$$0$$.empty().append(new $Node$$("#text",
"3")).value="\u00a0";else if(!$node$$0$$.attributes.map.name){$elementRule$$3_tempNode$$=$node$$0$$.parent;$node$$0$$.empty().remove();$node$$0$$=$elementRule$$3_tempNode$$;return}$node$$0$$=$node$$0$$.parent}}},$schema$$);$rootNode$$=$node$$0$$=new $Node$$($args$$.context||$settings$$.root_name,11);$nodes$$.parse($html$$);$validate$$&&$invalidChildren$$.length&&($args$$.context?$args$$.invalid=!0:$fixInvalidChildren$$($invalidChildren$$));$rootBlockName$$&&"body"==$rootNode$$.name&&$addRootBlocks$$();
if(!$args$$.invalid){for($fl_name$$ in $matchedNodes$$){$list$$0$$=$nodeFilters$$[$fl_name$$];$nodes$$=$matchedNodes$$[$fl_name$$];for($fi$$=$nodes$$.length;$fi$$--;)$nodes$$[$fi$$].parent||$nodes$$.splice($fi$$,1);$i$$=0;for($l$$=$list$$0$$.length;$i$$<$l$$;$i$$++)$list$$0$$[$i$$]($nodes$$,$fl_name$$,$args$$)}$i$$=0;for($l$$=$attributeFilters$$.length;$i$$<$l$$;$i$$++)if($list$$0$$=$attributeFilters$$[$i$$],$list$$0$$.name in $matchedAttributes$$){$nodes$$=$matchedAttributes$$[$list$$0$$.name];for($fi$$=
$nodes$$.length;$fi$$--;)$nodes$$[$fi$$].parent||$nodes$$.splice($fi$$,1);$fi$$=0;for($fl_name$$=$list$$0$$.callbacks.length;$fi$$<$fl_name$$;$fi$$++)$list$$0$$.callbacks[$fi$$]($nodes$$,$list$$0$$.name,$args$$)}}return $rootNode$$};$settings$$.remove_trailing_brs&&$self$$.addNodeFilter("br",function($nodes$$){var $i$$,$l$$=$nodes$$.length,$node$$,$blockElements$$=$schema$$.getBlockElements(),$nonEmptyElements$$=$schema$$.getNonEmptyElements(),$parent$$,$prev$$,$prevName$$;$blockElements$$.body=1;
for($i$$=0;$i$$<$l$$;$i$$++)if($node$$=$nodes$$[$i$$],$parent$$=$node$$.parent,$blockElements$$[$node$$.parent.name]&&$node$$===$parent$$.lastChild){for($prev$$=$node$$.prev;$prev$$;){$prevName$$=$prev$$.name;if("span"!==$prevName$$||"bookmark"!==$prev$$.attr("data-mce-type")){if("br"!==$prevName$$)break;if("br"===$prevName$$){$node$$=null;break}}$prev$$=$prev$$.prev}if($node$$&&($node$$.remove(),$parent$$.isEmpty($nonEmptyElements$$)&&(elementRule=$schema$$.getElementRule($parent$$.name))))elementRule.removeEmpty?
$parent$$.remove():elementRule.paddEmpty&&($parent$$.empty().append(new $tinymce$$.html.Node("#text",3)).value="\u00a0")}})}})(tinymce);
tinymce.html.Writer=function $tinymce$html$Writer$($settings$$){var $html$$=[],$indent$$,$indentBefore$$,$indentAfter$$,$encode$$,$htmlOutput$$,$settings$$=$settings$$||{};$indent$$=$settings$$.indent;$indentBefore$$=tinymce.makeMap($settings$$.indent_before||"");$indentAfter$$=tinymce.makeMap($settings$$.indent_after||"");$encode$$=tinymce.html.Entities.getEncodeFunc($settings$$.entity_encoding||"raw",$settings$$.entities);$htmlOutput$$="html"==$settings$$.element_format;return{start:function($name$$,
$attrs$$,$empty$$){var $i$$35_value$$,$l$$,$attr$$;$indent$$&&($indentBefore$$[$name$$]&&0<$html$$.length)&&($i$$35_value$$=$html$$[$html$$.length-1],0<$i$$35_value$$.length&&"\n"!==$i$$35_value$$&&$html$$.push("\n"));$html$$.push("<",$name$$);if($attrs$$){$i$$35_value$$=0;for($l$$=$attrs$$.length;$i$$35_value$$<$l$$;$i$$35_value$$++)$attr$$=$attrs$$[$i$$35_value$$],$html$$.push(" ",$attr$$.name,'="',$encode$$($attr$$.value,!0),'"')}$html$$[$html$$.length]=!$empty$$||$htmlOutput$$?">":" />";$empty$$&&
($indent$$&&$indentAfter$$[$name$$]&&0<$html$$.length)&&($i$$35_value$$=$html$$[$html$$.length-1],0<$i$$35_value$$.length&&"\n"!==$i$$35_value$$&&$html$$.push("\n"))},end:function($name$$87_value$$){$html$$.push("</",$name$$87_value$$,">");$indent$$&&($indentAfter$$[$name$$87_value$$]&&0<$html$$.length)&&($name$$87_value$$=$html$$[$html$$.length-1],0<$name$$87_value$$.length&&"\n"!==$name$$87_value$$&&$html$$.push("\n"))},text:function($text$$,$raw$$){0<$text$$.length&&($html$$[$html$$.length]=$raw$$?
$text$$:$encode$$($text$$))},cdata:function($text$$){$html$$.push("<![CDATA[",$text$$,"]]\>")},comment:function($text$$){$html$$.push("<\!--",$text$$,"--\>")},pi:function($name$$,$text$$){$text$$?$html$$.push("<?",$name$$," ",$text$$,"?>"):$html$$.push("<?",$name$$,"?>");$indent$$&&$html$$.push("\n")},doctype:function($text$$){$html$$.push("<!DOCTYPE",$text$$,">",$indent$$?"\n":"")},reset:function(){$html$$.length=0},getContent:function(){return $html$$.join("").replace(/\n$/,"")}}};
(function($tinymce$$){$tinymce$$.html.Serializer=function $$tinymce$$$html$Serializer$($settings$$,$schema$$){var $writer$$=new $tinymce$$.html.Writer($settings$$),$settings$$=$settings$$||{};$settings$$.validate="validate"in $settings$$?$settings$$.validate:!0;this.schema=$schema$$=$schema$$||new $tinymce$$.html.Schema;this.writer=$writer$$;this.serialize=function $this$serialize$($node$$0$$){function $walk$$($node$$){var $handler$$3_name$$=$handlers$$[$node$$.type],$isEmpty$$,$attrs$$,$attrName$$,
$attrValue$$,$sortedAttrs$$,$i$$,$l$$,$elementRule$$;if($handler$$3_name$$)$handler$$3_name$$($node$$);else{$handler$$3_name$$=$node$$.name;$isEmpty$$=$node$$.shortEnded;$attrs$$=$node$$.attributes;if($validate$$&&$attrs$$&&1<$attrs$$.length){$sortedAttrs$$=[];$sortedAttrs$$.map={};$elementRule$$=$schema$$.getElementRule($node$$.name);$i$$=0;for($l$$=$elementRule$$.attributesOrder.length;$i$$<$l$$;$i$$++)$attrName$$=$elementRule$$.attributesOrder[$i$$],$attrName$$ in $attrs$$.map&&($attrValue$$=$attrs$$.map[$attrName$$],
$sortedAttrs$$.map[$attrName$$]=$attrValue$$,$sortedAttrs$$.push({name:$attrName$$,value:$attrValue$$}));$i$$=0;for($l$$=$attrs$$.length;$i$$<$l$$;$i$$++)$attrName$$=$attrs$$[$i$$].name,$attrName$$ in $sortedAttrs$$.map||($attrValue$$=$attrs$$.map[$attrName$$],$sortedAttrs$$.map[$attrName$$]=$attrValue$$,$sortedAttrs$$.push({name:$attrName$$,value:$attrValue$$}));$attrs$$=$sortedAttrs$$}$writer$$.start($node$$.name,$attrs$$,$isEmpty$$);if(!$isEmpty$$){if($node$$=$node$$.firstChild){do $walk$$($node$$);
while($node$$=$node$$.next)}$writer$$.end($handler$$3_name$$)}}}var $handlers$$,$validate$$;$validate$$=$settings$$.validate;$handlers$$={3:function $$handlers$$$__11$($node$$){$writer$$.text($node$$.value,$node$$.raw)},8:function $$handlers$$$__12$($node$$){$writer$$.comment($node$$.value)},7:function $$handlers$$$__13$($node$$){$writer$$.pi($node$$.name,$node$$.value)},10:function $$handlers$$$__14$($node$$){$writer$$.doctype($node$$.value)},4:function $$handlers$$$__15$($node$$){$writer$$.cdata($node$$.value)},
11:function $$handlers$$$__16$($node$$){if($node$$=$node$$.firstChild){do $walk$$($node$$);while($node$$=$node$$.next)}}};$writer$$.reset();if(1==$node$$0$$.type&&!$settings$$.inner)$walk$$($node$$0$$);else $handlers$$[11]($node$$0$$);return $writer$$.getContent()}}})(tinymce);
(function($tinymce$$){var $each$$=$tinymce$$.each,$is$$=$tinymce$$.is,$isWebKit$$=$tinymce$$.isWebKit,$isIE$$=$tinymce$$.isIE,$Entities$$=$tinymce$$.html.Entities,$simpleSelectorRe$$=/^([a-z0-9],?)+$/i,$blockElementsMap$$=$tinymce$$.html.Schema.blockElementsMap,$whiteSpaceRegExp$$=/^[ \t\r\n]*$/,$selfClosingTags$$=/base|basefont|frame|link|meta|area|br|col|hr|img|input|param/i;$tinymce$$.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,
props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function($d$$,$s$$){var $name$$0$$;this.doc=$d$$;this.win=window;this.files={};this.cssFlicker=!1;this.counter=0;this.stdMode=!$tinymce$$.isIE||8<=$d$$.documentMode;this.boxModel=!$tinymce$$.isIE||"CSS1Compat"==$d$$.compatMode||this.stdMode;this.hasOuterHTML="outerHTML"in document.createElement("a");
this.settings=$s$$=$tinymce$$.extend({keep_values:!1,hex_colors:1},$s$$);this.schema=$s$$.schema;this.styles=new $tinymce$$.html.Styles({url_converter:$s$$.url_converter,url_converter_scope:$s$$.url_converter_scope},$s$$.schema);if($tinymce$$.isIE6)try{$d$$.execCommand("BackgroundImageCache",!1,!0)}catch($e$$){this.cssFlicker=!0}if($isIE$$&&!$tinymce$$.isIE11&&$s$$.schema)for($name$$0$$ in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,
function($name$$){$d$$.createElement($name$$)}),$s$$.schema.getCustomElements())$d$$.createElement($name$$0$$);$tinymce$$.addUnload(this.destroy,this)},getRoot:function(){var $s$$=this.settings;return $s$$&&this.get($s$$.root_element)||this.doc.body},getViewPort:function($w$$){var $b$$5_d$$,$w$$=!$w$$?this.win:$w$$;$b$$5_d$$=$w$$.document;if(null==$b$$5_d$$)return{x:0,y:0,w:1,h:1};$b$$5_d$$=this.boxModel?$b$$5_d$$.documentElement:$b$$5_d$$.body;return{x:$w$$.pageXOffset||$b$$5_d$$.scrollLeft,y:$w$$.pageYOffset||
$b$$5_d$$.scrollTop,w:$w$$.innerWidth||$b$$5_d$$.clientWidth,h:$w$$.innerHeight||$b$$5_d$$.clientHeight}},getRect:function($e$$){var $p$$,$e$$=this.get($e$$);$p$$=this.getPos($e$$);$e$$=this.getSize($e$$);return{x:$p$$.x,y:$p$$.y,w:$e$$.w,h:$e$$.h}},getSize:function($e$$){var $w$$,$h$$,$e$$=this.get($e$$);$w$$=this.getStyle($e$$,"width");$h$$=this.getStyle($e$$,"height");-1===$w$$.indexOf("px")&&($w$$=0);-1===$h$$.indexOf("px")&&($h$$=0);return{w:parseInt($w$$)||$e$$.offsetWidth||$e$$.clientWidth,
h:parseInt($h$$)||$e$$.offsetHeight||$e$$.clientHeight}},getParent:function($n$$,$f$$,$r$$){return this.getParents($n$$,$f$$,$r$$,!1)},getParents:function($n$$0$$,$f$$,$r$$,$c$$){var $t$$=this,$na$$,$se$$=$t$$.settings,$o$$=[],$n$$0$$=$t$$.get($n$$0$$),$c$$=void 0===$c$$;$se$$.strict_root&&($r$$=$r$$||$t$$.getRoot());$is$$($f$$,"string")&&($na$$=$f$$,$f$$="*"===$f$$?function($n$$){return 1==$n$$.nodeType}:function($n$$){return $t$$.is($n$$,$na$$)});for(;$n$$0$$&&!($n$$0$$==$r$$||!$n$$0$$.nodeType||
9===$n$$0$$.nodeType);){if(!$f$$||$f$$($n$$0$$))if($c$$)$o$$.push($n$$0$$);else return $n$$0$$;$n$$0$$=$n$$0$$.parentNode}return $c$$?$o$$:null},get:function($e$$){var $n$$;return $e$$&&(this.doc&&"string"==typeof $e$$)&&($n$$=$e$$,($e$$=this.doc.getElementById($e$$))&&$e$$.id!==$n$$)?this.doc.getElementsByName($n$$)[1]:$e$$},getNext:function($node$$,$selector$$){return this._findSib($node$$,$selector$$,"nextSibling")},getPrev:function($node$$,$selector$$){return this._findSib($node$$,$selector$$,
"previousSibling")},select:function($pa$$,$s$$){return $tinymce$$.dom.Sizzle($pa$$,this.get($s$$)||this.get(this.settings.root_element)||this.doc,[])},is:function($n$$,$selector$$){var $i$$;if(void 0===$n$$.length){if("*"===$selector$$)return 1==$n$$.nodeType;if($simpleSelectorRe$$.test($selector$$)){$selector$$=$selector$$.toLowerCase().split(/,/);$n$$=$n$$.nodeName.toLowerCase();for($i$$=$selector$$.length-1;0<=$i$$;$i$$--)if($selector$$[$i$$]==$n$$)return!0;return!1}}return 0<$tinymce$$.dom.Sizzle.matches($selector$$,
$n$$.nodeType?[$n$$]:$n$$).length},add:function($p$$0$$,$n$$,$a$$,$h$$,$c$$){var $t$$=this;return this.run($p$$0$$,function($p$$){var $e$$;$e$$=$is$$($n$$,"string")?$t$$.doc.createElement($n$$):$n$$;$t$$.setAttribs($e$$,$a$$);$h$$&&($h$$.nodeType?$e$$.appendChild($h$$):$t$$.setHTML($e$$,$h$$));return!$c$$?$p$$.appendChild($e$$):$e$$})},create:function($n$$,$a$$,$h$$){return this.add(this.doc.createElement($n$$),$n$$,$a$$,$h$$,1)},createHTML:function($n$$,$a$$,$h$$){var $o$$,$k$$;$o$$="<"+$n$$;for($k$$ in $a$$)$a$$.hasOwnProperty($k$$)&&
($o$$+=" "+$k$$+'="'+this.encode($a$$[$k$$])+'"');return"undefined"!=typeof $h$$?$o$$+">"+$h$$+"</"+$n$$+">":$n$$.match($selfClosingTags$$)?$o$$+" />":$o$$+"></"+$n$$+">"},remove:function($node$$0$$,$keep_children$$){return this.run($node$$0$$,function($node$$){var $child$$,$parent$$=$node$$.parentNode;if(!$parent$$)return null;if($keep_children$$)for(;$child$$=$node$$.firstChild;)!$tinymce$$.isIE||3!==$child$$.nodeType||$child$$.nodeValue?$parent$$.insertBefore($child$$,$node$$):$node$$.removeChild($child$$);
return $parent$$.removeChild($node$$)})},setStyle:function($n$$,$na$$,$v$$){var $t$$=this;return $t$$.run($n$$,function($e$$){var $s$$;$s$$=$e$$.style;$na$$=$na$$.replace(/-(\D)/g,function($a$$,$b$$){return $b$$.toUpperCase()});if($t$$.pixelStyles.test($na$$)&&($tinymce$$.is($v$$,"number")||/^[\-0-9\.]+$/.test($v$$)))$v$$+="px";switch($na$$){case "opacity":if($isIE$$&&!$tinymce$$.isIE11&&($s$$.filter=""===$v$$?"":"alpha(opacity="+100*$v$$+")",!$n$$.currentStyle||!$n$$.currentStyle.hasLayout))$s$$.display=
"inline-block";$s$$[$na$$]=$s$$["-moz-opacity"]=$s$$["-khtml-opacity"]=$v$$||"";break;case "float":$isIE$$&&!$tinymce$$.isIE11?$s$$.styleFloat=$v$$:$s$$.cssFloat=$v$$;break;default:$s$$[$na$$]=$v$$||""}$t$$.settings.update_styles&&$t$$.setAttrib($e$$,"data-mce-style")})},getStyle:function($n$$,$na$$,$c$$){$n$$=this.get($n$$);if(!$n$$)return!1;if(this.doc.defaultView&&$c$$){$na$$=$na$$.replace(/[A-Z]/g,function($a$$){return"-"+$a$$});try{return this.doc.defaultView.getComputedStyle($n$$,null).getPropertyValue($na$$)}catch($ex$$){return null}}if("undefined"==
typeof $na$$)return!1;$na$$=$na$$.replace(/-(\D)/g,function($a$$,$b$$){return $b$$.toUpperCase()});"float"==$na$$&&($na$$=$isIE$$?"styleFloat":"cssFloat");return $n$$.currentStyle&&$c$$?$n$$.currentStyle[$na$$]:$n$$.style?$n$$.style[$na$$]:void 0},setStyles:function($e$$,$o$$){var $t$$=this,$s$$=$t$$.settings,$ol$$;$ol$$=$s$$.update_styles;$s$$.update_styles=0;$each$$($o$$,function($v$$,$n$$){$t$$.setStyle($e$$,$n$$,$v$$)});$s$$.update_styles=$ol$$;$s$$.update_styles&&$t$$.setAttrib($e$$,$s$$.cssText)},
removeAllAttribs:function($e$$0$$){return this.run($e$$0$$,function($e$$){var $i$$,$attrs$$=$e$$.attributes;for($i$$=$attrs$$.length-1;0<=$i$$;$i$$--)$e$$.removeAttributeNode($attrs$$.item($i$$))})},setAttrib:function($e$$0$$,$n$$0$$,$v$$0$$){var $t$$=this;if($e$$0$$&&$n$$0$$)return $t$$.settings.strict&&($n$$0$$=$n$$0$$.toLowerCase()),this.run($e$$0$$,function($e$$){var $s$$=$t$$.settings;switch($n$$0$$){case "style":if(!$is$$($v$$0$$,"string")){$each$$($v$$0$$,function($v$$,$n$$){$t$$.setStyle($e$$,
$n$$,$v$$)});return}$s$$.keep_values&&($v$$0$$&&!$t$$._isRes($v$$0$$)?$e$$.setAttribute("data-mce-style",$v$$0$$,2):$e$$.removeAttribute("data-mce-style",2));$e$$.style.cssText=$v$$0$$;break;case "class":$e$$.className=$v$$0$$||"";break;case "src":case "href":$s$$.keep_values&&($s$$.url_converter&&($v$$0$$=$s$$.url_converter.call($s$$.url_converter_scope||$t$$,$v$$0$$,$n$$0$$,$e$$)),$t$$.setAttrib($e$$,"data-mce-"+$n$$0$$,$v$$0$$,2));break;case "shape":$e$$.setAttribute("data-mce-style",$v$$0$$)}$is$$($v$$0$$)&&
null!==$v$$0$$&&0!==$v$$0$$.length?$e$$.setAttribute($n$$0$$,""+$v$$0$$,2):$e$$.removeAttribute($n$$0$$,2)})},setAttribs:function($e$$0$$,$o$$){var $t$$=this;return this.run($e$$0$$,function($e$$){$each$$($o$$,function($v$$,$n$$){$t$$.setAttrib($e$$,$n$$,$v$$)})})},getAttrib:function($e$$,$n$$,$dv$$){var $v$$,$e$$=this.get($e$$);if(!$e$$||1!==$e$$.nodeType)return void 0===$dv$$?!1:$dv$$;$is$$($dv$$)||($dv$$="");if(/^(?:src|href|style|coords|shape)$/.test($n$$)&&($v$$=$e$$.getAttribute("data-mce-"+
$n$$)))return $v$$;$isIE$$&&this.props[$n$$]&&($v$$=($v$$=$e$$[this.props[$n$$]])&&$v$$.nodeValue?$v$$.nodeValue:$v$$);$v$$||($v$$=$e$$.getAttribute($n$$,2));if(/^(?:checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test($n$$))return!0===$e$$[this.props[$n$$]]&&""===$v$$?$n$$:$v$$?$n$$:"";if("FORM"===$e$$.nodeName&&$e$$.getAttributeNode($n$$))return $e$$.getAttributeNode($n$$).nodeValue;if("style"===$n$$&&($v$$=$v$$||$e$$.style.cssText))$v$$=this.serializeStyle(this.parseStyle($v$$),
$e$$.nodeName),this.settings.keep_values&&!this._isRes($v$$)&&$e$$.setAttribute("data-mce-style",$v$$);$isWebKit$$&&("class"===$n$$&&$v$$)&&($v$$=$v$$.replace(/(apple|webkit)\-[a-z\-]+/gi,""));null==$v$$&&($v$$="");if($isIE$$)switch($n$$){case "rowspan":case "colspan":1===$v$$&&($v$$="");break;case "size":if("+0"===$v$$||20===$v$$||0===$v$$)$v$$="";break;case "width":case "height":case "vspace":case "checked":case "disabled":case "readonly":0===$v$$&&($v$$="");break;case "hspace":-1===$v$$&&($v$$=
"");break;case "maxlength":case "tabindex":if(32768===$v$$||2147483647===$v$$||"32768"===$v$$)$v$$="";break;case "multiple":case "compact":case "noshade":case "nowrap":return 65535===$v$$?$n$$:$dv$$;case "shape":$v$$=$v$$.toLowerCase();break;default:0===$n$$.indexOf("on")&&$v$$&&($v$$=$tinymce$$._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+$v$$))}return void 0!==$v$$&&null!==$v$$&&""!==$v$$?""+$v$$:$dv$$},getPos:function($n$$,$ro$$){var $x$$=0,$e$$29_y$$=0,$d$$8_r$$=this.doc,$n$$=this.get($n$$),
$ro$$=$ro$$||$d$$8_r$$.body;if($n$$){if($n$$.getBoundingClientRect)return $n$$=$n$$.getBoundingClientRect(),$e$$29_y$$=this.boxModel?$d$$8_r$$.documentElement:$d$$8_r$$.body,$x$$=$n$$.left+($d$$8_r$$.documentElement.scrollLeft||$d$$8_r$$.body.scrollLeft)-$e$$29_y$$.clientTop,$e$$29_y$$=$n$$.top+($d$$8_r$$.documentElement.scrollTop||$d$$8_r$$.body.scrollTop)-$e$$29_y$$.clientLeft,{x:$x$$,y:$e$$29_y$$};for($d$$8_r$$=$n$$;$d$$8_r$$&&$d$$8_r$$!=$ro$$&&$d$$8_r$$.nodeType;)$x$$+=$d$$8_r$$.offsetLeft||0,
$e$$29_y$$+=$d$$8_r$$.offsetTop||0,$d$$8_r$$=$d$$8_r$$.offsetParent;for($d$$8_r$$=$n$$.parentNode;$d$$8_r$$&&$d$$8_r$$!=$ro$$&&$d$$8_r$$.nodeType;)$x$$-=$d$$8_r$$.scrollLeft||0,$e$$29_y$$-=$d$$8_r$$.scrollTop||0,$d$$8_r$$=$d$$8_r$$.parentNode}return{x:$x$$,y:$e$$29_y$$}},parseStyle:function($st$$){return this.styles.parse($st$$)},serializeStyle:function($o$$,$name$$){return this.styles.serialize($o$$,$name$$)},loadCSS:function($u$$0$$){var $t$$=this,$d$$=$t$$.doc,$head$$;$u$$0$$||($u$$0$$="");$head$$=
$t$$.select("head")[0];$each$$($u$$0$$.split(","),function($u$$){var $link$$;$t$$.files[$u$$]||($t$$.files[$u$$]=!0,$link$$=$t$$.create("link",{rel:"stylesheet",href:$tinymce$$._addVer($u$$)}),$isIE$$&&(!$tinymce$$.isIE11&&$d$$.documentMode&&$d$$.recalc)&&($link$$.onload=function $$link$$$onload$(){$d$$.recalc&&$d$$.recalc();$link$$.onload=null}),$head$$.appendChild($link$$))})},addClass:function($e$$0$$,$c$$){return this.run($e$$0$$,function($e$$){var $o$$;if(!$c$$)return 0;if(this.hasClass($e$$,
$c$$))return $e$$.className;$o$$=this.removeClass($e$$,$c$$);return $e$$.className=(""!=$o$$?$o$$+" ":"")+$c$$})},removeClass:function($e$$0$$,$c$$){var $t$$=this,$re$$;return $t$$.run($e$$0$$,function($e$$){var $v$$;return $t$$.hasClass($e$$,$c$$)?($re$$||($re$$=RegExp("(^|\\s+)"+$c$$+"(\\s+|$)","g")),$v$$=$e$$.className.replace($re$$," "),$v$$=$tinymce$$.trim(" "!=$v$$?$v$$:""),$e$$.className=$v$$,$v$$||($e$$.removeAttribute("class"),$e$$.removeAttribute("className")),$v$$):$e$$.className})},hasClass:function($n$$,
$c$$){$n$$=this.get($n$$);return!$n$$||!$c$$?!1:-1!==(" "+$n$$.className+" ").indexOf(" "+$c$$+" ")},show:function($e$$){return this.setStyle($e$$,"display","block")},hide:function($e$$){return this.setStyle($e$$,"display","none")},isHidden:function($e$$){$e$$=this.get($e$$);return!$e$$||"none"==$e$$.style.display||"none"==this.getStyle($e$$,"display")},uniqueId:function($p$$){return(!$p$$?"mce_":$p$$)+this.counter++},setHTML:function($element$$,$html$$){var $self$$=this;return this.run($element$$,
function($e$$){var $x$$,$i$$0$$,$nl$$,$n$$0$$,$p$$;$html$$=$self$$.processHTML($html$$);if($isIE$$){var $doSet$$=function $$doSet$$$(){for(;$e$$.firstChild;)$e$$.firstChild.removeNode();try{$e$$.innerHTML="<br />"+$html$$,$e$$.removeChild($e$$.firstChild)}catch($ex$$){$x$$=$self$$.create("div"),$x$$.innerHTML="<br />"+$html$$,$each$$($x$$.childNodes,function($n$$,$i$$){$i$$&&$e$$.appendChild($n$$)})}};$self$$.settings.fix_ie_paragraphs&&($html$$=$html$$.replace(/<p><\/p>|<p([^>]+)><\/p>|<p[^\/+]\/>/gi,
'<p$1 _mce_keep="true">&nbsp;</p>'));$doSet$$();if($self$$.settings.fix_ie_paragraphs){$nl$$=$e$$.getElementsByTagName("p");$i$$0$$=$nl$$.length-1;for($x$$=0;0<=$i$$0$$;$i$$0$$--)if($n$$0$$=$nl$$[$i$$0$$],!$n$$0$$.hasChildNodes()){if(!$n$$0$$._mce_keep){$x$$=1;break}$n$$0$$.removeAttribute("_mce_keep")}}if($x$$&&($html$$=$html$$.replace(/<p ([^>]+)>|<p>/ig,'<div $1 _mce_tmp="1">'),$html$$=$html$$.replace(/<\/p>/gi,"</div>"),$doSet$$(),$self$$.settings.fix_ie_paragraphs)){$nl$$=$e$$.getElementsByTagName("DIV");
for($i$$0$$=$nl$$.length-1;0<=$i$$0$$;$i$$0$$--)if($n$$0$$=$nl$$[$i$$0$$],$n$$0$$._mce_tmp){$p$$=$self$$.doc.createElement("p");$n$$0$$.cloneNode(!1).outerHTML.replace(/([a-z0-9\-_]+)=/gi,function($a$$,$b$$){var $v$$;"_mce_tmp"!==$b$$&&($v$$=$n$$0$$.getAttribute($b$$),!$v$$&&"class"===$b$$&&($v$$=$n$$0$$.className),$p$$.setAttribute($b$$,$v$$))});for($x$$=0;$x$$<$n$$0$$.childNodes.length;$x$$++)$p$$.appendChild($n$$0$$.childNodes[$x$$].cloneNode(!0));$n$$0$$.swapNode($p$$)}}}else $e$$.innerHTML=$html$$;
return $html$$})},processHTML:function($h$$){var $t$$=this,$s$$0$$=$t$$.settings,$codeBlocks$$=[];if(!$s$$0$$.process_html)return $h$$;$isIE$$&&($h$$=$h$$.replace(/&apos;/g,"&#39;"),$h$$=$h$$.replace(/\s+(disabled|checked|readonly|selected)\s*=\s*[\"\']?(false|0)[\"\']?/gi,""));$h$$=$tinymce$$._replace(/<a( )([^>]+)\/>|<a\/>/gi,"<a$1$2></a>",$h$$);if($s$$0$$.keep_values){if(/<script|noscript|style/i.test($h$$))var $trim$$=function $$trim$$$($s$$){$s$$=$s$$.replace(/(<\!--\[CDATA\[|\]\]--\>)/g,"\n");
$s$$=$s$$.replace(/^[\r\n]*|[\r\n]*$/g,"");$s$$=$s$$.replace(/^\s*(\/\/\s*<\!--|\/\/\s*<!\[CDATA\[|<\!--|<!\[CDATA\[)[\r\n]*/g,"");return $s$$=$s$$.replace(/\s*(\/\/\s*\]\]>|\/\/\s*--\>|\]\]>|--\>|\]\]--\>)\s*$/g,"")},$h$$=$h$$.replace(/<script([^>]+|)>([\s\S]*?)<\/script>/gi,function($v$$,$attribs$$,$text$$){$attribs$$||($attribs$$=' type="text/javascript"');$attribs$$=$attribs$$.replace(/src=\"([^\"]+)\"?/i,function($a$$,$url$$){$s$$0$$.url_converter&&($url$$=$t$$.encode($s$$0$$.url_converter.call($s$$0$$.url_converter_scope||
$t$$,$t$$.decode($url$$),"src","script")));return'data-mce-src="'+$url$$+'"'});if($tinymce$$.trim($text$$)){$codeBlocks$$.push($trim$$($text$$));$text$$="<\!--\nMCE_SCRIPT:"+($codeBlocks$$.length-1)+"\n// --\>"}return"<mce:script"+$attribs$$+">"+$text$$+"</mce:script>"}),$h$$=$h$$.replace(/<style([^>]+|)>([\s\S]*?)<\/style>/gi,function($v$$,$attribs$$,$text$$){if($text$$){$codeBlocks$$.push($trim$$($text$$));$text$$="<\!--\nMCE_SCRIPT:"+($codeBlocks$$.length-1)+"\n--\>"}return"<mce:style"+$attribs$$+
">"+$text$$+"</mce:style><style "+$attribs$$+' data-mce-bogus="1">'+$text$$+"</style>"}),$h$$=$h$$.replace(/<noscript([^>]+|)>([\s\S]*?)<\/noscript>/g,function($v$$,$attribs$$,$text$$){return"<mce:noscript"+$attribs$$+"><\!--"+$t$$.encode($text$$).replace(/--/g,"&#45;&#45;")+"--\></mce:noscript>"});$h$$=$tinymce$$._replace(/<!\[CDATA\[([\s\S]+)\]\]>/g,"<\!--[CDATA[$1]]--\>",$h$$);$h$$=function($html$$){return $html$$.replace(tagRegExp,function($match$$0$$,$elm_name$$,$attrs$$,$end$$){return"<"+$elm_name$$+
$attrs$$.replace(attrRegExp,function($match$$,$name$$,$value$$,$val2$$,$val3$$){$name$$=$name$$.toLowerCase();$value$$=$value$$||$val2$$||$val3$$||"";if(boolAttrs[$name$$])return $value$$==="false"||$value$$==="0"?void 0:$name$$+'="'+$name$$+'"';if(mceAttribs[$name$$]&&$attrs$$.indexOf("data-mce-"+$name$$)==-1){$match$$=$t$$.decode($value$$);if($s$$0$$.url_converter&&($name$$=="src"||$name$$=="href"))$match$$=$s$$0$$.url_converter.call($s$$0$$.url_converter_scope||$t$$,$match$$,$name$$,$elm_name$$);
$name$$=="style"&&($match$$=$t$$.serializeStyle($t$$.parseStyle($match$$),$name$$));return $name$$+'="'+$value$$+'" data-mce-'+$name$$+'="'+$t$$.encode($match$$)+'"'}return $match$$})+$end$$+">"})}($h$$);$h$$=$h$$.replace(/MCE_SCRIPT:([0-9]+)/g,function($val$$,$idx$$){return $codeBlocks$$[$idx$$]})}return $h$$},getOuterHTML:function($elm$$){var $doc$$,$elm$$=this.get($elm$$);if(!$elm$$)return null;if(1===$elm$$.nodeType&&this.hasOuterHTML)return $elm$$.outerHTML;$doc$$=($elm$$.ownerDocument||this.doc).createElement("body");
$doc$$.appendChild($elm$$.cloneNode(!0));return $doc$$.innerHTML},setOuterHTML:function($e$$0$$,$h$$,$d$$0$$){function $setHTML$$($e$$,$h$$11_n$$,$d$$){$d$$=$d$$.createElement("body");$d$$.innerHTML=$h$$11_n$$;for($h$$11_n$$=$d$$.lastChild;$h$$11_n$$;)$t$$.insertAfter($h$$11_n$$.cloneNode(!0),$e$$),$h$$11_n$$=$h$$11_n$$.previousSibling;$t$$.remove($e$$)}var $t$$=this;return this.run($e$$0$$,function($e$$){$e$$=$t$$.get($e$$);if(1==$e$$.nodeType)if($d$$0$$=$d$$0$$||$e$$.ownerDocument||$t$$.doc,$isIE$$)try{$isIE$$&&
1==$e$$.nodeType?$e$$.outerHTML=$h$$:$setHTML$$($e$$,$h$$,$d$$0$$)}catch($ex$$){$setHTML$$($e$$,$h$$,$d$$0$$)}else $setHTML$$($e$$,$h$$,$d$$0$$)})},decode:$Entities$$.decode,encode:$Entities$$.encodeAllRaw,insertAfter:function($node$$0$$,$reference_node$$){$reference_node$$=this.get($reference_node$$);return this.run($node$$0$$,function($node$$){var $parent$$,$nextSibling$$;$parent$$=$reference_node$$.parentNode;($nextSibling$$=$reference_node$$.nextSibling)?$parent$$.insertBefore($node$$,$nextSibling$$):
$parent$$.appendChild($node$$);return $node$$})},isBlock:function($node$$){var $type$$=$node$$.nodeType;return $type$$?!!(1===$type$$&&$blockElementsMap$$[$node$$.nodeName]):!!$blockElementsMap$$[$node$$]},replace:function($n$$,$o$$0$$,$k$$){$is$$($o$$0$$,"array")&&($n$$=$n$$.cloneNode(!0));return this.run($o$$0$$,function($o$$){$k$$&&$each$$($tinymce$$.grep($o$$.childNodes),function($c$$){$n$$.appendChild($c$$)});return $o$$.parentNode.replaceChild($n$$,$o$$)})},rename:function($elm$$,$name$$){var $t$$=
this,$newElm$$;$elm$$.nodeName!=$name$$.toUpperCase()&&($newElm$$=$t$$.create($name$$),$each$$($t$$.getAttribs($elm$$),function($attr_node$$){$t$$.setAttrib($newElm$$,$attr_node$$.nodeName,$t$$.getAttrib($elm$$,$attr_node$$.nodeName))}),$t$$.replace($newElm$$,$elm$$,1));return $newElm$$||$elm$$},findCommonAncestor:function($a$$,$b$$){for(var $ps$$=$a$$,$pe$$;$ps$$;){for($pe$$=$b$$;$pe$$&&$ps$$!=$pe$$;)$pe$$=$pe$$.parentNode;if($ps$$==$pe$$)break;$ps$$=$ps$$.parentNode}return!$ps$$&&$a$$.ownerDocument?
$a$$.ownerDocument.documentElement:$ps$$},toHex:function($s$$0$$){function $hex$$($s$$){$s$$=parseInt($s$$).toString(16);return 1<$s$$.length?$s$$:"0"+$s$$}var $c$$=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec($s$$0$$);$c$$&&($s$$0$$="#"+$hex$$($c$$[1])+$hex$$($c$$[2])+$hex$$($c$$[3]));return $s$$0$$},getClasses:function(){function $addClasses$$($s$$){$each$$($s$$.imports,function($r$$){$addClasses$$($r$$)});$each$$($s$$.cssRules||$s$$.rules,function($r$$){switch($r$$.type||
1){case 1:$r$$.selectorText&&$each$$($r$$.selectorText.split(","),function($v$$){$v$$=$v$$.replace(/^\s*|\s*$|^\s\./g,"");if(!/\.mce/.test($v$$)&&/\.[\w\-]+$/.test($v$$)&&($ov$$=$v$$,$v$$=$tinymce$$._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",$v$$),(!$f$$||($v$$=$f$$($v$$,$ov$$)))&&!$lo$$[$v$$]))$cl$$.push({"class":$v$$}),$lo$$[$v$$]=1});break;case 3:$addClasses$$($r$$.styleSheet)}})}var $cl$$=[],$lo$$={},$f$$=this.settings.class_filter,$ov$$;if(this.classes)return this.classes;try{$each$$(this.doc.styleSheets,
$addClasses$$)}catch($ex$$){}0<$cl$$.length&&(this.classes=$cl$$);return $cl$$},run:function($e$$0$$,$f$$,$s$$){var $t$$=this,$o$$;$t$$.doc&&"string"===typeof $e$$0$$&&($e$$0$$=$t$$.get($e$$0$$));if(!$e$$0$$)return!1;$s$$=$s$$||this;return!$e$$0$$.nodeType&&($e$$0$$.length||0===$e$$0$$.length)?($o$$=[],$each$$($e$$0$$,function($e$$,$i$$){$e$$&&("string"==typeof $e$$&&($e$$=$t$$.doc.getElementById($e$$)),$o$$.push($f$$.call($s$$,$e$$,$i$$)))}),$o$$):$f$$.call($s$$,$e$$0$$)},getAttribs:function($n$$){var $o$$,
$n$$=this.get($n$$);if(!$n$$)return[];if($isIE$$){$o$$=[];if("OBJECT"==$n$$.nodeName)return $n$$.attributes;"OPTION"===$n$$.nodeName&&this.getAttrib($n$$,"selected")&&$o$$.push({specified:1,nodeName:"selected"});$n$$.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function($a$$){$o$$.push({specified:1,nodeName:$a$$})});return $o$$}return $n$$.attributes},isEmpty:function($node$$,$elements$$){var $i$$44_parentNode$$,$type$$,$walker$$,
$name$$;if($node$$=$node$$.firstChild){$walker$$=new $tinymce$$.dom.TreeWalker($node$$);$elements$$=$elements$$||this.schema?this.schema.getNonEmptyElements():null;do{$type$$=$node$$.nodeType;if(1===$type$$){if($node$$.getAttribute("data-mce-bogus"))continue;$name$$=$node$$.nodeName.toLowerCase();if($elements$$&&$elements$$[$name$$]){$i$$44_parentNode$$=$node$$.parentNode;if("br"===$name$$&&this.isBlock($i$$44_parentNode$$)&&$i$$44_parentNode$$.firstChild===$node$$&&$i$$44_parentNode$$.lastChild===
$node$$)continue;return!1}this.getAttribs($node$$);for($i$$44_parentNode$$=$node$$.attributes.length;$i$$44_parentNode$$--;)if($name$$=$node$$.attributes[$i$$44_parentNode$$].nodeName,"name"===$name$$||"data-mce-bookmark"===$name$$)return!1}if(3===$type$$&&!$whiteSpaceRegExp$$.test($node$$.nodeValue))return!1}while($node$$=$walker$$.next())}return!0},destroy:function($s$$){this.events&&this.events.destroy();this.win=this.doc=this.root=this.events=null;$s$$||$tinymce$$.removeUnload(this.destroy)},
createRng:function(){var $d$$=this.doc;return $d$$.createRange?$d$$.createRange():new $tinymce$$.dom.Range(this)},nodeIndex:function($node$$,$normalized$$){var $idx$$=0,$lastNodeType$$,$nodeType$$;if($node$$){$lastNodeType$$=$node$$.nodeType;for($node$$=$node$$.previousSibling;$node$$;$node$$=$node$$.previousSibling)if($nodeType$$=$node$$.nodeType,!($normalized$$&&3==$nodeType$$)||$nodeType$$!=$lastNodeType$$&&$node$$.nodeValue.length)$idx$$++,$lastNodeType$$=$nodeType$$}return $idx$$},split:function($pe$$,
$e$$,$re$$){function $trim$$($node$$){var $i$$,$children$$=$node$$.childNodes,$type$$=$node$$.nodeType;if(!(1==$type$$&&"bookmark"==$node$$.getAttribute("data-mce-type"))){for($i$$=$children$$.length-1;0<=$i$$;$i$$--)$trim$$($children$$[$i$$]);if(9!=$type$$){if(3==$type$$&&0<$node$$.nodeValue.length){if(!$t$$.isBlock($node$$.parentNode)||0<$tinymce$$.trim($node$$.nodeValue).length)return}else if(1==$type$$&&($children$$=$node$$.childNodes,1==$children$$.length&&($children$$[0]&&1==$children$$[0].nodeType&&
"bookmark"==$children$$[0].getAttribute("data-mce-type"))&&$node$$.parentNode.insertBefore($children$$[0],$node$$),$children$$.length||/^(?:br|hr|input|img|li|td|th)$/i.test($node$$.nodeName)))return;$t$$.remove($node$$)}return $node$$}}var $t$$=this,$aft_r$$=$t$$.createRng(),$bef$$,$pa$$;if($pe$$&&$e$$)return $aft_r$$.setStart($pe$$.parentNode,$t$$.nodeIndex($pe$$)),$aft_r$$.setEnd($e$$.parentNode,$t$$.nodeIndex($e$$)),$bef$$=$t$$._extractRangeContents($aft_r$$),$aft_r$$=$t$$.createRng(),$aft_r$$.setStart($e$$.parentNode,
$t$$.nodeIndex($e$$)+1),$aft_r$$.setEnd($pe$$.parentNode,$t$$.nodeIndex($pe$$)+1),$aft_r$$=$t$$._extractRangeContents($aft_r$$),$pa$$=$pe$$.parentNode,$pa$$.insertBefore($trim$$($bef$$),$pe$$),$re$$?$pa$$.insertBefore($re$$,$pe$$):$pa$$.insertBefore($e$$,$pe$$),$pa$$.insertBefore($trim$$($aft_r$$),$pe$$),$t$$.remove($pe$$),$re$$||$e$$},bind:function($target$$,$name$$,$func$$,$scope$$){this.events||(this.events=new $tinymce$$.dom.EventUtils);return this.events.add($target$$,$name$$,$func$$,$scope$$||
this)},unbind:function($target$$,$name$$,$func$$){this.events||(this.events=new $tinymce$$.dom.EventUtils);return this.events.remove($target$$,$name$$,$func$$)},_extractRangeContents:function(){return $tinymce$$.isIE9?function fakeExtract($rng$$){var $fakeRng$$=new $tinymce$$.dom.Range(this);$fakeRng$$.setStart($rng$$.startContainer,$rng$$.startOffset);$fakeRng$$.setEnd($rng$$.endContainer,$rng$$.endOffset);var $ret$$=$fakeRng$$.extractContents();$rng$$.setStart($fakeRng$$.startContainer,$fakeRng$$.startOffset);
$rng$$.setEnd($fakeRng$$.endContainer,$fakeRng$$.endOffset);return $ret$$}:function realExtract($rng$$){return $rng$$.extractContents()}}(),_findSib:function($node$$0$$,$selector$$,$name$$){var $t$$=this,$f$$=$selector$$;if($node$$0$$){$is$$($f$$,"string")&&($f$$=function $$f$$$($node$$){return $t$$.is($node$$,$selector$$)});for($node$$0$$=$node$$0$$[$name$$];$node$$0$$;$node$$0$$=$node$$0$$[$name$$])if($f$$($node$$0$$))return $node$$0$$}return null},_isRes:function($c$$){return/^(top|left|bottom|right|width|height)/i.test($c$$)||
/;\s*(top|left|bottom|right|width|height)/i.test($c$$)}});$tinymce$$.DOM=new $tinymce$$.dom.DOMUtils(document,{process_html:0})})(tinymce);
(function($ns$$){function $Range$$($dom$$){function $setStart$$($n$$,$o$$){$_setEndPoint$$($TRUE$$,$n$$,$o$$)}function $setEnd$$($n$$,$o$$){$_setEndPoint$$($FALSE$$,$n$$,$o$$)}function $setStartBefore$$($n$$){$setStart$$($n$$.parentNode,$nodeIndex$$($n$$))}function $setEndAfter$$($n$$){$setEnd$$($n$$.parentNode,$nodeIndex$$($n$$)+1)}function $_getSelectedNode$$($container$$,$offset$$){var $child$$;if(3==$container$$.nodeType||0>$offset$$)return $container$$;for($child$$=$container$$.firstChild;$child$$&&
0<$offset$$;)--$offset$$,$child$$=$child$$.nextSibling;return $child$$?$child$$:$container$$}function $_compareBoundaryPoints$$($childA_containerA$$,$cmnRoot_offsetA$$,$containerB_n$$,$childB_offsetB$$){var $c$$,$offsetC$$;if($childA_containerA$$==$containerB_n$$)return $cmnRoot_offsetA$$==$childB_offsetB$$?0:$cmnRoot_offsetA$$<$childB_offsetB$$?-1:1;for($c$$=$containerB_n$$;$c$$&&$c$$.parentNode!=$childA_containerA$$;)$c$$=$c$$.parentNode;if($c$$){$offsetC$$=0;for($containerB_n$$=$childA_containerA$$.firstChild;$containerB_n$$!=
$c$$&&$offsetC$$<$cmnRoot_offsetA$$;)$offsetC$$++,$containerB_n$$=$containerB_n$$.nextSibling;return $cmnRoot_offsetA$$<=$offsetC$$?-1:1}for($c$$=$childA_containerA$$;$c$$&&$c$$.parentNode!=$containerB_n$$;)$c$$=$c$$.parentNode;if($c$$){$offsetC$$=0;for($containerB_n$$=$containerB_n$$.firstChild;$containerB_n$$!=$c$$&&$offsetC$$<$childB_offsetB$$;)$offsetC$$++,$containerB_n$$=$containerB_n$$.nextSibling;return $offsetC$$<$childB_offsetB$$?-1:1}for($cmnRoot_offsetA$$=$dom$$.findCommonAncestor($childA_containerA$$,
$containerB_n$$);$childA_containerA$$&&$childA_containerA$$.parentNode!=$cmnRoot_offsetA$$;)$childA_containerA$$=$childA_containerA$$.parentNode;$childA_containerA$$||($childA_containerA$$=$cmnRoot_offsetA$$);for($childB_offsetB$$=$containerB_n$$;$childB_offsetB$$&&$childB_offsetB$$.parentNode!=$cmnRoot_offsetA$$;)$childB_offsetB$$=$childB_offsetB$$.parentNode;$childB_offsetB$$||($childB_offsetB$$=$cmnRoot_offsetA$$);if($childA_containerA$$==$childB_offsetB$$)return 0;for($containerB_n$$=$cmnRoot_offsetA$$.firstChild;$containerB_n$$;){if($containerB_n$$==
$childA_containerA$$)return-1;if($containerB_n$$==$childB_offsetB$$)return 1;$containerB_n$$=$containerB_n$$.nextSibling}}function $_setEndPoint$$($st$$,$ec$$1_n$$,$o$$33_sc$$){$st$$?($t$$[$START_CONTAINER$$]=$ec$$1_n$$,$t$$[$START_OFFSET$$]=$o$$33_sc$$):($t$$[$END_CONTAINER$$]=$ec$$1_n$$,$t$$[$END_OFFSET$$]=$o$$33_sc$$);for($ec$$1_n$$=$t$$[$END_CONTAINER$$];$ec$$1_n$$.parentNode;)$ec$$1_n$$=$ec$$1_n$$.parentNode;for($o$$33_sc$$=$t$$[$START_CONTAINER$$];$o$$33_sc$$.parentNode;)$o$$33_sc$$=$o$$33_sc$$.parentNode;
$o$$33_sc$$==$ec$$1_n$$?0<$_compareBoundaryPoints$$($t$$[$START_CONTAINER$$],$t$$[$START_OFFSET$$],$t$$[$END_CONTAINER$$],$t$$[$END_OFFSET$$])&&$t$$.collapse($st$$):$t$$.collapse($st$$);$t$$.collapsed=$t$$[$START_CONTAINER$$]==$t$$[$END_CONTAINER$$]&&$t$$[$START_OFFSET$$]==$t$$[$END_OFFSET$$];$t$$.commonAncestorContainer=$dom$$.findCommonAncestor($t$$[$START_CONTAINER$$],$t$$[$END_CONTAINER$$])}function $_traverse$$($JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$){var $c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$,
$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$=0,$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$=0,$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$;if($t$$[$START_CONTAINER$$]==$t$$[$END_CONTAINER$$])return $_traverseSameContainer$$($JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$);$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$=
$t$$[$END_CONTAINER$$];for($endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$.parentNode;$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$;$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$=$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$,$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=
$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$.parentNode){if($endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$==$t$$[$START_CONTAINER$$]){var $endAncestor$$inline_15_frag$$inline_39_startAncestor$$=$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$;$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$=
$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$=$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$=$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$=void 0;$JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$!=$DELETE$$&&($c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$=
$doc$$.createDocumentFragment());$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=$_traverseRightBoundary$$($endAncestor$$inline_15_frag$$inline_39_startAncestor$$,$JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$);$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$&&$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$.appendChild($endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$);
$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$=$nodeIndex$$($endAncestor$$inline_15_frag$$inline_39_startAncestor$$);$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$-=$t$$[$START_OFFSET$$];if(!(0>=$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$))for($endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=
$endAncestor$$inline_15_frag$$inline_39_startAncestor$$.previousSibling;0<$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$;)$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$=$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$.previousSibling,$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=
$_traverseFullySelected$$($endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$,$JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$),$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$&&$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$.insertBefore($endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$,$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$.firstChild),--$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$,
$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$;$JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$!=$CLONE$$&&($t$$.setEndBefore($endAncestor$$inline_15_frag$$inline_39_startAncestor$$),$t$$.collapse($FALSE$$));$JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$=$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$;return $JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$}++$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$}$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$=
$t$$[$START_CONTAINER$$];for($endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$.parentNode;$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$;$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$=$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$,$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=
$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$.parentNode){if($endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$==$t$$[$END_CONTAINER$$]){$endAncestor$$inline_15_frag$$inline_39_startAncestor$$=$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$;$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$=
$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$=$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$=$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$=void 0;$JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$!=$DELETE$$&&($c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$=
$doc$$.createDocumentFragment());$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=$_traverseLeftBoundary$$($endAncestor$$inline_15_frag$$inline_39_startAncestor$$,$JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$);$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$&&$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$.appendChild($endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$);
$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$=$nodeIndex$$($endAncestor$$inline_15_frag$$inline_39_startAncestor$$);++$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$;$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$=$t$$[$END_OFFSET$$]-$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$;
for($endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=$endAncestor$$inline_15_frag$$inline_39_startAncestor$$.nextSibling;0<$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$;)$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$=$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$.nextSibling,
$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=$_traverseFullySelected$$($endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$,$JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$),$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$&&$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$.appendChild($endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$),
--$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$,$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$;$JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$!=$CLONE$$&&($t$$.setStartAfter($endAncestor$$inline_15_frag$$inline_39_startAncestor$$),$t$$.collapse($TRUE$$));return $c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$}++$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$}$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$-=
$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$;for($c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$=$t$$[$START_CONTAINER$$];0<$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$;)$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$=$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$.parentNode,$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$--;
for($cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$=$t$$[$END_CONTAINER$$];0>$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$;)$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$=$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$.parentNode,$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$++;
$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$=$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$.parentNode;for($endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$.parentNode;$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$!=
$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$;$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$=$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$.parentNode,$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$.parentNode)$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$=
$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$,$cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$=$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$;var $n$$inline_38_sibling$$;$JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$!=$DELETE$$&&($endAncestor$$inline_15_frag$$inline_39_startAncestor$$=$doc$$.createDocumentFragment());
$n$$inline_38_sibling$$=$_traverseLeftBoundary$$($c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$,$JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$);$endAncestor$$inline_15_frag$$inline_39_startAncestor$$&&$endAncestor$$inline_15_frag$$inline_39_startAncestor$$.appendChild($n$$inline_38_sibling$$);$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$=$nodeIndex$$($c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$);$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=
$nodeIndex$$($cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$);++$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$;$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$=$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$-$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$;
for($n$$inline_38_sibling$$=$c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$.nextSibling;0<$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$;)$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$=$n$$inline_38_sibling$$.nextSibling,$n$$inline_38_sibling$$=$_traverseFullySelected$$($n$$inline_38_sibling$$,$JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$),$endAncestor$$inline_15_frag$$inline_39_startAncestor$$&&
$endAncestor$$inline_15_frag$$inline_39_startAncestor$$.appendChild($n$$inline_38_sibling$$),$n$$inline_38_sibling$$=$endOffset$$inline_42_ep_n$$inline_18_n$$inline_29_nextSibling$$inline_45_p$$12_xferNode$$inline_22_xferNode$$,--$cnt$$inline_43_depthDiff_sibling$$inline_21_sibling$$inline_31_sp$$1_startContainerDepth_startOffset$$;$n$$inline_38_sibling$$=$_traverseRightBoundary$$($cnt$$inline_20_cnt$$inline_30_endAncestor$$inline_36_endContainerDepth_endIdx$$inline_19_endNode_startIdx$$,$JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$);
$endAncestor$$inline_15_frag$$inline_39_startAncestor$$&&$endAncestor$$inline_15_frag$$inline_39_startAncestor$$.appendChild($n$$inline_38_sibling$$);$JSCompiler_inline_result$$14_how$$1_how$$inline_16_how$$!=$CLONE$$&&($t$$.setStartAfter($c$$17_frag$$inline_17_frag$$inline_27_startAncestor$$),$t$$.collapse($TRUE$$));return $endAncestor$$inline_15_frag$$inline_39_startAncestor$$}function $_traverseSameContainer$$($how$$){var $frag$$,$cnt_s$$,$n$$,$sibling$$;$how$$!=$DELETE$$&&($frag$$=$doc$$.createDocumentFragment());
if($t$$[$START_OFFSET$$]==$t$$[$END_OFFSET$$])return $frag$$;if(3==$t$$[$START_CONTAINER$$].nodeType){$cnt_s$$=$t$$[$START_CONTAINER$$].nodeValue;$cnt_s$$=$cnt_s$$.substring($t$$[$START_OFFSET$$],$t$$[$END_OFFSET$$]);$how$$!=$CLONE$$&&($t$$[$START_CONTAINER$$].deleteData($t$$[$START_OFFSET$$],$t$$[$END_OFFSET$$]-$t$$[$START_OFFSET$$]),$t$$.collapse($TRUE$$));if($how$$==$DELETE$$)return;$frag$$.appendChild($doc$$.createTextNode($cnt_s$$));return $frag$$}$n$$=$_getSelectedNode$$($t$$[$START_CONTAINER$$],
$t$$[$START_OFFSET$$]);for($cnt_s$$=$t$$[$END_OFFSET$$]-$t$$[$START_OFFSET$$];0<$cnt_s$$;)$sibling$$=$n$$.nextSibling,$n$$=$_traverseFullySelected$$($n$$,$how$$),$frag$$&&$frag$$.appendChild($n$$),--$cnt_s$$,$n$$=$sibling$$;$how$$!=$CLONE$$&&$t$$.collapse($TRUE$$);return $frag$$}function $_traverseRightBoundary$$($root$$,$how$$){var $clonedChild_next$$=$_getSelectedNode$$($t$$[$END_CONTAINER$$],$t$$[$END_OFFSET$$]-1),$parent$$,$clonedParent$$,$clonedGrandParent_prevSibling$$,$isFullySelected$$=$clonedChild_next$$!=
$t$$[$END_CONTAINER$$];if($clonedChild_next$$==$root$$)return $_traverseNode$$($clonedChild_next$$,$isFullySelected$$,$FALSE$$,$how$$);$parent$$=$clonedChild_next$$.parentNode;for($clonedParent$$=$_traverseNode$$($parent$$,$FALSE$$,$FALSE$$,$how$$);$parent$$;){for(;$clonedChild_next$$;)$clonedGrandParent_prevSibling$$=$clonedChild_next$$.previousSibling,$clonedChild_next$$=$_traverseNode$$($clonedChild_next$$,$isFullySelected$$,$FALSE$$,$how$$),$how$$!=$DELETE$$&&$clonedParent$$.insertBefore($clonedChild_next$$,
$clonedParent$$.firstChild),$isFullySelected$$=$TRUE$$,$clonedChild_next$$=$clonedGrandParent_prevSibling$$;if($parent$$==$root$$)return $clonedParent$$;$clonedChild_next$$=$parent$$.previousSibling;$parent$$=$parent$$.parentNode;$clonedGrandParent_prevSibling$$=$_traverseNode$$($parent$$,$FALSE$$,$FALSE$$,$how$$);$how$$!=$DELETE$$&&$clonedGrandParent_prevSibling$$.appendChild($clonedParent$$);$clonedParent$$=$clonedGrandParent_prevSibling$$}}function $_traverseLeftBoundary$$($root$$,$how$$){var $clonedChild$$1_next$$=
$_getSelectedNode$$($t$$[$START_CONTAINER$$],$t$$[$START_OFFSET$$]),$isFullySelected$$=$clonedChild$$1_next$$!=$t$$[$START_CONTAINER$$],$parent$$,$clonedParent$$,$clonedGrandParent$$1_nextSibling$$;if($clonedChild$$1_next$$==$root$$)return $_traverseNode$$($clonedChild$$1_next$$,$isFullySelected$$,$TRUE$$,$how$$);$parent$$=$clonedChild$$1_next$$.parentNode;for($clonedParent$$=$_traverseNode$$($parent$$,$FALSE$$,$TRUE$$,$how$$);$parent$$;){for(;$clonedChild$$1_next$$;)$clonedGrandParent$$1_nextSibling$$=
$clonedChild$$1_next$$.nextSibling,$clonedChild$$1_next$$=$_traverseNode$$($clonedChild$$1_next$$,$isFullySelected$$,$TRUE$$,$how$$),$how$$!=$DELETE$$&&$clonedParent$$.appendChild($clonedChild$$1_next$$),$isFullySelected$$=$TRUE$$,$clonedChild$$1_next$$=$clonedGrandParent$$1_nextSibling$$;if($parent$$==$root$$)return $clonedParent$$;$clonedChild$$1_next$$=$parent$$.nextSibling;$parent$$=$parent$$.parentNode;$clonedGrandParent$$1_nextSibling$$=$_traverseNode$$($parent$$,$FALSE$$,$TRUE$$,$how$$);$how$$!=
$DELETE$$&&$clonedGrandParent$$1_nextSibling$$.appendChild($clonedParent$$);$clonedParent$$=$clonedGrandParent$$1_nextSibling$$}}function $_traverseNode$$($n$$56_newNode$$,$isFullySelected$$,$isLeft_newNodeValue$$,$how$$){var $offset$$;if($isFullySelected$$)return $_traverseFullySelected$$($n$$56_newNode$$,$how$$);if(3==$n$$56_newNode$$.nodeType){$isFullySelected$$=$n$$56_newNode$$.nodeValue;$isLeft_newNodeValue$$?($offset$$=$t$$[$START_OFFSET$$],$isLeft_newNodeValue$$=$isFullySelected$$.substring($offset$$),
$isFullySelected$$=$isFullySelected$$.substring(0,$offset$$)):($offset$$=$t$$[$END_OFFSET$$],$isLeft_newNodeValue$$=$isFullySelected$$.substring(0,$offset$$),$isFullySelected$$=$isFullySelected$$.substring($offset$$));$how$$!=$CLONE$$&&($n$$56_newNode$$.nodeValue=$isFullySelected$$);if($how$$==$DELETE$$)return;$n$$56_newNode$$=$n$$56_newNode$$.cloneNode($FALSE$$);$n$$56_newNode$$.nodeValue=$isLeft_newNodeValue$$;return $n$$56_newNode$$}if($how$$!=$DELETE$$)return $n$$56_newNode$$.cloneNode($FALSE$$)}
function $_traverseFullySelected$$($n$$,$how$$){if($how$$!=$DELETE$$)return $how$$==$CLONE$$?$n$$.cloneNode($TRUE$$):$n$$;$n$$.parentNode.removeChild($n$$)}var $t$$=this,$doc$$=$dom$$.doc,$CLONE$$=1,$DELETE$$=2,$TRUE$$=!0,$FALSE$$=!1,$START_OFFSET$$="startOffset",$START_CONTAINER$$="startContainer",$END_CONTAINER$$="endContainer",$END_OFFSET$$="endOffset",$extend$$=tinymce.extend,$nodeIndex$$=$dom$$.nodeIndex;$extend$$($t$$,{startContainer:$doc$$,startOffset:0,endContainer:$doc$$,endOffset:0,collapsed:$TRUE$$,
commonAncestorContainer:$doc$$,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:$setStart$$,setEnd:$setEnd$$,setStartBefore:$setStartBefore$$,setStartAfter:function setStartAfter($n$$){$setStart$$($n$$.parentNode,$nodeIndex$$($n$$)+1)},setEndBefore:function setEndBefore($n$$){$setEnd$$($n$$.parentNode,$nodeIndex$$($n$$))},setEndAfter:$setEndAfter$$,collapse:function collapse($ts$$){$ts$$?($t$$[$END_CONTAINER$$]=$t$$[$START_CONTAINER$$],$t$$[$END_OFFSET$$]=$t$$[$START_OFFSET$$]):
($t$$[$START_CONTAINER$$]=$t$$[$END_CONTAINER$$],$t$$[$START_OFFSET$$]=$t$$[$END_OFFSET$$]);$t$$.collapsed=$TRUE$$;$t$$.commonAncestorContainer=$t$$[$START_CONTAINER$$]},selectNode:function selectNode($n$$){$setStartBefore$$($n$$);$setEndAfter$$($n$$)},selectNodeContents:function selectNodeContents($n$$){$setStart$$($n$$,0);$setEnd$$($n$$,1===$n$$.nodeType?$n$$.childNodes.length:$n$$.nodeValue.length)},compareBoundaryPoints:function compareBoundaryPoints($h$$,$r$$){var $sc$$=$t$$[$START_CONTAINER$$],
$so$$=$t$$[$START_OFFSET$$],$ec$$=$t$$[$END_CONTAINER$$],$eo$$=$t$$[$END_OFFSET$$],$rsc$$=$r$$.startContainer,$rso$$=$r$$.startOffset,$rec$$=$r$$.endContainer,$reo$$=$r$$.endOffset;if(0===$h$$)return $_compareBoundaryPoints$$($sc$$,$so$$,$rsc$$,$rso$$);if(1===$h$$)return $_compareBoundaryPoints$$($ec$$,$eo$$,$rsc$$,$rso$$);if(2===$h$$)return $_compareBoundaryPoints$$($ec$$,$eo$$,$rec$$,$reo$$);if(3===$h$$)return $_compareBoundaryPoints$$($sc$$,$so$$,$rec$$,$reo$$)},deleteContents:function deleteContents(){$_traverse$$($DELETE$$)},
extractContents:function extractContents(){return $_traverse$$(0)},cloneContents:function cloneContents(){return $_traverse$$($CLONE$$)},insertNode:function insertNode($n$$){var $startContainer$$=this[$START_CONTAINER$$],$nn_startOffset$$=this[$START_OFFSET$$],$o$$;(3===$startContainer$$.nodeType||4===$startContainer$$.nodeType)&&$startContainer$$.nodeValue?$nn_startOffset$$?$nn_startOffset$$>=$startContainer$$.nodeValue.length?$dom$$.insertAfter($n$$,$startContainer$$):($nn_startOffset$$=$startContainer$$.splitText($nn_startOffset$$),
$startContainer$$.parentNode.insertBefore($n$$,$nn_startOffset$$)):$startContainer$$.parentNode.insertBefore($n$$,$startContainer$$):(0<$startContainer$$.childNodes.length&&($o$$=$startContainer$$.childNodes[$nn_startOffset$$]),$o$$?$startContainer$$.insertBefore($n$$,$o$$):$startContainer$$.appendChild($n$$))},surroundContents:function surroundContents($n$$){var $f$$=$t$$.extractContents();$t$$.insertNode($n$$);$n$$.appendChild($f$$);$t$$.selectNode($n$$)},cloneRange:function cloneRange(){return $extend$$(new $Range$$($dom$$),
{startContainer:$t$$[$START_CONTAINER$$],startOffset:$t$$[$START_OFFSET$$],endContainer:$t$$[$END_CONTAINER$$],endOffset:$t$$[$END_OFFSET$$],collapsed:$t$$.collapsed,commonAncestorContainer:$t$$.commonAncestorContainer})}});$t$$.toString=function toString(){for(var $ret$$=[],$child$$=this.cloneContents().firstChild;$child$$;)3==$child$$.nodeType?$ret$$.push($child$$.nodeValue):1==$child$$.nodeType&&(null!=$child$$.innerText?$ret$$.push($child$$.innerText):$ret$$.push($child$$.textContent)),$child$$=
$child$$.nextSibling;return $ret$$.join("")}}$ns$$.Range=$Range$$})(tinymce.dom);
(function(){tinymce.dom.TridentSelection=function Selection($selection$$){function $getPosition$$($rng$$,$start$$){var $checkRng$$,$startIndex$$=0,$endIndex$$,$inside$$,$children$$,$child$$,$offset$$,$index$$,$position$$=-1,$parent$$;$checkRng$$=$rng$$.duplicate();$checkRng$$.collapse($start$$);$parent$$=$checkRng$$.parentElement();if($parent$$.ownerDocument===$selection$$.dom.doc){for(;"false"===$parent$$.contentEditable;)$parent$$=$parent$$.parentNode;if(!$parent$$.hasChildNodes())return{node:$parent$$,
inside:1};$children$$=$parent$$.children;for($endIndex$$=$children$$.length-1;$startIndex$$<=$endIndex$$;)if($index$$=Math.floor(($startIndex$$+$endIndex$$)/2),$child$$=$children$$[$index$$],$checkRng$$.moveToElementText($child$$),$position$$=$checkRng$$.compareEndPoints($start$$?"StartToStart":"EndToEnd",$rng$$),0<$position$$)$endIndex$$=$index$$-1;else if(0>$position$$)$startIndex$$=$index$$+1;else return{node:$child$$};if(0>$position$$){$child$$?$checkRng$$.collapse(!1):($checkRng$$.moveToElementText($parent$$),
$checkRng$$.collapse(!0),$child$$=$parent$$,$inside$$=!0);$checkRng$$.setEndPoint($start$$?"EndToStart":"EndToEnd",$rng$$);if(0<$checkRng$$.compareEndPoints($start$$?"StartToStart":"StartToEnd",$rng$$)){$checkRng$$=$rng$$.duplicate();$checkRng$$.collapse($start$$);for($offset$$=-1;$parent$$==$checkRng$$.parentElement()&&0!=$checkRng$$.move("character",-1);)$offset$$++}$offset$$=$offset$$||$checkRng$$.text.replace("\r\n"," ").length}else $checkRng$$.collapse(!0),$checkRng$$.setEndPoint($start$$?"StartToStart":
"StartToEnd",$rng$$),$offset$$=$checkRng$$.text.replace("\r\n"," ").length;return{node:$child$$,position:$position$$,offset:$offset$$,inside:$inside$$}}}var $self$$=this,$dom$$=$selection$$.dom,$TRUE$$=!0;this.getBookmark=function $this$getBookmark$($type$$){function $getIndexes$$($node$$){var $parent$$,$root$$,$children$$,$i$$,$indexes$$=[];$parent$$=$node$$.parentNode;for($root$$=$dom$$.getRoot().parentNode;$parent$$!=$root$$;){$children$$=$parent$$.children;for($i$$=$children$$.length;$i$$--;)if($node$$===
$children$$[$i$$]){$indexes$$.push($i$$);break}$node$$=$parent$$;$parent$$=$parent$$.parentNode}return $indexes$$}function $getBookmarkEndPoint$$($position$$1_start$$){if($position$$1_start$$=$getPosition$$($rng$$,$position$$1_start$$))return{position:$position$$1_start$$.position,offset:$position$$1_start$$.offset,indexes:$getIndexes$$($position$$1_start$$.node),inside:$position$$1_start$$.inside}}var $rng$$=$selection$$.getRng(),$bookmark$$={};2===$type$$&&($rng$$.item?$bookmark$$.start={ctrl:!0,
indexes:$getIndexes$$($rng$$.item(0))}:($bookmark$$.start=$getBookmarkEndPoint$$(!0),$selection$$.isCollapsed()||($bookmark$$.end=$getBookmarkEndPoint$$())));return $bookmark$$};this.moveToBookmark=function $this$moveToBookmark$($bookmark$$){function $resolveIndexes$$($indexes$$){var $node$$,$i$$,$idx$$,$children$$;$node$$=$dom$$.getRoot();for($i$$=$indexes$$.length-1;0<=$i$$;$i$$--)$children$$=$node$$.children,$idx$$=$indexes$$[$i$$],$idx$$<=$children$$.length-1&&($node$$=$children$$[$idx$$]);return $node$$}
function $setBookmarkEndPoint$$($start$$){var $endPoint$$=$bookmark$$[$start$$?"start":"end"],$moveLeft$$,$moveRng$$;$endPoint$$&&($moveLeft$$=0<$endPoint$$.position,$moveRng$$=$body$$.createTextRange(),$moveRng$$.moveToElementText($resolveIndexes$$($endPoint$$.indexes)),offset=$endPoint$$.offset,void 0!==offset?($moveRng$$.collapse($endPoint$$.inside||$moveLeft$$),$moveRng$$.moveStart("character",$moveLeft$$?-offset:offset)):$moveRng$$.collapse($start$$),$rng$$.setEndPoint($start$$?"StartToStart":
"EndToStart",$moveRng$$),$start$$&&$rng$$.collapse(!0))}var $rng$$,$body$$=$dom$$.doc.body;$bookmark$$.start&&($bookmark$$.start.ctrl?($rng$$=$body$$.createControlRange(),$rng$$.addElement($resolveIndexes$$($bookmark$$.start.indexes))):($rng$$=$body$$.createTextRange(),$setBookmarkEndPoint$$(!0),$setBookmarkEndPoint$$()),$rng$$.select())};this.addRange=function $this$addRange$($rng$$){function $setEndPoint$$($start$$){var $container$$,$offset$$,$marker$$,$tmpRng$$,$nodes$$;$marker$$=$dom$$.create("a");
$container$$=$start$$?$startContainer$$:$endContainer$$;$offset$$=$start$$?$startOffset$$:$endOffset$$;$tmpRng$$=$ieRng$$.duplicate();if($container$$==$doc$$||$container$$==$doc$$.documentElement)$container$$=$body$$,$offset$$=0;3==$container$$.nodeType?($container$$.parentNode.insertBefore($marker$$,$container$$),$tmpRng$$.moveToElementText($marker$$),$tmpRng$$.moveStart("character",$offset$$),$dom$$.remove($marker$$),$ieRng$$.setEndPoint($start$$?"StartToStart":"EndToEnd",$tmpRng$$)):($nodes$$=
$container$$.childNodes,$nodes$$.length?($offset$$>=$nodes$$.length?$dom$$.insertAfter($marker$$,$nodes$$[$nodes$$.length-1]):$container$$.insertBefore($marker$$,$nodes$$[$offset$$]),$tmpRng$$.moveToElementText($marker$$)):($marker$$=$doc$$.createTextNode("\ufeff"),$container$$.appendChild($marker$$),$tmpRng$$.moveToElementText($marker$$.parentNode),$tmpRng$$.collapse($TRUE$$)),$ieRng$$.setEndPoint($start$$?"StartToStart":"EndToEnd",$tmpRng$$),$dom$$.remove($marker$$))}var $ieRng$$,$ctrlRng$$,$startContainer$$,
$startOffset$$,$endContainer$$,$endOffset$$,$doc$$=$selection$$.dom.doc,$body$$=$doc$$.body;$startContainer$$=$rng$$.startContainer;$startOffset$$=$rng$$.startOffset;$endContainer$$=$rng$$.endContainer;$endOffset$$=$rng$$.endOffset;$ieRng$$=$body$$.createTextRange();if($startContainer$$==$endContainer$$&&(1==$startContainer$$.nodeType&&$startOffset$$==$endOffset$$-1)&&$startOffset$$==$endOffset$$-1)try{$ctrlRng$$=$body$$.createControlRange();$ctrlRng$$.addElement($startContainer$$.childNodes[$startOffset$$]);
$ctrlRng$$.select();return}catch($ex$$){}$setEndPoint$$(!0);$setEndPoint$$();$ieRng$$.select()};this.getRangeAt=function getRange(){function $findEndPoint$$($start$$){var $endPoint_sibling$$=$getPosition$$($ieRange$$,$start$$),$container$$,$offset$$,$textNodeOffset$$=0,$nodeValue$$;$container$$=$endPoint_sibling$$.node;$offset$$=$endPoint_sibling$$.offset;if($endPoint_sibling$$.inside&&!$container$$.hasChildNodes())$domRange$$[$start$$?"setStart":"setEnd"]($container$$,0);else if(void 0===$offset$$)$domRange$$[$start$$?
"setStartBefore":"setEndAfter"]($container$$);else{if(0>$endPoint_sibling$$.position){$endPoint_sibling$$=$endPoint_sibling$$.inside?$container$$.firstChild:$container$$.nextSibling;if(!$endPoint_sibling$$){$domRange$$[$start$$?"setStartAfter":"setEndAfter"]($container$$);return}if(!$offset$$){if(3==$endPoint_sibling$$.nodeType)$domRange$$[$start$$?"setStart":"setEnd"]($endPoint_sibling$$,0);else $domRange$$[$start$$?"setStartBefore":"setEndBefore"]($endPoint_sibling$$);return}for(;$endPoint_sibling$$;){$nodeValue$$=
$endPoint_sibling$$.nodeValue;$textNodeOffset$$+=$nodeValue$$.length;if($textNodeOffset$$>=$offset$$){$container$$=$endPoint_sibling$$;$textNodeOffset$$-=$offset$$;$textNodeOffset$$=$nodeValue$$.length-$textNodeOffset$$;break}$endPoint_sibling$$=$endPoint_sibling$$.nextSibling}}else{$endPoint_sibling$$=$container$$.previousSibling;if(!$endPoint_sibling$$)return $domRange$$[$start$$?"setStartBefore":"setEndBefore"]($container$$);if(!$offset$$){if(3==$container$$.nodeType)$domRange$$[$start$$?"setStart":
"setEnd"]($endPoint_sibling$$,$container$$.nodeValue.length);else $domRange$$[$start$$?"setStartAfter":"setEndAfter"]($endPoint_sibling$$);return}for(;$endPoint_sibling$$;){$textNodeOffset$$+=$endPoint_sibling$$.nodeValue.length;if($textNodeOffset$$>=$offset$$){$container$$=$endPoint_sibling$$;$textNodeOffset$$-=$offset$$;break}$endPoint_sibling$$=$endPoint_sibling$$.previousSibling}}$domRange$$[$start$$?"setStart":"setEnd"]($container$$,$textNodeOffset$$)}}var $ieRange$$=$selection$$.getRng(),$domRange$$=
$dom$$.createRng(),$element$$,$collapsed$$,$element2_tmpRange$$,$bookmark$$;$element$$=$ieRange$$.item?$ieRange$$.item(0):$ieRange$$.parentElement();if($element$$.ownerDocument!=$dom$$.doc)return $domRange$$;$collapsed$$=$selection$$.isCollapsed();if($ieRange$$.item)return $domRange$$.setStart($element$$.parentNode,$dom$$.nodeIndex($element$$)),$domRange$$.setEnd($domRange$$.startContainer,$domRange$$.startOffset+1),$domRange$$;try{$findEndPoint$$(!0),$collapsed$$||$findEndPoint$$()}catch($ex$$){if(-2147024809==
$ex$$.number)$bookmark$$=$self$$.getBookmark(2),$element2_tmpRange$$=$ieRange$$.duplicate(),$element2_tmpRange$$.collapse(!0),$element$$=$element2_tmpRange$$.parentElement(),$collapsed$$||($element2_tmpRange$$=$ieRange$$.duplicate(),$element2_tmpRange$$.collapse(!1),$element2_tmpRange$$=$element2_tmpRange$$.parentElement(),$element2_tmpRange$$.innerHTML=$element2_tmpRange$$.innerHTML),$element$$.innerHTML=$element$$.innerHTML,$self$$.moveToBookmark($bookmark$$),$ieRange$$=$selection$$.getRng(),$findEndPoint$$(!0),
$collapsed$$||$findEndPoint$$();else throw $ex$$;}return $domRange$$}}})();
(function(){function $dirNodeCheck$$($dir$$,$cur$$,$doneName$$,$checkSet$$,$i$$,$isXML$$){for(var $i$$=0,$l$$=$checkSet$$.length;$i$$<$l$$;$i$$++){var $elem$$=$checkSet$$[$i$$];if($elem$$){for(var $elem$$=$elem$$[$dir$$],$match$$=!1;$elem$$;){if($elem$$.sizcache===$doneName$$){$match$$=$checkSet$$[$elem$$.sizset];break}1===$elem$$.nodeType&&!$isXML$$&&($elem$$.sizcache=$doneName$$,$elem$$.sizset=$i$$);if($elem$$.nodeName.toLowerCase()===$cur$$){$match$$=$elem$$;break}$elem$$=$elem$$[$dir$$]}$checkSet$$[$i$$]=
$match$$}}}function $dirCheck$$($dir$$,$cur$$,$doneName$$,$checkSet$$,$i$$49_nodeCheck$$,$isXML$$){for(var $i$$49_nodeCheck$$=0,$l$$=$checkSet$$.length;$i$$49_nodeCheck$$<$l$$;$i$$49_nodeCheck$$++){var $elem$$=$checkSet$$[$i$$49_nodeCheck$$];if($elem$$){for(var $elem$$=$elem$$[$dir$$],$match$$=!1;$elem$$;){if($elem$$.sizcache===$doneName$$){$match$$=$checkSet$$[$elem$$.sizset];break}if(1===$elem$$.nodeType)if($isXML$$||($elem$$.sizcache=$doneName$$,$elem$$.sizset=$i$$49_nodeCheck$$),"string"!==typeof $cur$$){if($elem$$===
$cur$$){$match$$=!0;break}}else if(0<$Sizzle$$.filter($cur$$,[$elem$$]).length){$match$$=$elem$$;break}$elem$$=$elem$$[$dir$$]}$checkSet$$[$i$$49_nodeCheck$$]=$match$$}}}var $chunker$$=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,$done$$=0,$toString$$=Object.prototype.toString,$hasDuplicate$$=!1,$baseHasDuplicate$$=!0;[0,0].sort(function(){$baseHasDuplicate$$=!1;return 0});var $Sizzle$$=function $$Sizzle$$$($i$$50_selector$$,
$context$$,$results$$,$seed$$){var $results$$=$results$$||[],$origContext$$=$context$$=$context$$||document;if(1!==$context$$.nodeType&&9!==$context$$.nodeType)return[];if(!$i$$50_selector$$||"string"!==typeof $i$$50_selector$$)return $results$$;var $parts$$=[],$m_pop_ret$$,$set$$,$checkSet$$,$extra$$,$prune$$=!0,$contextXML$$=$Sizzle$$.isXML($context$$),$soFar$$=$i$$50_selector$$,$cur$$;do if($chunker$$.exec(""),$m_pop_ret$$=$chunker$$.exec($soFar$$))if($soFar$$=$m_pop_ret$$[3],$parts$$.push($m_pop_ret$$[1]),
$m_pop_ret$$[2]){$extra$$=$m_pop_ret$$[3];break}while($m_pop_ret$$);if(1<$parts$$.length&&$origPOS$$.exec($i$$50_selector$$))if(2===$parts$$.length&&$Expr$$.relative[$parts$$[0]])$set$$=$posProcess$$($parts$$[0]+$parts$$[1],$context$$);else for($set$$=$Expr$$.relative[$parts$$[0]]?[$context$$]:$Sizzle$$($parts$$.shift(),$context$$);$parts$$.length;)$i$$50_selector$$=$parts$$.shift(),$Expr$$.relative[$i$$50_selector$$]&&($i$$50_selector$$+=$parts$$.shift()),$set$$=$posProcess$$($i$$50_selector$$,$set$$);
else if(!$seed$$&&(1<$parts$$.length&&9===$context$$.nodeType&&!$contextXML$$&&$Expr$$.match.ID.test($parts$$[0])&&!$Expr$$.match.ID.test($parts$$[$parts$$.length-1]))&&($m_pop_ret$$=$Sizzle$$.find($parts$$.shift(),$context$$,$contextXML$$),$context$$=$m_pop_ret$$.expr?$Sizzle$$.filter($m_pop_ret$$.expr,$m_pop_ret$$.set)[0]:$m_pop_ret$$.set[0]),$context$$){$m_pop_ret$$=$seed$$?{expr:$parts$$.pop(),set:$makeArray$$($seed$$)}:$Sizzle$$.find($parts$$.pop(),1===$parts$$.length&&("~"===$parts$$[0]||"+"===
$parts$$[0])&&$context$$.parentNode?$context$$.parentNode:$context$$,$contextXML$$);$set$$=$m_pop_ret$$.expr?$Sizzle$$.filter($m_pop_ret$$.expr,$m_pop_ret$$.set):$m_pop_ret$$.set;for(0<$parts$$.length?$checkSet$$=$makeArray$$($set$$):$prune$$=!1;$parts$$.length;)$m_pop_ret$$=$cur$$=$parts$$.pop(),$Expr$$.relative[$cur$$]?$m_pop_ret$$=$parts$$.pop():$cur$$="",null==$m_pop_ret$$&&($m_pop_ret$$=$context$$),$Expr$$.relative[$cur$$]($checkSet$$,$m_pop_ret$$,$contextXML$$)}else $checkSet$$=[];$checkSet$$||
($checkSet$$=$set$$);$checkSet$$||$Sizzle$$.error($cur$$||$i$$50_selector$$);if("[object Array]"===$toString$$.call($checkSet$$))if($prune$$)if($context$$&&1===$context$$.nodeType)for($i$$50_selector$$=0;null!=$checkSet$$[$i$$50_selector$$];$i$$50_selector$$++)$checkSet$$[$i$$50_selector$$]&&(!0===$checkSet$$[$i$$50_selector$$]||1===$checkSet$$[$i$$50_selector$$].nodeType&&$Sizzle$$.contains($context$$,$checkSet$$[$i$$50_selector$$]))&&$results$$.push($set$$[$i$$50_selector$$]);else for($i$$50_selector$$=
0;null!=$checkSet$$[$i$$50_selector$$];$i$$50_selector$$++)$checkSet$$[$i$$50_selector$$]&&1===$checkSet$$[$i$$50_selector$$].nodeType&&$results$$.push($set$$[$i$$50_selector$$]);else $results$$.push.apply($results$$,$checkSet$$);else $makeArray$$($checkSet$$,$results$$);$extra$$&&($Sizzle$$($extra$$,$origContext$$,$results$$,$seed$$),$Sizzle$$.uniqueSort($results$$));return $results$$};$Sizzle$$.uniqueSort=function $$Sizzle$$$uniqueSort$($results$$){if($sortOrder$$&&($hasDuplicate$$=$baseHasDuplicate$$,
$results$$.sort($sortOrder$$),$hasDuplicate$$))for(var $i$$=1;$i$$<$results$$.length;$i$$++)$results$$[$i$$]===$results$$[$i$$-1]&&$results$$.splice($i$$--,1);return $results$$};$Sizzle$$.matches=function $$Sizzle$$$matches$($expr$$,$set$$){return $Sizzle$$($expr$$,null,null,$set$$)};$Sizzle$$.find=function $$Sizzle$$$find$($expr$$,$context$$,$isXML$$){var $set$$;if(!$expr$$)return[];for(var $i$$=0,$l$$=$Expr$$.order.length;$i$$<$l$$;$i$$++){var $type$$=$Expr$$.order[$i$$],$match$$;if($match$$=$Expr$$.leftMatch[$type$$].exec($expr$$)){var $left$$=
$match$$[1];$match$$.splice(1,1);if("\\"!==$left$$.substr($left$$.length-1)&&($match$$[1]=($match$$[1]||"").replace(/\\/g,""),$set$$=$Expr$$.find[$type$$]($match$$,$context$$,$isXML$$),null!=$set$$)){$expr$$=$expr$$.replace($Expr$$.match[$type$$],"");break}}}$set$$||($set$$=$context$$.getElementsByTagName("*"));return{set:$set$$,expr:$expr$$}};$Sizzle$$.filter=function $$Sizzle$$$filter$($expr$$,$set$$,$inplace$$,$not$$){for(var $old$$=$expr$$,$result$$=[],$curLoop$$=$set$$,$match$$,$anyFound$$,$isXMLFilter$$=
$set$$&&$set$$[0]&&$Sizzle$$.isXML($set$$[0]);$expr$$&&$set$$.length;){for(var $type$$ in $Expr$$.filter)if(null!=($match$$=$Expr$$.leftMatch[$type$$].exec($expr$$))&&$match$$[2]){var $filter$$=$Expr$$.filter[$type$$],$found$$,$item$$2_left$$;$item$$2_left$$=$match$$[1];$anyFound$$=!1;$match$$.splice(1,1);if("\\"!==$item$$2_left$$.substr($item$$2_left$$.length-1)){$curLoop$$===$result$$&&($result$$=[]);if($Expr$$.preFilter[$type$$])if($match$$=$Expr$$.preFilter[$type$$]($match$$,$curLoop$$,$inplace$$,
$result$$,$not$$,$isXMLFilter$$)){if(!0===$match$$)continue}else $anyFound$$=$found$$=!0;if($match$$)for(var $i$$=0;null!=($item$$2_left$$=$curLoop$$[$i$$]);$i$$++)if($item$$2_left$$){$found$$=$filter$$($item$$2_left$$,$match$$,$i$$,$curLoop$$);var $pass$$=$not$$^!!$found$$;$inplace$$&&null!=$found$$?$pass$$?$anyFound$$=!0:$curLoop$$[$i$$]=!1:$pass$$&&($result$$.push($item$$2_left$$),$anyFound$$=!0)}if(void 0!==$found$$){$inplace$$||($curLoop$$=$result$$);$expr$$=$expr$$.replace($Expr$$.match[$type$$],
"");if(!$anyFound$$)return[];break}}}if($expr$$===$old$$)if(null==$anyFound$$)$Sizzle$$.error($expr$$);else break;$old$$=$expr$$}return $curLoop$$};$Sizzle$$.error=function $$Sizzle$$$error$($msg$$){throw"Syntax error, unrecognized expression: "+$msg$$;};var $Expr$$=$Sizzle$$.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,
TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function $$Sizzle$$$selectors$attrHandle$href$($elem$$){return $elem$$.getAttribute("href")}},relative:{"+":function $$Sizzle$$$selectors$relative$__17$($checkSet$$,$part$$){var $isPartStr_isPartStrNotTag$$=
"string"===typeof $part$$,$i$$=$isPartStr_isPartStrNotTag$$&&!/\W/.test($part$$),$isPartStr_isPartStrNotTag$$=$isPartStr_isPartStrNotTag$$&&!$i$$;$i$$&&($part$$=$part$$.toLowerCase());for(var $i$$=0,$l$$=$checkSet$$.length,$elem$$;$i$$<$l$$;$i$$++)if($elem$$=$checkSet$$[$i$$]){for(;($elem$$=$elem$$.previousSibling)&&1!==$elem$$.nodeType;);$checkSet$$[$i$$]=$isPartStr_isPartStrNotTag$$||$elem$$&&$elem$$.nodeName.toLowerCase()===$part$$?$elem$$||!1:$elem$$===$part$$}$isPartStr_isPartStrNotTag$$&&$Sizzle$$.filter($part$$,
$checkSet$$,!0)},">":function $$Sizzle$$$selectors$relative$__18$($checkSet$$,$part$$){var $isPartStr$$1_parent$$="string"===typeof $part$$,$elem$$,$i$$=0,$l$$=$checkSet$$.length;if($isPartStr$$1_parent$$&&!/\W/.test($part$$))for($part$$=$part$$.toLowerCase();$i$$<$l$$;$i$$++){if($elem$$=$checkSet$$[$i$$])$isPartStr$$1_parent$$=$elem$$.parentNode,$checkSet$$[$i$$]=$isPartStr$$1_parent$$.nodeName.toLowerCase()===$part$$?$isPartStr$$1_parent$$:!1}else{for(;$i$$<$l$$;$i$$++)($elem$$=$checkSet$$[$i$$])&&
($checkSet$$[$i$$]=$isPartStr$$1_parent$$?$elem$$.parentNode:$elem$$.parentNode===$part$$);$isPartStr$$1_parent$$&&$Sizzle$$.filter($part$$,$checkSet$$,!0)}},"":function $$Sizzle$$$selectors$relative$__19$($checkSet$$,$part$$,$isXML$$){var $doneName$$=$done$$++,$checkFn$$=$dirCheck$$,$nodeCheck$$;"string"===typeof $part$$&&!/\W/.test($part$$)&&($nodeCheck$$=$part$$=$part$$.toLowerCase(),$checkFn$$=$dirNodeCheck$$);$checkFn$$("parentNode",$part$$,$doneName$$,$checkSet$$,$nodeCheck$$,$isXML$$)},"~":function $$Sizzle$$$selectors$relative$__20$($checkSet$$,
$part$$,$isXML$$){var $doneName$$=$done$$++,$checkFn$$=$dirCheck$$,$nodeCheck$$;"string"===typeof $part$$&&!/\W/.test($part$$)&&($nodeCheck$$=$part$$=$part$$.toLowerCase(),$checkFn$$=$dirNodeCheck$$);$checkFn$$("previousSibling",$part$$,$doneName$$,$checkSet$$,$nodeCheck$$,$isXML$$)}},find:{ID:function $$Sizzle$$$selectors$find$ID$($m$$1_match$$,$context$$,$isXML$$){if("undefined"!==typeof $context$$.getElementById&&!$isXML$$)return($m$$1_match$$=$context$$.getElementById($m$$1_match$$[1]))?[$m$$1_match$$]:
[]},NAME:function $$Sizzle$$$selectors$find$NAME$($match$$,$context$$){if("undefined"!==typeof $context$$.getElementsByName){for(var $ret$$=[],$results$$=$context$$.getElementsByName($match$$[1]),$i$$=0,$l$$=$results$$.length;$i$$<$l$$;$i$$++)$results$$[$i$$].getAttribute("name")===$match$$[1]&&$ret$$.push($results$$[$i$$]);return 0===$ret$$.length?null:$ret$$}},TAG:function $$Sizzle$$$selectors$find$TAG$($match$$,$context$$){return $context$$.getElementsByTagName($match$$[1])}},preFilter:{CLASS:function $$Sizzle$$$selectors$preFilter$CLASS$($match$$,
$curLoop$$,$inplace$$,$result$$,$not$$,$i$$57_isXML$$){$match$$=" "+$match$$[1].replace(/\\/g,"")+" ";if($i$$57_isXML$$)return $match$$;for(var $i$$57_isXML$$=0,$elem$$;null!=($elem$$=$curLoop$$[$i$$57_isXML$$]);$i$$57_isXML$$++)$elem$$&&($not$$^($elem$$.className&&0<=(" "+$elem$$.className+" ").replace(/[\t\n]/g," ").indexOf($match$$))?$inplace$$||$result$$.push($elem$$):$inplace$$&&($curLoop$$[$i$$57_isXML$$]=!1));return!1},ID:function $$Sizzle$$$selectors$preFilter$ID$($match$$){return $match$$[1].replace(/\\/g,
"")},TAG:function $$Sizzle$$$selectors$preFilter$TAG$($match$$){return $match$$[1].toLowerCase()},CHILD:function $$Sizzle$$$selectors$preFilter$CHILD$($match$$){if("nth"===$match$$[1]){var $test$$=/(-?)(\d*)n((?:\+|-)?\d*)/.exec("even"===$match$$[2]&&"2n"||"odd"===$match$$[2]&&"2n+1"||!/\D/.test($match$$[2])&&"0n+"+$match$$[2]||$match$$[2]);$match$$[2]=$test$$[1]+($test$$[2]||1)-0;$match$$[3]=$test$$[3]-0}$match$$[0]=$done$$++;return $match$$},ATTR:function $$Sizzle$$$selectors$preFilter$ATTR$($match$$,
$curLoop$$3_name$$,$inplace$$,$result$$,$not$$,$isXML$$){$curLoop$$3_name$$=$match$$[1].replace(/\\/g,"");!$isXML$$&&$Expr$$.attrMap[$curLoop$$3_name$$]&&($match$$[1]=$Expr$$.attrMap[$curLoop$$3_name$$]);"~="===$match$$[2]&&($match$$[4]=" "+$match$$[4]+" ");return $match$$},PSEUDO:function $$Sizzle$$$selectors$preFilter$PSEUDO$($match$$17_ret$$,$curLoop$$,$inplace$$,$result$$,$not$$){if("not"===$match$$17_ret$$[1])if(1<($chunker$$.exec($match$$17_ret$$[3])||"").length||/^\w/.test($match$$17_ret$$[3]))$match$$17_ret$$[3]=
$Sizzle$$($match$$17_ret$$[3],null,null,$curLoop$$);else return $match$$17_ret$$=$Sizzle$$.filter($match$$17_ret$$[3],$curLoop$$,$inplace$$,1^$not$$),$inplace$$||$result$$.push.apply($result$$,$match$$17_ret$$),!1;else if($Expr$$.match.POS.test($match$$17_ret$$[0])||$Expr$$.match.CHILD.test($match$$17_ret$$[0]))return!0;return $match$$17_ret$$},POS:function $$Sizzle$$$selectors$preFilter$POS$($match$$){$match$$.unshift(!0);return $match$$}},filters:{enabled:function $$Sizzle$$$selectors$filters$enabled$($elem$$){return!1===
$elem$$.disabled&&"hidden"!==$elem$$.type},disabled:function $$Sizzle$$$selectors$filters$disabled$($elem$$){return!0===$elem$$.disabled},checked:function $$Sizzle$$$selectors$filters$checked$($elem$$){return!0===$elem$$.checked},selected:function $$Sizzle$$$selectors$filters$selected$($elem$$){$elem$$.parentNode.selectedIndex;return!0===$elem$$.selected},parent:function $$Sizzle$$$selectors$filters$parent$($elem$$){return!!$elem$$.firstChild},empty:function $$Sizzle$$$selectors$filters$empty$($elem$$){return!$elem$$.firstChild},
has:function $$Sizzle$$$selectors$filters$has$($elem$$,$i$$,$match$$){return!!$Sizzle$$($match$$[3],$elem$$).length},header:function $$Sizzle$$$selectors$filters$header$($elem$$){return/h\d/i.test($elem$$.nodeName)},text:function $$Sizzle$$$selectors$filters$text$($elem$$){return"text"===$elem$$.type},radio:function $$Sizzle$$$selectors$filters$radio$($elem$$){return"radio"===$elem$$.type},checkbox:function $$Sizzle$$$selectors$filters$checkbox$($elem$$){return"checkbox"===$elem$$.type},file:function $$Sizzle$$$selectors$filters$file$($elem$$){return"file"===
$elem$$.type},password:function $$Sizzle$$$selectors$filters$password$($elem$$){return"password"===$elem$$.type},submit:function $$Sizzle$$$selectors$filters$submit$($elem$$){return"submit"===$elem$$.type},image:function $$Sizzle$$$selectors$filters$image$($elem$$){return"image"===$elem$$.type},reset:function $$Sizzle$$$selectors$filters$reset$($elem$$){return"reset"===$elem$$.type},button:function $$Sizzle$$$selectors$filters$button$($elem$$){return"button"===$elem$$.type||"button"===$elem$$.nodeName.toLowerCase()},
input:function $$Sizzle$$$selectors$filters$input$($elem$$){return/input|select|textarea|button/i.test($elem$$.nodeName)}},setFilters:{first:function $$Sizzle$$$selectors$setFilters$first$($elem$$,$i$$){return 0===$i$$},last:function $$Sizzle$$$selectors$setFilters$last$($elem$$,$i$$,$match$$,$array$$){return $i$$===$array$$.length-1},even:function $$Sizzle$$$selectors$setFilters$even$($elem$$,$i$$){return 0===$i$$%2},odd:function $$Sizzle$$$selectors$setFilters$odd$($elem$$,$i$$){return 1===$i$$%
2},lt:function $$Sizzle$$$selectors$setFilters$lt$($elem$$,$i$$,$match$$){return $i$$<$match$$[3]-0},gt:function $$Sizzle$$$selectors$setFilters$gt$($elem$$,$i$$,$match$$){return $i$$>$match$$[3]-0},nth:function $$Sizzle$$$selectors$setFilters$nth$($elem$$,$i$$,$match$$){return $match$$[3]-0===$i$$},eq:function $$Sizzle$$$selectors$setFilters$eq$($elem$$,$i$$,$match$$){return $match$$[3]-0===$i$$}},filter:{PSEUDO:function $$Sizzle$$$selectors$filter$PSEUDO$($elem$$,$match$$25_not$$,$i$$,$array$$10_l$$){var $name$$=
$match$$25_not$$[1],$filter$$=$Expr$$.filters[$name$$];if($filter$$)return $filter$$($elem$$,$i$$,$match$$25_not$$,$array$$10_l$$);if("contains"===$name$$)return 0<=($elem$$.textContent||$elem$$.innerText||$Sizzle$$.getText([$elem$$])||"").indexOf($match$$25_not$$[3]);if("not"===$name$$){$match$$25_not$$=$match$$25_not$$[3];$i$$=0;for($array$$10_l$$=$match$$25_not$$.length;$i$$<$array$$10_l$$;$i$$++)if($match$$25_not$$[$i$$]===$elem$$)return!1;return!0}$Sizzle$$.error("Syntax error, unrecognized expression: "+
$name$$)},CHILD:function $$Sizzle$$$selectors$filter$CHILD$($elem$$,$match$$){var $first$$1_type$$=$match$$[1],$diff_node$$=$elem$$;switch($first$$1_type$$){case "only":case "first":for(;$diff_node$$=$diff_node$$.previousSibling;)if(1===$diff_node$$.nodeType)return!1;if("first"===$first$$1_type$$)return!0;$diff_node$$=$elem$$;case "last":for(;$diff_node$$=$diff_node$$.nextSibling;)if(1===$diff_node$$.nodeType)return!1;return!0;case "nth":var $first$$1_type$$=$match$$[2],$last$$=$match$$[3];if(1===
$first$$1_type$$&&0===$last$$)return!0;var $doneName$$=$match$$[0],$parent$$=$elem$$.parentNode;if($parent$$&&($parent$$.sizcache!==$doneName$$||!$elem$$.nodeIndex)){for(var $count$$=0,$diff_node$$=$parent$$.firstChild;$diff_node$$;$diff_node$$=$diff_node$$.nextSibling)1===$diff_node$$.nodeType&&($diff_node$$.nodeIndex=++$count$$);$parent$$.sizcache=$doneName$$}$diff_node$$=$elem$$.nodeIndex-$last$$;return 0===$first$$1_type$$?0===$diff_node$$:0===$diff_node$$%$first$$1_type$$&&0<=$diff_node$$/$first$$1_type$$}},
ID:function $$Sizzle$$$selectors$filter$ID$($elem$$,$match$$){return 1===$elem$$.nodeType&&$elem$$.getAttribute("id")===$match$$},TAG:function $$Sizzle$$$selectors$filter$TAG$($elem$$,$match$$){return"*"===$match$$&&1===$elem$$.nodeType||$elem$$.nodeName.toLowerCase()===$match$$},CLASS:function $$Sizzle$$$selectors$filter$CLASS$($elem$$,$match$$){return-1<(" "+($elem$$.className||$elem$$.getAttribute("class"))+" ").indexOf($match$$)},ATTR:function $$Sizzle$$$selectors$filter$ATTR$($elem$$,$match$$){var $name$$101_result$$=
$match$$[1],$name$$101_result$$=$Expr$$.attrHandle[$name$$101_result$$]?$Expr$$.attrHandle[$name$$101_result$$]($elem$$):null!=$elem$$[$name$$101_result$$]?$elem$$[$name$$101_result$$]:$elem$$.getAttribute($name$$101_result$$),$value$$=$name$$101_result$$+"",$type$$=$match$$[2],$check$$=$match$$[4];return null==$name$$101_result$$?"!="===$type$$:"="===$type$$?$value$$===$check$$:"*="===$type$$?0<=$value$$.indexOf($check$$):"~="===$type$$?0<=(" "+$value$$+" ").indexOf($check$$):!$check$$?$value$$&&
!1!==$name$$101_result$$:"!="===$type$$?$value$$!==$check$$:"^="===$type$$?0===$value$$.indexOf($check$$):"$="===$type$$?$value$$.substr($value$$.length-$check$$.length)===$check$$:"|="===$type$$?$value$$===$check$$||$value$$.substr(0,$check$$.length+1)===$check$$+"-":!1},POS:function $$Sizzle$$$selectors$filter$POS$($elem$$,$match$$,$i$$,$array$$){var $filter$$=$Expr$$.setFilters[$match$$[2]];if($filter$$)return $filter$$($elem$$,$i$$,$match$$,$array$$)}}},$origPOS$$=$Expr$$.match.POS,$fescape$$=
function $$fescape$$$($all$$,$num$$){return"\\"+($num$$-0+1)},$type$$0$$;for($type$$0$$ in $Expr$$.match)$Expr$$.match[$type$$0$$]=RegExp($Expr$$.match[$type$$0$$].source+/(?![^\[]*\])(?![^\(]*\))/.source),$Expr$$.leftMatch[$type$$0$$]=RegExp(/(^(?:.|\r|\n)*?)/.source+$Expr$$.match[$type$$0$$].source.replace(/\\(\d+)/g,$fescape$$));var $makeArray$$=function $$makeArray$$$($array$$,$results$$){$array$$=Array.prototype.slice.call($array$$,0);return $results$$?($results$$.push.apply($results$$,$array$$),
$results$$):$array$$};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch($e$$0$$){$makeArray$$=function $$makeArray$$$($array$$,$results$$){var $ret$$=$results$$||[],$i$$=0;if("[object Array]"===$toString$$.call($array$$))Array.prototype.push.apply($ret$$,$array$$);else if("number"===typeof $array$$.length)for(var $l$$=$array$$.length;$i$$<$l$$;$i$$++)$ret$$.push($array$$[$i$$]);else for(;$array$$[$i$$];$i$$++)$ret$$.push($array$$[$i$$]);return $ret$$}}var $sortOrder$$;
document.documentElement.compareDocumentPosition?$sortOrder$$=function $$sortOrder$$$($a$$,$b$$){if(!$a$$.compareDocumentPosition||!$b$$.compareDocumentPosition)return $a$$==$b$$&&($hasDuplicate$$=!0),$a$$.compareDocumentPosition?-1:1;var $ret$$=$a$$.compareDocumentPosition($b$$)&4?-1:$a$$===$b$$?0:1;0===$ret$$&&($hasDuplicate$$=!0);return $ret$$}:"sourceIndex"in document.documentElement?$sortOrder$$=function $$sortOrder$$$($a$$,$b$$){if(!$a$$.sourceIndex||!$b$$.sourceIndex)return $a$$==$b$$&&($hasDuplicate$$=
!0),$a$$.sourceIndex?-1:1;var $ret$$=$a$$.sourceIndex-$b$$.sourceIndex;0===$ret$$&&($hasDuplicate$$=!0);return $ret$$}:document.createRange&&($sortOrder$$=function $$sortOrder$$$($a$$,$b$$){if(!$a$$.ownerDocument||!$b$$.ownerDocument)return $a$$==$b$$&&($hasDuplicate$$=!0),$a$$.ownerDocument?-1:1;var $aRange_ret$$=$a$$.ownerDocument.createRange(),$bRange$$=$b$$.ownerDocument.createRange();$aRange_ret$$.setStart($a$$,0);$aRange_ret$$.setEnd($a$$,0);$bRange$$.setStart($b$$,0);$bRange$$.setEnd($b$$,
0);$aRange_ret$$=$aRange_ret$$.compareBoundaryPoints(Range.START_TO_END,$bRange$$);0===$aRange_ret$$&&($hasDuplicate$$=!0);return $aRange_ret$$});$Sizzle$$.getText=function $$Sizzle$$$getText$($elems$$){for(var $ret$$="",$elem$$,$i$$=0;$elems$$[$i$$];$i$$++)$elem$$=$elems$$[$i$$],3===$elem$$.nodeType||4===$elem$$.nodeType?$ret$$+=$elem$$.nodeValue:8!==$elem$$.nodeType&&($ret$$+=$Sizzle$$.getText($elem$$.childNodes));return $ret$$};(function(){var $form$$=document.createElement("div"),$id$$="script"+
(new Date).getTime();$form$$.innerHTML="<a name='"+$id$$+"'/>";var $root$$=document.documentElement;$root$$.insertBefore($form$$,$root$$.firstChild);document.getElementById($id$$)&&($Expr$$.find.ID=function $$Expr$$$find$ID$($match$$,$context$$5_m$$,$isXML$$){if("undefined"!==typeof $context$$5_m$$.getElementById&&!$isXML$$)return($context$$5_m$$=$context$$5_m$$.getElementById($match$$[1]))?$context$$5_m$$.id===$match$$[1]||"undefined"!==typeof $context$$5_m$$.getAttributeNode&&$context$$5_m$$.getAttributeNode("id").nodeValue===
$match$$[1]?[$context$$5_m$$]:void 0:[]},$Expr$$.filter.ID=function $$Expr$$$filter$ID$($elem$$,$match$$){var $node$$="undefined"!==typeof $elem$$.getAttributeNode&&$elem$$.getAttributeNode("id");return 1===$elem$$.nodeType&&$node$$&&$node$$.nodeValue===$match$$});$root$$.removeChild($form$$);$root$$=$form$$=null})();(function(){var $div$$=document.createElement("div");$div$$.appendChild(document.createComment(""));0<$div$$.getElementsByTagName("*").length&&($Expr$$.find.TAG=function $$Expr$$$find$TAG$($match$$,
$context$$){var $results$$=$context$$.getElementsByTagName($match$$[1]);if("*"===$match$$[1]){for(var $tmp$$=[],$i$$=0;$results$$[$i$$];$i$$++)1===$results$$[$i$$].nodeType&&$tmp$$.push($results$$[$i$$]);$results$$=$tmp$$}return $results$$});$div$$.innerHTML="<a href='#'></a>";$div$$.firstChild&&("undefined"!==typeof $div$$.firstChild.getAttribute&&"#"!==$div$$.firstChild.getAttribute("href"))&&($Expr$$.attrHandle.href=function $$Expr$$$attrHandle$href$($elem$$){return $elem$$.getAttribute("href",
2)});$div$$=null})();document.querySelectorAll&&function(){var $oldSizzle$$=$Sizzle$$,$div$$=document.createElement("div");$div$$.innerHTML="<p class='TEST'></p>";if(!($div$$.querySelectorAll&&0===$div$$.querySelectorAll(".TEST").length)){$Sizzle$$=function $$Sizzle$$$($query$$,$context$$,$extra$$,$seed$$){$context$$=$context$$||document;if(!$seed$$&&9===$context$$.nodeType&&!$Sizzle$$.isXML($context$$))try{return $makeArray$$($context$$.querySelectorAll($query$$),$extra$$)}catch($e$$){}return $oldSizzle$$($query$$,
$context$$,$extra$$,$seed$$)};for(var $prop$$ in $oldSizzle$$)$Sizzle$$[$prop$$]=$oldSizzle$$[$prop$$];$div$$=null}}();(function(){var $div$$=document.createElement("div");$div$$.innerHTML="<div class='test e'></div><div class='test'></div>";$div$$.getElementsByClassName&&0!==$div$$.getElementsByClassName("e").length&&($div$$.lastChild.className="e",1!==$div$$.getElementsByClassName("e").length&&($Expr$$.order.splice(1,0,"CLASS"),$Expr$$.find.CLASS=function $$Expr$$$find$CLASS$($match$$,$context$$,
$isXML$$){if("undefined"!==typeof $context$$.getElementsByClassName&&!$isXML$$)return $context$$.getElementsByClassName($match$$[1])},$div$$=null))})();$Sizzle$$.contains=document.compareDocumentPosition?function($a$$,$b$$){return!!($a$$.compareDocumentPosition($b$$)&16)}:function($a$$,$b$$){return $a$$!==$b$$&&($a$$.contains?$a$$.contains($b$$):!0)};$Sizzle$$.isXML=function $$Sizzle$$$isXML$($documentElement_elem$$){return($documentElement_elem$$=($documentElement_elem$$?$documentElement_elem$$.ownerDocument||
$documentElement_elem$$:0).documentElement)?"HTML"!==$documentElement_elem$$.nodeName:!1};var $posProcess$$=function $$posProcess$$$($selector$$,$context$$){for(var $tmpSet$$=[],$later$$="",$i$$72_match$$,$root$$=$context$$.nodeType?[$context$$]:$context$$;$i$$72_match$$=$Expr$$.match.PSEUDO.exec($selector$$);)$later$$+=$i$$72_match$$[0],$selector$$=$selector$$.replace($Expr$$.match.PSEUDO,"");$selector$$=$Expr$$.relative[$selector$$]?$selector$$+"*":$selector$$;$i$$72_match$$=0;for(var $l$$=$root$$.length;$i$$72_match$$<
$l$$;$i$$72_match$$++)$Sizzle$$($selector$$,$root$$[$i$$72_match$$],$tmpSet$$);return $Sizzle$$.filter($later$$,$tmpSet$$)};window.tinymce.dom.Sizzle=$Sizzle$$})();
(function($tinymce$$){var $each$$=$tinymce$$.each,$DOM$$=$tinymce$$.DOM,$isIE$$=$tinymce$$.isIE,$Event$$;$tinymce$$.create("tinymce.dom.EventUtils",{EventUtils:function(){this.inits=[];this.events=[]},add:function($o$$0$$,$n$$0$$,$f$$,$s$$){var $cb$$,$t$$=this,$el$$=$t$$.events,$r$$;if($n$$0$$ instanceof Array)return $r$$=[],$each$$($n$$0$$,function($n$$){$r$$.push($t$$.add($o$$0$$,$n$$,$f$$,$s$$))}),$r$$;if($o$$0$$&&$o$$0$$.hasOwnProperty&&$o$$0$$ instanceof Array)return $r$$=[],$each$$($o$$0$$,
function($o$$){$o$$=$DOM$$.get($o$$);$r$$.push($t$$.add($o$$,$n$$0$$,$f$$,$s$$))}),$r$$;if($o$$0$$=$DOM$$.get($o$$0$$)){$cb$$=function $$cb$$$($e$$){if(!$t$$.disabled){if(($e$$=$e$$||window.event)&&$isIE$$)$e$$.target||($e$$.target=$e$$.srcElement),$tinymce$$.extend($e$$,$t$$._stoppers);return!$s$$?$f$$($e$$):$f$$.call($s$$,$e$$)}};if("unload"==$n$$0$$)return $tinymce$$.unloads.unshift({func:$cb$$}),$cb$$;if("init"==$n$$0$$)return $t$$.domLoaded?$cb$$():$t$$.inits.push($cb$$),$cb$$;$el$$.push({obj:$o$$0$$,
name:$n$$0$$,func:$f$$,cfunc:$cb$$,scope:$s$$});$t$$._add($o$$0$$,$n$$0$$,$cb$$);return $f$$}},remove:function($o$$0$$,$n$$,$f$$){var $t$$=this,$a$$=$t$$.events,$s$$=!1,$r$$;if($o$$0$$&&$o$$0$$.hasOwnProperty&&$o$$0$$ instanceof Array)return $r$$=[],$each$$($o$$0$$,function($o$$){$o$$=$DOM$$.get($o$$);$r$$.push($t$$.remove($o$$,$n$$,$f$$))}),$r$$;$o$$0$$=$DOM$$.get($o$$0$$);$each$$($a$$,function($e$$,$i$$){if($e$$.obj==$o$$0$$&&$e$$.name==$n$$&&(!$f$$||$e$$.func==$f$$||$e$$.cfunc==$f$$))return $a$$.splice($i$$,
1),$t$$._remove($o$$0$$,$n$$,$e$$.cfunc),$s$$=!0,!1});return $s$$},clear:function($o$$){var $a$$=this.events,$i$$,$e$$;if($o$$){$o$$=$DOM$$.get($o$$);for($i$$=$a$$.length-1;0<=$i$$;$i$$--)$e$$=$a$$[$i$$],$e$$.obj===$o$$&&(this._remove($e$$.obj,$e$$.name,$e$$.cfunc),$e$$.obj=$e$$.cfunc=null,$a$$.splice($i$$,1))}},cancel:function($e$$){if(!$e$$)return!1;this.stop($e$$);return this.prevent($e$$)},stop:function($e$$){$e$$.stopPropagation?$e$$.stopPropagation():$e$$.cancelBubble=!0;return!1},prevent:function($e$$){$e$$.preventDefault?
$e$$.preventDefault():$e$$.returnValue=!1;return!1},destroy:function(){var $t$$=this;$each$$($t$$.events,function($e$$){$t$$._remove($e$$.obj,$e$$.name,$e$$.cfunc);$e$$.obj=$e$$.cfunc=null});$t$$.events=[];$t$$=null},_add:function($o$$,$n$$,$f$$){$o$$.attachEvent?$o$$.attachEvent("on"+$n$$,$f$$):$o$$.addEventListener?$o$$.addEventListener($n$$,$f$$,!1):$o$$["on"+$n$$]=$f$$},_remove:function($o$$,$n$$,$f$$){if($o$$)try{$o$$.detachEvent?$o$$.detachEvent("on"+$n$$,$f$$):$o$$.removeEventListener?$o$$.removeEventListener($n$$,
$f$$,!1):$o$$["on"+$n$$]=null}catch($ex$$){}},_pageInit:function(){this.domLoaded||(this.domLoaded=!0,$each$$(this.inits,function($c$$){$c$$()}),this.inits=[])},_wait:function($win$$){var $t$$=this,$doc$$=$win$$.document;$win$$.tinyMCE_GZ&&tinyMCE_GZ.loaded?$t$$.domLoaded=1:($doc$$.attachEvent?($doc$$.attachEvent("onreadystatechange",function(){"complete"===$doc$$.readyState&&($doc$$.detachEvent("onreadystatechange",arguments.callee),$t$$._pageInit($win$$))}),$doc$$.documentElement.doScroll&&$win$$==
$win$$.top&&function(){if(!$t$$.domLoaded){try{$doc$$.documentElement.doScroll("left")}catch($ex$$){setTimeout(arguments.callee,0);return}$t$$._pageInit($win$$)}}()):$doc$$.addEventListener&&$t$$._add($win$$,"DOMContentLoaded",function(){$t$$._pageInit($win$$)}),$t$$._add($win$$,"load",function(){$t$$._pageInit($win$$)}))},_stoppers:{preventDefault:function(){this.returnValue=!1},stopPropagation:function(){this.cancelBubble=!0}}});$Event$$=$tinymce$$.dom.Event=new $tinymce$$.dom.EventUtils;$Event$$._wait(window);
$tinymce$$.addUnload(function(){$Event$$.destroy()})})(tinymce);
(function($tinymce$$){$tinymce$$.dom.Element=function $$tinymce$$$dom$Element$($id$$,$settings$$){var $t$$=this,$dom$$;$t$$.settings=$settings$$=$settings$$||{};$t$$.id=$id$$;$t$$.dom=$dom$$=$settings$$.dom||$tinymce$$.DOM;$tinymce$$.isIE||$dom$$.get($t$$.id);$tinymce$$.each("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get".split(/,/),function($k$$){$t$$[$k$$]=function $$t$$$$k$$$(){var $a$$=
[$id$$],$i$$;for($i$$=0;$i$$<arguments.length;$i$$++)$a$$.push(arguments[$i$$]);$a$$=$dom$$[$k$$].apply($dom$$,$a$$);$t$$.update($k$$);return $a$$}});$tinymce$$.extend($t$$,{on:function($n$$,$f$$,$s$$){return $tinymce$$.dom.Event.add($t$$.id,$n$$,$f$$,$s$$)},getXY:function(){return{x:parseInt($t$$.getStyle("left")),y:parseInt($t$$.getStyle("top"))}},getSize:function(){var $n$$=$dom$$.get($t$$.id);return{w:parseInt($t$$.getStyle("width")||$n$$.clientWidth),h:parseInt($t$$.getStyle("height")||$n$$.clientHeight)}},
moveTo:function($x$$,$y$$){$t$$.setStyles({left:$x$$,top:$y$$})},moveBy:function($x$$,$y$$){var $p$$=$t$$.getXY();$t$$.moveTo($p$$.x+$x$$,$p$$.y+$y$$)},resizeTo:function($w$$,$h$$){$t$$.setStyles({width:$w$$,height:$h$$})},resizeBy:function($w$$,$h$$){var $s$$=$t$$.getSize();$t$$.resizeTo($s$$.w+$w$$,$s$$.h+$h$$)},update:function($b$$15_k$$){$tinymce$$.isIE6&&$settings$$.blocker&&($b$$15_k$$=$b$$15_k$$||"",0===$b$$15_k$$.indexOf("get")||(0===$b$$15_k$$.indexOf("has")||0===$b$$15_k$$.indexOf("is"))||
("remove"==$b$$15_k$$?$dom$$.remove($t$$.blocker):($t$$.blocker?$b$$15_k$$=$dom$$.get($t$$.blocker):($t$$.blocker=$dom$$.uniqueId(),$b$$15_k$$=$dom$$.add($settings$$.container||$dom$$.getRoot(),"iframe",{id:$t$$.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'}),$dom$$.setStyle($b$$15_k$$,"opacity",0)),$dom$$.setStyles($b$$15_k$$,{left:$t$$.getStyle("left",1),top:$t$$.getStyle("top",1),width:$t$$.getStyle("width",1),height:$t$$.getStyle("height",1),display:$t$$.getStyle("display",
1),zIndex:parseInt($t$$.getStyle("zIndex",1)||0)-1}))))}})}})(tinymce);
(function($tinymce$$){var $is$$=$tinymce$$.is,$isIE$$=$tinymce$$.isIE,$each$$=$tinymce$$.each;$tinymce$$.create("tinymce.dom.Selection",{Selection:function($dom$$,$win$$,$serializer$$){var $t$$=this;$t$$.dom=$dom$$;$t$$.win=$win$$;$t$$.serializer=$serializer$$;$each$$(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function($e$$){$t$$[$e$$]=new $tinymce$$.util.Dispatcher($t$$)});$t$$.win.getSelection||($t$$.tridentSel=new $tinymce$$.dom.TridentSelection($t$$));$tinymce$$.isIE&&
(!$tinymce$$.isIE11&&$dom$$.boxModel)&&this._fixIESelection();$tinymce$$.addUnload($t$$.destroy,$t$$)},setCursorLocation:function($node$$,$offset$$){var $r$$=this.dom.createRng();$r$$.setStart($node$$,$offset$$);$r$$.setEnd($node$$,$offset$$);this.setRng($r$$);this.collapse(!1)},getContent:function($s$$){var $n$$65_r$$=this.getRng(),$e$$=this.dom.create("body"),$se$$=this.getSel(),$wb$$,$wa$$,$s$$=$s$$||{};$wb$$=$wa$$="";$s$$.get=!0;$s$$.format=$s$$.format||"html";$s$$.forced_root_block="";this.onBeforeGetContent.dispatch(this,
$s$$);if("text"==$s$$.format)return this.isCollapsed()?"":$n$$65_r$$.text||($se$$.toString?$se$$.toString():"");$n$$65_r$$.cloneContents?($n$$65_r$$=$n$$65_r$$.cloneContents())&&$e$$.appendChild($n$$65_r$$):$is$$($n$$65_r$$.item)||$is$$($n$$65_r$$.htmlText)?($e$$.innerHTML="<br>"+($n$$65_r$$.item?$n$$65_r$$.item(0).outerHTML:$n$$65_r$$.htmlText),$e$$.removeChild($e$$.firstChild)):$e$$.innerHTML=$n$$65_r$$.toString();/^\s/.test($e$$.innerHTML)&&($wb$$=" ");/\s+$/.test($e$$.innerHTML)&&($wa$$=" ");
$s$$.getInner=!0;$s$$.content=this.isCollapsed()?"":$wb$$+this.serializer.serialize($e$$,$s$$)+$wa$$;this.onGetContent.dispatch(this,$s$$);return $s$$.content},setContent:function($content$$,$args$$){var $rng$$=this.getRng(),$caretNode_frag$$,$doc$$=this.win.document,$temp$$,$args$$=$args$$||{format:"html"};$args$$.set=!0;$args$$.content=$content$$;$args$$.no_events||this.onBeforeSetContent.dispatch(this,$args$$);$content$$=$args$$.content;if($rng$$.insertNode){$content$$+='<span id="__caret">_</span>';
$rng$$.startContainer==$doc$$&&$rng$$.endContainer==$doc$$?$doc$$.body.innerHTML=$content$$:($rng$$.deleteContents(),0===$doc$$.body.childNodes.length?$doc$$.body.innerHTML=$content$$:$rng$$.createContextualFragment?$rng$$.insertNode($rng$$.createContextualFragment($content$$)):($caretNode_frag$$=$doc$$.createDocumentFragment(),$temp$$=$doc$$.createElement("div"),$caretNode_frag$$.appendChild($temp$$),$temp$$.outerHTML=$content$$,$rng$$.insertNode($caretNode_frag$$)));$caretNode_frag$$=this.dom.get("__caret");
$rng$$=$doc$$.createRange();$rng$$.setStartBefore($caretNode_frag$$);$rng$$.setEndBefore($caretNode_frag$$);this.setRng($rng$$);this.dom.remove("__caret");try{this.setRng($rng$$)}catch($ex$$){}}else($rng$$.item&&($doc$$.execCommand("Delete",!1,null),$rng$$=this.getRng()),/^\s+/.test($content$$))?($rng$$.pasteHTML('<span id="__mce_tmp">_</span>'+$content$$),this.dom.remove("__mce_tmp")):$rng$$.pasteHTML($content$$);$args$$.no_events||this.onSetContent.dispatch(this,$args$$)},getStart:function(){var $parentElement_rng$$=
this.getRng(),$checkRng$$,$node$$;if($parentElement_rng$$.duplicate||$parentElement_rng$$.item){if($parentElement_rng$$.item)return $parentElement_rng$$.item(0);$checkRng$$=$parentElement_rng$$.duplicate();$checkRng$$.collapse(1);$checkRng$$=$checkRng$$.parentElement();for($parentElement_rng$$=$node$$=$parentElement_rng$$.parentElement();$node$$=$node$$.parentNode;)if($node$$==$checkRng$$){$checkRng$$=$parentElement_rng$$;break}return $checkRng$$&&"BODY"==$checkRng$$.nodeName?$checkRng$$.firstChild||
$checkRng$$:$checkRng$$}$checkRng$$=$parentElement_rng$$.startContainer;1==$checkRng$$.nodeType&&$checkRng$$.hasChildNodes()&&($checkRng$$=$checkRng$$.childNodes[Math.min($checkRng$$.childNodes.length-1,$parentElement_rng$$.startOffset)]);return $checkRng$$&&3==$checkRng$$.nodeType?$checkRng$$.parentNode:$checkRng$$},getEnd:function(){var $eo$$1_r$$=this.getRng(),$e$$;if($eo$$1_r$$.duplicate||$eo$$1_r$$.item){if($eo$$1_r$$.item)return $eo$$1_r$$.item(0);$eo$$1_r$$=$eo$$1_r$$.duplicate();$eo$$1_r$$.collapse(0);
return($e$$=$eo$$1_r$$.parentElement())&&"BODY"==$e$$.nodeName?$e$$.lastChild||$e$$:$e$$}$e$$=$eo$$1_r$$.endContainer;$eo$$1_r$$=$eo$$1_r$$.endOffset;1==$e$$.nodeType&&$e$$.hasChildNodes()&&($e$$=$e$$.childNodes[0<$eo$$1_r$$?$eo$$1_r$$-1:$eo$$1_r$$]);return $e$$&&3==$e$$.nodeType?$e$$.parentNode:$e$$},getBookmark:function($type$$,$normalized$$){function $findIndex$$($name$$,$element$$){var $index$$=0;$each$$($dom$$.select($name$$),function($node$$,$i$$){$node$$==$element$$&&($index$$=$i$$)});return $index$$}
var $t$$=this,$dom$$=$t$$.dom,$rng$$1$$,$name$$0$$,$id$$,$collapsed$$,$element$$0$$;if(2==$type$$)return $t$$.tridentSel?$t$$.tridentSel.getBookmark($type$$):function(){function $getPoint$$($rng$$,$start$$){var $container$$=$rng$$[$start$$?"startContainer":"endContainer"],$offset$$=$rng$$[$start$$?"startOffset":"endOffset"],$point$$=[],$childNodes_node$$,$after$$=0;if(3==$container$$.nodeType){if($normalized$$)for($childNodes_node$$=$container$$.previousSibling;$childNodes_node$$&&3==$childNodes_node$$.nodeType;$childNodes_node$$=
$childNodes_node$$.previousSibling)$offset$$+=$childNodes_node$$.nodeValue.length;$point$$.push($offset$$)}else $childNodes_node$$=$container$$.childNodes,$offset$$>=$childNodes_node$$.length&&$childNodes_node$$.length&&($after$$=1,$offset$$=Math.max(0,$childNodes_node$$.length-1)),$point$$.push($t$$.dom.nodeIndex($childNodes_node$$[$offset$$],$normalized$$)+$after$$);for(;$container$$&&$container$$!=$root$$;$container$$=$container$$.parentNode)$point$$.push($t$$.dom.nodeIndex($container$$,$normalized$$));
return $point$$}var $rng$$0$$=$t$$.getRng(!0),$root$$=$dom$$.getRoot(),$bookmark$$={};$bookmark$$.start=$getPoint$$($rng$$0$$,!0);$t$$.isCollapsed()||($bookmark$$.end=$getPoint$$($rng$$0$$));return $bookmark$$}();if($type$$)return{rng:$t$$.getRng()};$rng$$1$$=$t$$.getRng();$id$$=$dom$$.uniqueId();$collapsed$$=tinyMCE.activeEditor.selection.isCollapsed();if($rng$$1$$.duplicate||$rng$$1$$.item){if($rng$$1$$.item)return $element$$0$$=$rng$$1$$.item(0),$name$$0$$=$element$$0$$.nodeName,{name:$name$$0$$,
index:$findIndex$$($name$$0$$,$element$$0$$)};$name$$0$$=$rng$$1$$.duplicate();try{$rng$$1$$.collapse(),$rng$$1$$.pasteHTML('<span data-mce-type="bookmark" id="'+$id$$+'_start" style="overflow:hidden;line-height:0px">\ufeff</span>'),$collapsed$$||($name$$0$$.collapse(!1),$rng$$1$$.moveToElementText($name$$0$$.parentElement()),0===$rng$$1$$.compareEndPoints("StartToEnd",$name$$0$$)&&$name$$0$$.move("character",-1),$name$$0$$.pasteHTML('<span data-mce-type="bookmark" id="'+$id$$+'_end" style="overflow:hidden;line-height:0px">\ufeff</span>'))}catch($ex$$){return null}}else{$element$$0$$=
$t$$.getNode();$name$$0$$=$element$$0$$.nodeName;if("IMG"==$name$$0$$&&""==$rng$$1$$.toString())return{name:$name$$0$$,index:$findIndex$$($name$$0$$,$element$$0$$)};$name$$0$$=$rng$$1$$.cloneRange();$collapsed$$||($name$$0$$.collapse(!1),$name$$0$$.insertNode($dom$$.create("span",{"data-mce-type":"bookmark",id:$id$$+"_end",style:"overflow:hidden;line-height:0px"},"\ufeff")));$rng$$1$$.collapse(!0);$rng$$1$$.insertNode($dom$$.create("span",{"data-mce-type":"bookmark",id:$id$$+"_start",style:"overflow:hidden;line-height:0px"},
"\ufeff"))}$t$$.moveToBookmark({id:$id$$,keep:1});return{id:$id$$}},moveToBookmark:function($bookmark$$){var $dom$$=this.dom,$rng$$,$root$$,$startContainer$$,$endContainer$$,$startOffset$$,$endOffset$$;if($bookmark$$)if($bookmark$$.start){$rng$$=$dom$$.createRng();$root$$=$dom$$.getRoot();var $restoreEndPoint_setEndPoint$$=function $$restoreEndPoint_setEndPoint$$$($start$$){var $point$$=$bookmark$$[$start$$?"start":"end"],$i$$,$children$$7_node$$,$offset$$;if($point$$){$offset$$=$point$$[0];$children$$7_node$$=
$root$$;for($i$$=$point$$.length-1;1<=$i$$;$i$$--){$children$$7_node$$=$children$$7_node$$.childNodes;if($point$$[$i$$]>$children$$7_node$$.length-1)return;$children$$7_node$$=$children$$7_node$$[$point$$[$i$$]]}3===$children$$7_node$$.nodeType&&($offset$$=Math.min($point$$[0],$children$$7_node$$.nodeValue.length));1===$children$$7_node$$.nodeType&&($offset$$=Math.min($point$$[0],$children$$7_node$$.childNodes.length));$start$$?$rng$$.setStart($children$$7_node$$,$offset$$):$rng$$.setEnd($children$$7_node$$,
$offset$$)}return!0};if(this.tridentSel)return this.tridentSel.moveToBookmark($bookmark$$);$restoreEndPoint_setEndPoint$$(!0)&&$restoreEndPoint_setEndPoint$$()&&this.setRng($rng$$)}else if($bookmark$$.id){var $restoreEndPoint_setEndPoint$$=function $$restoreEndPoint_setEndPoint$$$($suffix$$){var $marker$$=$dom$$.get($bookmark$$.id+"_"+$suffix$$),$next$$5_node$$,$idx$$,$keep_prev$$;$keep_prev$$=$bookmark$$.keep;if($marker$$&&($next$$5_node$$=$marker$$.parentNode,"start"==$suffix$$?($keep_prev$$?($next$$5_node$$=
$marker$$.firstChild,$idx$$=1):$idx$$=$dom$$.nodeIndex($marker$$),$startContainer$$=$endContainer$$=$next$$5_node$$,$startOffset$$=$endOffset$$=$idx$$):($keep_prev$$?($next$$5_node$$=$marker$$.firstChild,$idx$$=1):$idx$$=$dom$$.nodeIndex($marker$$),$endContainer$$=$next$$5_node$$,$endOffset$$=$idx$$),!$keep_prev$$)){$keep_prev$$=$marker$$.previousSibling;$next$$5_node$$=$marker$$.nextSibling;for($each$$($tinymce$$.grep($marker$$.childNodes),function($node$$){if($node$$.nodeType==3)$node$$.nodeValue=
$node$$.nodeValue.replace(/\uFEFF/g,"")});$marker$$=$dom$$.get($bookmark$$.id+"_"+$suffix$$);)$dom$$.remove($marker$$,1);$keep_prev$$&&($next$$5_node$$&&$keep_prev$$.nodeType==$next$$5_node$$.nodeType&&3==$keep_prev$$.nodeType&&!$tinymce$$.isOpera)&&($idx$$=$keep_prev$$.nodeValue.length,$keep_prev$$.appendData($next$$5_node$$.nodeValue),$dom$$.remove($next$$5_node$$),"start"==$suffix$$?($startContainer$$=$endContainer$$=$keep_prev$$,$startOffset$$=$endOffset$$=$idx$$):($endContainer$$=$keep_prev$$,
$endOffset$$=$idx$$))}},$addBogus$$=function $$addBogus$$$($node$$){!$isIE$$&&($dom$$.isBlock($node$$)&&!$node$$.innerHTML)&&($node$$.innerHTML='<br data-mce-bogus="1" />');return $node$$};$restoreEndPoint_setEndPoint$$("start");$restoreEndPoint_setEndPoint$$("end");$startContainer$$&&($rng$$=$dom$$.createRng(),$rng$$.setStart($addBogus$$($startContainer$$),$startOffset$$),$rng$$.setEnd($addBogus$$($endContainer$$),$endOffset$$),this.setRng($rng$$))}else $bookmark$$.name?this.select($dom$$.select($bookmark$$.name)[$bookmark$$.index]):
$bookmark$$.rng&&this.setRng($bookmark$$.rng)},select:function($node$$0$$,$content$$){var $dom$$8_idx$$=this.dom,$rng$$=$dom$$8_idx$$.createRng();$node$$0$$&&($dom$$8_idx$$=$dom$$8_idx$$.nodeIndex($node$$0$$),$rng$$.setStart($node$$0$$.parentNode,$dom$$8_idx$$),$rng$$.setEnd($node$$0$$.parentNode,$dom$$8_idx$$+1),$content$$&&($dom$$8_idx$$=function $$dom$$8_idx$$$($node$$,$start$$){var $walker$$=new $tinymce$$.dom.TreeWalker($node$$,$node$$);do{if(3==$node$$.nodeType&&0!=$tinymce$$.trim($node$$.nodeValue).length){$start$$?
$rng$$.setStart($node$$,0):$rng$$.setEnd($node$$,$node$$.nodeValue.length);break}if("BR"==$node$$.nodeName){$start$$?$rng$$.setStartBefore($node$$):$rng$$.setEndBefore($node$$);break}}while($node$$=$start$$?$walker$$.next():$walker$$.prev())},$dom$$8_idx$$($node$$0$$,1),$dom$$8_idx$$($node$$0$$)),this.setRng($rng$$));return $node$$0$$},isCollapsed:function(){var $r$$=this.getRng(),$s$$=this.getSel();return!$r$$||$r$$.item?!1:$r$$.compareEndPoints?0===$r$$.compareEndPoints("StartToEnd",$r$$):!$s$$||
$r$$.collapsed},collapse:function($to_start$$){var $rng$$=this.getRng(),$node$$;$rng$$.item&&($node$$=$rng$$.item(0),$rng$$=this.win.document.body.createTextRange(),$rng$$.moveToElementText($node$$));$rng$$.collapse(!!$to_start$$);this.setRng($rng$$)},getSel:function(){var $w$$=this.win;return $w$$.getSelection?$w$$.getSelection():$w$$.document.selection},getRng:function getRng($w3c$$){var $s$$,$r$$,$elm$$,$doc$$=(this.win||this.editor.getWin()).document;if($w3c$$&&this.tridentSel)return this.tridentSel.getRangeAt(0);
try{$r$$=($s$$=this.getSel())&&0<$s$$.rangeCount?$s$$.getRangeAt(0):getRng.lastRng?getRng.lastRng:$s$$&&$s$$.createRange?$s$$.createRange():$doc$$.createRange(),$tinymce$$.isIE&&(!$tinymce$$.isIE11&&$r$$&&$r$$.setStart&&$doc$$.selection.createRange().item)&&($elm$$=$doc$$.selection.createRange().item(0),$r$$=$doc$$.createRange(),$r$$.setStartBefore($elm$$),$r$$.setEndAfter($elm$$))}catch($ex$$){console.log("failed to get current range; creating a new one instead.",$ex$$)}$r$$||($r$$=$doc$$.createRange?
$doc$$.createRange():$doc$$.body.createTextRange());this.selectedRange&&this.explicitRange&&(0===$r$$.compareBoundaryPoints($r$$.START_TO_START,this.selectedRange)&&0===$r$$.compareBoundaryPoints($r$$.END_TO_END,this.selectedRange)?$r$$=this.explicitRange:this.explicitRange=this.selectedRange=null);getRng.lastRng=$r$$&&($r$$.getParentElement&&$r$$.getParentElement().ownerDocument==$doc$$||$r$$.startContainer&&$r$$.startContainer.ownerDocument==$doc$$)?$r$$:null;return $r$$},setRng:function($r$$){var $s$$;
if(this.tridentSel)if($r$$.cloneRange)this.tridentSel.addRange($r$$);else try{$r$$.select()}catch($ex$$){}else if($s$$=this.getSel()){this.explicitRange=$r$$;try{$s$$.removeAllRanges()}catch($ex$$0$$){}$s$$.addRange($r$$);this.selectedRange=$s$$.getRangeAt(0)}},setNode:function($n$$){this.setContent(this.dom.getOuterHTML($n$$));return $n$$},getNode:function(){var $rng$$=this.getRng();this.getSel();var $elm$$,$start$$=$rng$$.startContainer,$end$$=$rng$$.endContainer;if(!$rng$$)return this.dom.getRoot();
if($rng$$.setStart){$elm$$=$rng$$.commonAncestorContainer;if(!$rng$$.collapsed&&($rng$$.startContainer==$rng$$.endContainer&&2>$rng$$.endOffset-$rng$$.startOffset&&$rng$$.startContainer.hasChildNodes()&&($elm$$=$rng$$.startContainer.childNodes[$rng$$.startOffset]),3===$start$$.nodeType&&3===$end$$.nodeType)){var $skipEmptyTextNodes$$=function $$skipEmptyTextNodes$$$($n$$,$forwards$$){for(var $orig$$=$n$$;$n$$&&3===$n$$.nodeType&&0===$n$$.length;)$n$$=$forwards$$?$n$$.nextSibling:$n$$.previousSibling;
return $n$$||$orig$$},$start$$=$start$$.length===$rng$$.startOffset?$skipEmptyTextNodes$$($start$$.nextSibling,!0):$start$$.parentNode,$end$$=0===$rng$$.endOffset?$skipEmptyTextNodes$$($end$$.previousSibling,!1):$end$$.parentNode;if($start$$&&$start$$===$end$$)return $start$$}return $elm$$&&3==$elm$$.nodeType?$elm$$.parentNode:$elm$$}return $rng$$.item?$rng$$.item(0):$rng$$.parentElement()},getSelectedBlocks:function($st$$,$en$$){var $dom$$=this.dom,$sb$$,$eb$$,$n$$,$bl$$=[];$sb$$=$dom$$.getParent($st$$||
this.getStart(),$dom$$.isBlock);$eb$$=$dom$$.getParent($en$$||this.getEnd(),$dom$$.isBlock);$sb$$&&$bl$$.push($sb$$);if($sb$$&&$eb$$&&$sb$$!=$eb$$)for($n$$=$sb$$;($n$$=$n$$.nextSibling)&&$n$$!=$eb$$;)$dom$$.isBlock($n$$)&&$bl$$.push($n$$);$eb$$&&$sb$$!=$eb$$&&$bl$$.push($eb$$);return $bl$$},normalize:function(){function $normalizeEndPoint$$($start$$){var $container$$,$offset$$,$body$$4_walker$$,$dom$$=$self$$.dom;$body$$4_walker$$=$dom$$.getRoot();var $node$$;$container$$=$rng$$[($start$$?"start":
"end")+"Container"];$offset$$=$rng$$[($start$$?"start":"end")+"Offset"];9===$container$$.nodeType&&($container$$=$container$$.body,$offset$$=0);if($container$$===$body$$4_walker$$&&$container$$.hasChildNodes()&&($container$$=$container$$.childNodes[Math.min(!$start$$&&0<$offset$$?$offset$$-1:$offset$$,$container$$.childNodes.length-1)],$offset$$=0,$container$$.hasChildNodes())){$node$$=$container$$;$body$$4_walker$$=new $tinymce$$.dom.TreeWalker($container$$,$body$$4_walker$$);do{if(3===$node$$.nodeType){$offset$$=
$start$$?0:$node$$.nodeValue.length-1;$container$$=$node$$;break}if("BR"===$node$$.nodeName){$offset$$=$dom$$.nodeIndex($node$$);$container$$=$node$$.parentNode;break}}while($node$$=$start$$?$body$$4_walker$$.next():$body$$4_walker$$.prev());$normalized$$=!0}if($normalized$$)$rng$$["set"+($start$$?"Start":"End")]($container$$,$offset$$)}var $self$$=this,$rng$$,$normalized$$;$tinymce$$.isIE||($rng$$=$self$$.getRng(),$normalizeEndPoint$$(!0),$rng$$.collapsed&&$normalizeEndPoint$$(),$normalized$$&&$self$$.setRng($rng$$))},
destroy:function($s$$){this.win=null;this.getRng.lastRng=null;$s$$||$tinymce$$.removeUnload(this.destroy)},_fixIESelection:function(){function $rngFromPoint$$($x$$,$y$$){var $rng$$=$body$$.createTextRange();try{$rng$$.moveToPoint($x$$,$y$$)}catch($ex$$){$rng$$=null}return $rng$$}function $selectionChange$$($e$$){if($e$$.button){if($e$$=$rngFromPoint$$($e$$.x,$e$$.y))0<$e$$.compareEndPoints("StartToStart",$startRng$$)?$e$$.setEndPoint("StartToStart",$startRng$$):$e$$.setEndPoint("EndToEnd",$startRng$$),
$e$$.select()}else $endSelection$$();return!1}function $endSelection$$(){var $rng$$=$doc$$.selection.createRange();$startRng$$&&(!$rng$$.item&&0===$rng$$.compareEndPoints("StartToEnd",$rng$$))&&$startRng$$.select();$dom$$.unbind($doc$$,"mouseup",$endSelection$$);$dom$$.unbind($doc$$,"mousemove",$selectionChange$$);$startRng$$=$started$$=0}var $dom$$=this.dom,$doc$$=$dom$$.doc,$body$$=$doc$$.body,$started$$,$startRng$$,$htmlElm$$;$doc$$.documentElement.unselectable=!0;$dom$$.bind($doc$$,["mousedown",
"contextmenu"],function($e$$){if("HTML"===$e$$.target.nodeName&&($started$$&&$endSelection$$(),$htmlElm$$=$doc$$.documentElement,!($htmlElm$$.scrollHeight>$htmlElm$$.clientHeight))){$started$$=1;if($startRng$$=$rngFromPoint$$($e$$.x,$e$$.y))$dom$$.bind($doc$$,"mouseup",$endSelection$$),$dom$$.bind($doc$$,"mousemove",$selectionChange$$),$dom$$.win.focus(),$startRng$$.select();return!1}})}})})(tinymce);
(function($tinymce$$){$tinymce$$.dom.Serializer=function $$tinymce$$$dom$Serializer$($settings$$,$dom$$,$schema$$){var $onPreProcess$$,$onPostProcess$$,$isIE$$=$tinymce$$.isIE,$each$$=$tinymce$$.each,$htmlParser$$;$settings$$.apply_source_formatting||($settings$$.indent=!1);$settings$$.remove_trailing_brs=!0;$dom$$=$dom$$||$tinymce$$.DOM;$schema$$=$schema$$||new $tinymce$$.html.Schema($settings$$);$settings$$.entity_encoding=$settings$$.entity_encoding||"named";$onPreProcess$$=new $tinymce$$.util.Dispatcher(self);
$onPostProcess$$=new $tinymce$$.util.Dispatcher(self);$htmlParser$$=new $tinymce$$.html.DomParser($settings$$,$schema$$);$htmlParser$$.addAttributeFilter("src,href,style",function($nodes$$,$name$$){for(var $i$$=$nodes$$.length,$node$$,$value$$,$internalName$$="data-mce-"+$name$$,$urlConverter$$=$settings$$.url_converter,$urlConverterScope$$=$settings$$.url_converter_scope;$i$$--;){$node$$=$nodes$$[$i$$];$value$$=$node$$.attributes.map[$internalName$$];if($value$$!==void 0){$node$$.attr($name$$,$value$$.length>
0?$value$$:null);$node$$.attr($internalName$$,null)}else{$value$$=$node$$.attributes.map[$name$$];$name$$==="style"?$value$$=$dom$$.serializeStyle($dom$$.parseStyle($value$$),$node$$.name):$urlConverter$$&&($value$$=$urlConverter$$.call($urlConverterScope$$,$value$$,$name$$,$node$$.name));$node$$.attr($name$$,$value$$.length>0?$value$$:null)}}});$htmlParser$$.addAttributeFilter("class",function($nodes$$){for(var $i$$=$nodes$$.length,$node$$,$value$$;$i$$--;){$node$$=$nodes$$[$i$$];$value$$=$node$$.attr("class").replace(/\s*mce(Item\w+|Selected)\s*/g,
"");$node$$.attr("class",$value$$.length>0?$value$$:null)}});$htmlParser$$.addAttributeFilter("data-mce-type",function($nodes$$,$i$$81_name$$,$args$$){for(var $i$$81_name$$=$nodes$$.length,$node$$;$i$$81_name$$--;){$node$$=$nodes$$[$i$$81_name$$];$node$$.attributes.map["data-mce-type"]==="bookmark"&&!$args$$.cleanup&&$node$$.remove()}});$htmlParser$$.addNodeFilter("script,style",function($nodes$$,$name$$){function $trim$$($value$$){return $value$$.replace(/(<\!--\[CDATA\[|\]\]--\>)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,
"").replace(/^\s*(\/\/\s*<\!--|\/\/\s*<!\[CDATA\[|<\!--|<!\[CDATA\[)[\r\n]*/g,"").replace(/\s*(\/\/\s*\]\]>|\/\/\s*--\>|\]\]>|--\>|\]\]--\>)\s*$/g,"")}for(var $i$$=$nodes$$.length,$node$$,$value$$0$$;$i$$--;){$node$$=$nodes$$[$i$$];$value$$0$$=$node$$.firstChild?$node$$.firstChild.value:"";if($name$$==="script"){$node$$.attr("type",($node$$.attr("type")||"text/javascript").replace(/^mce\-/,""));if($value$$0$$.length>0)$node$$.firstChild.value="// <![CDATA[\n"+$trim$$($value$$0$$)+"\n// ]]\>"}else if($value$$0$$.length>
0)$node$$.firstChild.value="<\!--\n"+$trim$$($value$$0$$)+"\n--\>"}});$htmlParser$$.addNodeFilter("#comment",function($nodes$$){for(var $i$$=$nodes$$.length,$node$$;$i$$--;){$node$$=$nodes$$[$i$$];if($node$$.value.indexOf("[CDATA[")===0){$node$$.name="#cdata";$node$$.type=4;$node$$.value=$node$$.value.replace(/^\[CDATA\[|\]\]$/g,"")}else if($node$$.value.indexOf("mce:protected ")===0){$node$$.name="#text";$node$$.type=3;$node$$.raw=true;$node$$.value=unescape($node$$.value).substr(14)}}});$htmlParser$$.addNodeFilter("xml:namespace,input",
function($nodes$$,$name$$){for(var $i$$=$nodes$$.length,$node$$;$i$$--;){$node$$=$nodes$$[$i$$];$node$$.type===7?$node$$.remove():$node$$.type===1&&$name$$==="input"&&!("type"in $node$$.attributes.map)&&$node$$.attr("type","text")}});$settings$$.fix_list_elements&&$htmlParser$$.addNodeFilter("ul,ol",function($nodes$$){for(var $i$$=$nodes$$.length,$node$$,$parentNode$$;$i$$--;){$node$$=$nodes$$[$i$$];$parentNode$$=$node$$.parent;($parentNode$$.name==="ul"||$parentNode$$.name==="ol")&&$node$$.prev&&
$node$$.prev.name==="li"&&$node$$.prev.append($node$$)}});$htmlParser$$.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style",function($nodes$$,$name$$){for(var $i$$=$nodes$$.length;$i$$--;)$nodes$$[$i$$].attr($name$$,null)});return{schema:$schema$$,addNodeFilter:$htmlParser$$.addNodeFilter,addAttributeFilter:$htmlParser$$.addAttributeFilter,onPreProcess:$onPreProcess$$,onPostProcess:$onPostProcess$$,serialize:function($node$$0$$,$args$$){var $content$$,$doc$$,$oldDoc$$;if($isIE$$&&$dom$$.select("script,style,select,map").length>
0){$content$$=$node$$0$$.innerHTML;$node$$0$$=$node$$0$$.cloneNode(false);$dom$$.setHTML($node$$0$$,$content$$)}else $node$$0$$=$node$$0$$.cloneNode(true);$content$$=$node$$0$$.ownerDocument.implementation;if($content$$.createHTMLDocument){$doc$$=$content$$.createHTMLDocument("");$each$$($node$$0$$.nodeName=="BODY"?$node$$0$$.childNodes:[$node$$0$$],function($node$$){$doc$$.body.appendChild($doc$$.importNode($node$$,true))});$node$$0$$=$node$$0$$.nodeName!="BODY"?$doc$$.body.firstChild:$doc$$.body;
$oldDoc$$=$dom$$.doc;$dom$$.doc=$doc$$}$args$$=$args$$||{};$args$$.format=$args$$.format||"html";if(!$args$$.no_events){$args$$.node=$node$$0$$;$onPreProcess$$.dispatch(self,$args$$)}$content$$=new $tinymce$$.html.Serializer($settings$$,$schema$$);$args$$.content=$content$$.serialize($htmlParser$$.parse($args$$.getInner?$node$$0$$.innerHTML:$tinymce$$.trim($dom$$.getOuterHTML($node$$0$$),$args$$),$args$$));if(!$args$$.cleanup)$args$$.content=$args$$.content.replace(/\uFEFF/g,"");$args$$.no_events||
$onPostProcess$$.dispatch(self,$args$$);if($oldDoc$$)$dom$$.doc=$oldDoc$$;$args$$.node=null;return $args$$.content},addRules:function($rules$$){$schema$$.addValidElements($rules$$)},setRules:function($rules$$){$schema$$.setValidElements($rules$$)}}}})(tinymce);
(function($tinymce$$){$tinymce$$.dom.ScriptLoader=function $$tinymce$$$dom$ScriptLoader$(){function $loadScript$$($url$$,$callback$$){function $done$$(){$dom$$.remove($id$$);$elm$$&&($elm$$.onreadystatechange=$elm$$.onload=$elm$$=null);$callback$$()}function $error$$(){"undefined"!==typeof console&&console.log&&console.log("Failed to load: "+$url$$)}var $dom$$=$tinymce$$.DOM,$elm$$,$uri$$,$loc$$,$id$$;$id$$=$dom$$.uniqueId();if($tinymce$$.isIE6&&($uri$$=new $tinymce$$.util.URI($url$$),$loc$$=location,
$uri$$.host==$loc$$.hostname&&$uri$$.port==$loc$$.port&&$uri$$.protocol+":"==$loc$$.protocol&&"file"!=$uri$$.protocol.toLowerCase())){$tinymce$$.util.XHR.send({url:$tinymce$$._addVer($uri$$.getURI()),success:function($content$$){var $script$$=$dom$$.create("script",{type:"text/javascript"});$script$$.text=$content$$;document.getElementsByTagName("head")[0].appendChild($script$$);$dom$$.remove($script$$);$done$$()},error:$error$$});return}$elm$$=$dom$$.create("script",{id:$id$$,type:"text/javascript",
src:$tinymce$$._addVer($url$$)});if(!$tinymce$$.isIE||$tinymce$$.isIE11)$elm$$.onload=$done$$;$elm$$.onerror=$error$$;$tinymce$$.isOpera||($elm$$.onreadystatechange=function $$elm$$$onreadystatechange$(){var $state$$=$elm$$.readyState;("complete"==$state$$||"loaded"==$state$$)&&$done$$()});(document.getElementsByTagName("head")[0]||document.body).appendChild($elm$$)}var $states$$={},$queue$$=[],$scriptLoadedCallbacks$$={},$queueLoadedCallbacks$$=[],$loading$$=0;this.isDone=function $this$isDone$($url$$){return 2==
$states$$[$url$$]};this.markDone=function $this$markDone$($url$$){$states$$[$url$$]=2};this.add=this.load=function $this$load$($url$$,$callback$$,$scope$$){void 0==$states$$[$url$$]&&($queue$$.push($url$$),$states$$[$url$$]=0);$callback$$&&($scriptLoadedCallbacks$$[$url$$]||($scriptLoadedCallbacks$$[$url$$]=[]),$scriptLoadedCallbacks$$[$url$$].push({func:$callback$$,scope:$scope$$||this}))};this.loadQueue=function $this$loadQueue$($callback$$,$scope$$){this.loadScripts($queue$$,$callback$$,$scope$$)};
this.loadScripts=function $this$loadScripts$($scripts$$,$callback$$0$$,$scope$$){function $execScriptLoadedCallbacks$$($url$$){$tinymce$$.each($scriptLoadedCallbacks$$[$url$$],function($callback$$){$callback$$.func.call($callback$$.scope)});$scriptLoadedCallbacks$$[$url$$]=void 0}var $loadScripts$$;$queueLoadedCallbacks$$.push({func:$callback$$0$$,scope:$scope$$||this});$loadScripts$$=function $$loadScripts$$$(){var $loadingScripts$$=$tinymce$$.grep($scripts$$);$scripts$$.length=0;$tinymce$$.each($loadingScripts$$,
function($url$$){2==$states$$[$url$$]?$execScriptLoadedCallbacks$$($url$$):1!=$states$$[$url$$]&&($states$$[$url$$]=1,$loading$$++,$loadScript$$($url$$,function(){$states$$[$url$$]=2;$loading$$--;$execScriptLoadedCallbacks$$($url$$);$loadScripts$$()}))});$loading$$||($tinymce$$.each($queueLoadedCallbacks$$,function($callback$$){$callback$$.func.call($callback$$.scope)}),$queueLoadedCallbacks$$.length=0)};$loadScripts$$()}};$tinymce$$.ScriptLoader=new $tinymce$$.dom.ScriptLoader})(tinymce);
tinymce.dom.TreeWalker=function $tinymce$dom$TreeWalker$($start_node$$,$root_node$$){function $findSibling$$($node$$65_parent$$,$sibling$$,$sibling_name$$,$shallow$$){if($node$$65_parent$$){if(!$shallow$$&&$node$$65_parent$$[$sibling$$])return $node$$65_parent$$[$sibling$$];if($node$$65_parent$$!=$root_node$$){if($sibling$$=$node$$65_parent$$[$sibling_name$$])return $sibling$$;for($node$$65_parent$$=$node$$65_parent$$.parentNode;$node$$65_parent$$&&$node$$65_parent$$!=$root_node$$;$node$$65_parent$$=
$node$$65_parent$$.parentNode)if($sibling$$=$node$$65_parent$$[$sibling_name$$])return $sibling$$}}}var $node$$=$start_node$$;this.current=function $this$current$(){return $node$$};this.next=function $this$next$($shallow$$){return $node$$=$findSibling$$($node$$,"firstChild","nextSibling",$shallow$$)};this.prev=function $this$prev$($shallow$$){return $node$$=$findSibling$$($node$$,"lastChild","previousSibling",$shallow$$)}};
(function($tinymce$$){$tinymce$$.dom.RangeUtils=function $$tinymce$$$dom$RangeUtils$($dom$$){this.walk=function $this$walk$($rng$$,$callback$$){function $collectSiblings$$($node$$,$name$$,$end_node$$){for(var $siblings$$=[];$node$$&&$node$$!=$end_node$$;$node$$=$node$$[$name$$])$siblings$$.push($node$$);return $siblings$$}function $findEndPoint$$($node$$,$root$$){do{if($node$$.parentNode==$root$$)return $node$$;$node$$=$node$$.parentNode}while($node$$)}function $walkBoundary$$($start_node$$,$end_node$$,
$next$$){var $siblingName$$=$next$$?"nextSibling":"previousSibling";$node$$0$$=$start_node$$;for($parent$$=$node$$0$$.parentNode;$node$$0$$&&$node$$0$$!=$end_node$$;$node$$0$$=$parent$$)$parent$$=$node$$0$$.parentNode,$siblings$$=$collectSiblings$$($node$$0$$==$start_node$$?$node$$0$$:$node$$0$$[$siblingName$$],$siblingName$$),$siblings$$.length&&($next$$||$siblings$$.reverse(),$callback$$($siblings$$))}var $startContainer$$=$rng$$.startContainer,$startOffset$$=$rng$$.startOffset,$endContainer$$=
$rng$$.endContainer,$ancestor_endOffset$$3_endPoint$$=$rng$$.endOffset,$node$$0$$,$parent$$,$siblings$$,$nodes$$;$nodes$$=$dom$$.select("td.mceSelected,th.mceSelected");if(0<$nodes$$.length)$tinymce$$.each($nodes$$,function($node$$){$callback$$([$node$$])});else{1==$startContainer$$.nodeType&&$startContainer$$.hasChildNodes()&&($startContainer$$=$startContainer$$.childNodes[$startOffset$$]);1==$endContainer$$.nodeType&&$endContainer$$.hasChildNodes()&&($endContainer$$=$endContainer$$.childNodes[Math.min($startOffset$$==
$ancestor_endOffset$$3_endPoint$$?$ancestor_endOffset$$3_endPoint$$:$ancestor_endOffset$$3_endPoint$$-1,$endContainer$$.childNodes.length-1)]);$ancestor_endOffset$$3_endPoint$$=$dom$$.findCommonAncestor($startContainer$$,$endContainer$$);if($startContainer$$==$endContainer$$)return $callback$$([$startContainer$$]);for($node$$0$$=$startContainer$$;$node$$0$$;$node$$0$$=$node$$0$$.parentNode){if($node$$0$$==$endContainer$$)return $walkBoundary$$($startContainer$$,$ancestor_endOffset$$3_endPoint$$,!0);
if($node$$0$$==$ancestor_endOffset$$3_endPoint$$)break}for($node$$0$$=$endContainer$$;$node$$0$$;$node$$0$$=$node$$0$$.parentNode){if($node$$0$$==$startContainer$$)return $walkBoundary$$($endContainer$$,$ancestor_endOffset$$3_endPoint$$);if($node$$0$$==$ancestor_endOffset$$3_endPoint$$)break}$startOffset$$=$findEndPoint$$($startContainer$$,$ancestor_endOffset$$3_endPoint$$)||$startContainer$$;$ancestor_endOffset$$3_endPoint$$=$findEndPoint$$($endContainer$$,$ancestor_endOffset$$3_endPoint$$)||$endContainer$$;
$walkBoundary$$($startContainer$$,$startOffset$$,!0);$siblings$$=$collectSiblings$$($startOffset$$==$startContainer$$?$startOffset$$:$startOffset$$.nextSibling,"nextSibling",$ancestor_endOffset$$3_endPoint$$==$endContainer$$?$ancestor_endOffset$$3_endPoint$$.nextSibling:$ancestor_endOffset$$3_endPoint$$);$siblings$$.length&&$callback$$($siblings$$);$walkBoundary$$($endContainer$$,$ancestor_endOffset$$3_endPoint$$)}}};$tinymce$$.dom.RangeUtils.compareRanges=function $$tinymce$$$dom$RangeUtils$compareRanges$($rng1$$,
$rng2$$){if($rng1$$&&$rng2$$)if($rng1$$.item||$rng1$$.duplicate){if($rng1$$.item&&$rng2$$.item&&$rng1$$.item(0)===$rng2$$.item(0)||$rng1$$.isEqual&&$rng2$$.isEqual&&$rng2$$.isEqual($rng1$$))return!0}else return $rng1$$.startContainer==$rng2$$.startContainer&&$rng1$$.startOffset==$rng2$$.startOffset;return!1}})(tinymce);
(function($tinymce$$){var $Event$$=$tinymce$$.dom.Event,$each$$=$tinymce$$.each;$tinymce$$.create("tinymce.ui.KeyboardNavigation",{KeyboardNavigation:function($settings$$,$dom$$){var $t$$=this,$root$$=$settings$$.root,$items$$=$settings$$.items,$enableUpDown$$=$settings$$.enableUpDown,$enableLeftRight$$=$settings$$.enableLeftRight||!$settings$$.enableUpDown,$excludeFromTabOrder$$=$settings$$.excludeFromTabOrder,$itemFocussed$$,$itemBlurred$$,$rootKeydown$$,$rootFocussed$$,$focussedId$$,$dom$$=$dom$$||
$tinymce$$.DOM;$itemFocussed$$=function $$itemFocussed$$$($evt$$){$focussedId$$=$evt$$.target.id};$itemBlurred$$=function $$itemBlurred$$$($evt$$){$dom$$.setAttrib($evt$$.target.id,"tabindex","-1")};$rootFocussed$$=function $$rootFocussed$$$(){var $item$$=$dom$$.get($focussedId$$);$dom$$.setAttrib($item$$,"tabindex","0");$item$$.focus()};$t$$.focus=function $$t$$$focus$(){$dom$$.get($focussedId$$).focus()};$t$$.destroy=function $$t$$$destroy$(){$each$$($items$$,function($item$$){$dom$$.unbind($dom$$.get($item$$.id),
"focus",$itemFocussed$$);$dom$$.unbind($dom$$.get($item$$.id),"blur",$itemBlurred$$)});$dom$$.unbind($dom$$.get($root$$),"focus",$rootFocussed$$);$dom$$.unbind($dom$$.get($root$$),"keydown",$rootKeydown$$);$items$$=$dom$$=$root$$=$t$$.focus=$itemFocussed$$=$itemBlurred$$=$rootKeydown$$=$rootFocussed$$=null;$t$$.destroy=function $$t$$$destroy$(){}};$t$$.moveFocus=function $$t$$$moveFocus$($dir$$,$evt$$){var $idx$$=-1,$newFocus$$;if($focussedId$$){$each$$($items$$,function($item$$,$index$$){if($item$$.id===
$focussedId$$)return $idx$$=$index$$,!1});$idx$$+=$dir$$;0>$idx$$?$idx$$=$items$$.length-1:$idx$$>=$items$$.length&&($idx$$=0);$newFocus$$=$items$$[$idx$$];$dom$$.setAttrib($focussedId$$,"tabindex","-1");$dom$$.setAttrib($newFocus$$.id,"tabindex","0");$dom$$.get($newFocus$$.id).focus();if($settings$$.actOnFocus)$settings$$.onAction($newFocus$$.id);$evt$$&&$Event$$.cancel($evt$$)}};$rootKeydown$$=function $$rootKeydown$$$($evt$$){switch($evt$$.keyCode){case 37:$enableLeftRight$$&&$t$$.moveFocus(-1);
break;case 39:$enableLeftRight$$&&$t$$.moveFocus(1);break;case 38:$enableUpDown$$&&$t$$.moveFocus(-1);break;case 40:$enableUpDown$$&&$t$$.moveFocus(1);break;case 27:$settings$$.onCancel&&($settings$$.onCancel(),$Event$$.cancel($evt$$));break;case 14:case 13:case 32:$settings$$.onAction&&($settings$$.onAction($focussedId$$),$Event$$.cancel($evt$$))}};$each$$($items$$,function($item$$,$idx$$){var $tabindex$$;$item$$.id||($item$$.id=$dom$$.uniqueId("_mce_item_"));$excludeFromTabOrder$$?($dom$$.bind($item$$.id,
"blur",$itemBlurred$$),$tabindex$$="-1"):$tabindex$$=0===$idx$$?"0":"-1";$dom$$.setAttrib($item$$.id,"tabindex",$tabindex$$);$dom$$.bind($dom$$.get($item$$.id),"focus",$itemFocussed$$)});$items$$[0]&&($focussedId$$=$items$$[0].id);$dom$$.setAttrib($root$$,"tabindex","-1");$dom$$.bind($dom$$.get($root$$),"focus",$rootFocussed$$);$dom$$.bind($dom$$.get($root$$),"keydown",$rootKeydown$$)}})})(tinymce);
(function($tinymce$$){var $DOM$$=$tinymce$$.DOM,$is$$=$tinymce$$.is;$tinymce$$.create("tinymce.ui.Control",{Control:function($id$$,$s$$,$editor$$){this.id=$id$$;this.settings=$s$$=$s$$||{};this.rendered=!1;this.onRender=new $tinymce$$.util.Dispatcher(this);this.classPrefix="";this.scope=$s$$.scope||this;this.active=this.disabled=0;this.editor=$editor$$},setAriaProperty:function($property$$,$value$$){var $element$$=$DOM$$.get(this.id+"_aria")||$DOM$$.get(this.id);$element$$&&$DOM$$.setAttrib($element$$,
"aria-"+$property$$,!!$value$$)},focus:function(){$DOM$$.get(this.id).focus()},setDisabled:function($s$$){$s$$!=this.disabled&&(this.setAriaProperty("disabled",$s$$),this.setState("Disabled",$s$$),this.setState("Enabled",!$s$$),this.disabled=$s$$)},isDisabled:function(){return this.disabled},setActive:function($s$$){$s$$!=this.active&&(this.setState("Active",$s$$),this.active=$s$$,this.setAriaProperty("pressed",$s$$))},isActive:function(){return this.active},setState:function($c$$,$s$$){var $n$$=
$DOM$$.get(this.id),$c$$=this.classPrefix+$c$$;$s$$?$DOM$$.addClass($n$$,$c$$):$DOM$$.removeClass($n$$,$c$$)},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function($n$$){$DOM$$.setHTML($n$$,this.renderHTML())},postRender:function(){var $b$$;$is$$(this.disabled)&&($b$$=this.disabled,this.disabled=-1,this.setDisabled($b$$));$is$$(this.active)&&($b$$=this.active,this.active=-1,this.setActive($b$$))},remove:function(){$DOM$$.remove(this.id);this.destroy()},destroy:function(){$tinymce$$.dom.Event.clear(this.id)}})})(tinymce);
tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function($id$$,$s$$,$editor$$){this.parent($id$$,$s$$,$editor$$);this.controls=[];this.lookup={}},add:function($c$$){this.lookup[$c$$.id]=$c$$;this.controls.push($c$$);return $c$$},get:function($n$$){return this.lookup[$n$$]}});
tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function($id$$,$s$$){this.parent($id$$,$s$$);this.classPrefix="mceSeparator";this.setDisabled(!0)},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix,role:"separator","aria-orientation":"vertical",tabindex:"-1"})}});
(function($tinymce$$){var $is$$=$tinymce$$.is;$tinymce$$.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function($id$$,$s$$){this.parent($id$$,$s$$);this.classPrefix="mceMenuItem"},setSelected:function($s$$){this.setState("Selected",$s$$);this.setAriaProperty("checked",!!$s$$);this.selected=$s$$},isSelected:function(){return this.selected},postRender:function(){this.parent();$is$$(this.selected)&&this.setSelected(this.selected)}})})(tinymce);
(function($tinymce$$){var $DOM$$=$tinymce$$.DOM,$walk$$=$tinymce$$.walk;$tinymce$$.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function($id$$,$s$$){this.parent($id$$,$s$$);this.items={};this.collapsed=!1;this.menuCount=0;this.onAddItem=new $tinymce$$.util.Dispatcher(this)},expand:function($d$$){$d$$&&$walk$$(this,function($o$$){$o$$.expand&&$o$$.expand()},"items",this);this.collapsed=!1},collapse:function($d$$){$d$$&&$walk$$(this,function($o$$){$o$$.collapse&&$o$$.collapse()},"items",this);
this.collapsed=!0},isCollapsed:function(){return this.collapsed},add:function($o$$){$o$$.settings||($o$$=new $tinymce$$.ui.MenuItem($o$$.id||$DOM$$.uniqueId(),$o$$));this.onAddItem.dispatch(this,$o$$);return this.items[$o$$.id]=$o$$},addSeparator:function(){return this.add({separator:!0})},addMenu:function($o$$){$o$$.collapse||($o$$=this.createMenu($o$$));this.menuCount++;return this.add($o$$)},hasMenus:function(){return 0!==this.menuCount},remove:function($o$$){delete this.items[$o$$.id]},removeAll:function(){$walk$$(this,
function($o$$){$o$$.removeAll?$o$$.removeAll():$o$$.remove();$o$$.destroy()},"items",this);this.items={}},createMenu:function($m$$3_o$$){$m$$3_o$$=new $tinymce$$.ui.Menu($m$$3_o$$.id||$DOM$$.uniqueId(),$m$$3_o$$);$m$$3_o$$.onAddItem.add(this.onAddItem.dispatch,this.onAddItem);return $m$$3_o$$}})})(tinymce);
(function($tinymce$$){var $is$$=$tinymce$$.is,$DOM$$=$tinymce$$.DOM,$each$$=$tinymce$$.each,$Event$$=$tinymce$$.dom.Event,$Element$$=$tinymce$$.dom.Element;$tinymce$$.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function($id$$,$s$$){$s$$=$s$$||{};$s$$.container=$s$$.container||$DOM$$.doc.body;$s$$.offset_x=$s$$.offset_x||0;$s$$.offset_y=$s$$.offset_y||0;$s$$.vp_offset_x=$s$$.vp_offset_x||0;$s$$.vp_offset_y=$s$$.vp_offset_y||0;$is$$($s$$.icons)&&!$s$$.icons&&($s$$["class"]+=" mceNoIcons");
this.parent($id$$,$s$$);this.onShowMenu=new $tinymce$$.util.Dispatcher(this);this.onHideMenu=new $tinymce$$.util.Dispatcher(this);this.classPrefix="mceMenu"},createMenu:function($m$$4_s$$){var $cs$$=this.settings;$m$$4_s$$.container=$m$$4_s$$.container||$cs$$.container;$m$$4_s$$.parent=this;$m$$4_s$$.constrain=$m$$4_s$$.constrain||$cs$$.constrain;$m$$4_s$$["class"]=$m$$4_s$$["class"]||$cs$$["class"];$m$$4_s$$.vp_offset_x=$m$$4_s$$.vp_offset_x||$cs$$.vp_offset_x;$m$$4_s$$.vp_offset_y=$m$$4_s$$.vp_offset_y||
$cs$$.vp_offset_y;$m$$4_s$$.keyboard_focus=$cs$$.keyboard_focus;$m$$4_s$$=new $tinymce$$.ui.DropMenu($m$$4_s$$.id||$DOM$$.uniqueId(),$m$$4_s$$);$m$$4_s$$.onAddItem.add(this.onAddItem.dispatch,this.onAddItem);return $m$$4_s$$},focus:function(){this.keyboardNav&&this.keyboardNav.focus()},update:function(){var $s$$=this.settings,$tb$$=$DOM$$.get("menu_"+this.id+"_tbl"),$co$$=$DOM$$.get("menu_"+this.id+"_co"),$tw$$,$th$$;$tw$$=$s$$.max_width?Math.min($tb$$.clientWidth,$s$$.max_width):$tb$$.clientWidth;
$th$$=$s$$.max_height?Math.min($tb$$.clientHeight,$s$$.max_height):$tb$$.clientHeight;$DOM$$.boxModel?this.element.setStyles({width:$tw$$,height:$th$$}):this.element.setStyles({width:$tw$$+2,height:$th$$+2});$s$$.max_width&&$DOM$$.setStyle($co$$,"width",$tw$$);$s$$.max_height&&($DOM$$.setStyle($co$$,"height",$th$$),$tb$$.clientHeight<$s$$.max_height&&$DOM$$.setStyle($co$$,"overflow","hidden"))},showMenu:function($x$$,$y$$,$px$$){var $t$$=this,$s$$=$t$$.settings,$co$$,$my_vp$$=$DOM$$.getViewPort(),
$w$$,$h$$,$mx$$,$dm$$,$cp$$=$t$$.classPrefix;$t$$.collapse(1);$t$$.isMenuVisible||($t$$.rendered?$co$$=$DOM$$.get("menu_"+$t$$.id):($co$$=$DOM$$.add($t$$.settings.container,$t$$.renderNode()),$each$$($t$$.items,function($o$$){$o$$.postRender()}),$t$$.element=new $Element$$("menu_"+$t$$.id,{blocker:1,container:$s$$.container})),$tinymce$$.isOpera||$DOM$$.setStyles($co$$,{left:-65535,top:-65535}),$DOM$$.show($co$$),$t$$.update(),$x$$+=$s$$.offset_x||0,$y$$+=$s$$.offset_y||0,$my_vp$$.w-=4,$my_vp$$.h-=
4,$s$$.constrain&&($w$$=$co$$.clientWidth-2,$h$$=$co$$.clientHeight-2,$mx$$=$my_vp$$.x+$my_vp$$.w,$my_vp$$=$my_vp$$.y+$my_vp$$.h,$x$$+$s$$.vp_offset_x+$w$$>$mx$$&&($x$$=$px$$?$px$$-$w$$:Math.max(0,$mx$$-$s$$.vp_offset_x-$w$$)),$y$$+$s$$.vp_offset_y+$h$$>$my_vp$$&&($y$$=Math.max(0,$my_vp$$-$s$$.vp_offset_y-$h$$))),$DOM$$.setStyles($co$$,{left:$x$$,top:$y$$}),$t$$.element.update(),$t$$.isMenuVisible=1,$t$$.mouseClickFunc=$Event$$.add($co$$,"click",function($e$$){var $m$$;if(($e$$=$e$$.target)&&($e$$=
$DOM$$.getParent($e$$,"tr"))&&!$DOM$$.hasClass($e$$,$cp$$+"ItemSub")){$m$$=$t$$.items[$e$$.id];if(!$m$$.isDisabled()){for($dm$$=$t$$;$dm$$;){$dm$$.hideMenu&&$dm$$.hideMenu();$dm$$=$dm$$.settings.parent}if($m$$.settings.onclick)$m$$.settings.onclick($e$$);return $Event$$.cancel($e$$)}}}),$t$$.hasMenus()&&($t$$.mouseOverFunc=$Event$$.add($co$$,"mouseover",function($e$$59_r$$){var $m$$;if(($e$$59_r$$=$e$$59_r$$.target)&&($e$$59_r$$=$DOM$$.getParent($e$$59_r$$,"tr"))){$m$$=$t$$.items[$e$$59_r$$.id];$t$$.lastMenu&&
$t$$.lastMenu.collapse(1);if(!$m$$.isDisabled()&&$e$$59_r$$&&$DOM$$.hasClass($e$$59_r$$,$cp$$+"ItemSub")){$e$$59_r$$=$DOM$$.getRect($e$$59_r$$);$m$$.showMenu($e$$59_r$$.x+$e$$59_r$$.w-2,$e$$59_r$$.y-2,$e$$59_r$$.x);$t$$.lastMenu=$m$$;$DOM$$.addClass($DOM$$.get($m$$.id).firstChild,$cp$$+"ItemActive")}}})),$Event$$.add($co$$,"keydown",$t$$._keyHandler,$t$$),$t$$.onShowMenu.dispatch($t$$),$s$$.keyboard_focus&&$t$$._setupKeyboardNav())},hideMenu:function($c$$){var $co$$=$DOM$$.get("menu_"+this.id),$e$$;
this.isMenuVisible&&(this.keyboardNav&&this.keyboardNav.destroy(),$Event$$.remove($co$$,"mouseover",this.mouseOverFunc),$Event$$.remove($co$$,"click",this.mouseClickFunc),$Event$$.remove($co$$,"keydown",this._keyHandler),$DOM$$.hide($co$$),this.isMenuVisible=0,$c$$||this.collapse(1),this.element&&this.element.hide(),($e$$=$DOM$$.get(this.id))&&$DOM$$.removeClass($e$$.firstChild,this.classPrefix+"ItemActive"),this.onHideMenu.dispatch(this))},add:function($o$$){var $co$$,$o$$=this.parent($o$$);this.isRendered&&
($co$$=$DOM$$.get("menu_"+this.id))&&this._add($DOM$$.select("tbody",$co$$)[0],$o$$);return $o$$},collapse:function($d$$){this.parent($d$$);this.hideMenu(1)},remove:function($o$$){$DOM$$.remove($o$$.id);this.destroy();return this.parent($o$$)},destroy:function(){var $co$$=$DOM$$.get("menu_"+this.id);this.keyboardNav&&this.keyboardNav.destroy();$Event$$.remove($co$$,"mouseover",this.mouseOverFunc);$Event$$.remove($DOM$$.select("a",$co$$),"focus",this.mouseOverFunc);$Event$$.remove($co$$,"click",this.mouseClickFunc);
$Event$$.remove($co$$,"keydown",this._keyHandler);this.element&&this.element.remove();$DOM$$.remove($co$$)},renderNode:function(){var $t$$=this,$n$$72_s$$=$t$$.settings,$tb$$,$co$$,$w$$;$w$$=$DOM$$.create("div",{role:"listbox",id:"menu_"+$t$$.id,"class":$n$$72_s$$["class"],style:"position:absolute;left:0;top:0;z-index:200000;outline:0"});$t$$.settings.parent&&$DOM$$.setAttrib($w$$,"aria-parent","menu_"+$t$$.settings.parent.id);$co$$=$DOM$$.add($w$$,"div",{role:"presentation",id:"menu_"+$t$$.id+"_co",
"class":$t$$.classPrefix+($n$$72_s$$["class"]?" "+$n$$72_s$$["class"]:"")});$t$$.element=new $Element$$("menu_"+$t$$.id,{blocker:1,container:$n$$72_s$$.container});$n$$72_s$$.menu_line&&$DOM$$.add($co$$,"span",{"class":$t$$.classPrefix+"Line"});$n$$72_s$$=$DOM$$.add($co$$,"table",{role:"presentation",id:"menu_"+$t$$.id+"_tbl",border:0,cellPadding:0,cellSpacing:0});$tb$$=$DOM$$.add($n$$72_s$$,"tbody");$each$$($t$$.items,function($o$$){$t$$._add($tb$$,$o$$)});$t$$.rendered=!0;return $w$$},_setupKeyboardNav:function(){var $contextMenu$$,
$menuItems$$,$t$$=this;$contextMenu$$=$DOM$$.select("#menu_"+$t$$.id)[0];$menuItems$$=$DOM$$.select("a[role=option]","menu_"+$t$$.id);$menuItems$$.splice(0,0,$contextMenu$$);$t$$.keyboardNav=new $tinymce$$.ui.KeyboardNavigation({root:"menu_"+$t$$.id,items:$menuItems$$,onCancel:function(){$t$$.hideMenu()},enableUpDown:!0});$contextMenu$$.focus()},_keyHandler:function($evt$$){switch($evt$$.keyCode){case 37:this.settings.parent&&(this.hideMenu(),this.settings.parent.focus(),$Event$$.cancel($evt$$));
break;case 39:this.mouseOverFunc&&this.mouseOverFunc($evt$$)}},_add:function($tb$$,$o$$){var $n$$,$s$$=$o$$.settings,$a$$,$ro$$,$it$$,$cp$$=this.classPrefix;$s$$.separator?($ro$$=$DOM$$.add($tb$$,"tr",{id:$o$$.id,"class":$cp$$+"ItemSeparator"}),$DOM$$.add($ro$$,"td",{"class":$cp$$+"ItemSeparator"}),($n$$=$ro$$.previousSibling)&&$DOM$$.addClass($n$$,"mceLast")):($n$$=$ro$$=$DOM$$.add($tb$$,"tr",{id:$o$$.id,"class":$cp$$+"Item "+$cp$$+"ItemEnabled"}),$n$$=$it$$=$DOM$$.add($n$$,$s$$.titleItem?"th":"td"),
$n$$=$a$$=$DOM$$.add($n$$,"a",{id:$o$$.id+"_aria",role:$s$$.titleItem?"presentation":"option",href:"javascript:;",onclick:"return false;",onmousedown:"return false;"}),$s$$.parent&&($DOM$$.setAttrib($a$$,"aria-haspopup","true"),$DOM$$.setAttrib($a$$,"aria-owns","menu_"+$o$$.id)),$DOM$$.addClass($it$$,$s$$["class"]),$a$$=$DOM$$.add($n$$,"span",{"class":"mceIcon"+($s$$.icon?" mce_"+$s$$.icon:"")}),$s$$.icon_src&&$DOM$$.add($a$$,"img",{src:$s$$.icon_src}),$n$$=$DOM$$.add($n$$,$s$$.element||"span",{"class":"mceText",
title:$o$$.settings.title},$o$$.settings.title),$o$$.settings.style&&$DOM$$.setAttrib($n$$,"style",$o$$.settings.style),1==$tb$$.childNodes.length&&$DOM$$.addClass($ro$$,"mceFirst"),($n$$=$ro$$.previousSibling)&&$DOM$$.hasClass($n$$,$cp$$+"ItemSeparator")&&$DOM$$.addClass($ro$$,"mceFirst"),$o$$.collapse&&$DOM$$.addClass($ro$$,$cp$$+"ItemSub"),($n$$=$ro$$.previousSibling)&&$DOM$$.removeClass($n$$,"mceLast"),$DOM$$.addClass($ro$$,"mceLast"))}})})(tinymce);
(function($tinymce$$){var $DOM$$=$tinymce$$.DOM;$tinymce$$.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function($id$$,$s$$,$ed$$){this.parent($id$$,$s$$,$ed$$);this.classPrefix="mceButton"},renderHTML:function(){var $cp$$=this.classPrefix,$s$$=this.settings,$h$$,$l$$;$l$$=$DOM$$.encode($s$$.label||"");$h$$='<a role="button" id="'+this.id+'" href="javascript:;" class="'+$cp$$+" "+$cp$$+"Enabled "+$s$$["class"]+($l$$?" "+$cp$$+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" aria-labelledby="'+
this.id+'_voice" title="'+$DOM$$.encode($s$$.title)+'">';$h$$=$s$$.image&&(!this.editor||!this.editor.forcedHighContrastMode)?$h$$+('<img class="mceIcon" src="'+$s$$.image+'" alt="'+$DOM$$.encode($s$$.title)+'" />'+$l$$):$h$$+('<span class="mceIcon '+$s$$["class"]+'"></span>'+($l$$?'<span class="'+$cp$$+'Label">'+$l$$+"</span>":""));$h$$+='<label class="mceVoiceLabel mceIconOnly j-508-label" id="'+this.id+'_voice">'+$s$$.title+"</span>";return $h$$+"</label>"},postRender:function(){var $t$$=this,
$s$$=$t$$.settings;$tinymce$$.dom.Event.add($t$$.id,"click",function($e$$){if(!$t$$.isDisabled())return $s$$.onclick.call($s$$.scope,$e$$)});$tinymce$$.dom.Event.add($t$$.id,"keyup",function($e$$){if(!$t$$.isDisabled()&&$e$$.keyCode==$tinymce$$.VK.SPACEBAR)return $s$$.onclick.call($s$$.scope,$e$$)})}})})(tinymce);
(function($tinymce$$){var $DOM$$=$tinymce$$.DOM,$Event$$=$tinymce$$.dom.Event,$each$$=$tinymce$$.each,$Dispatcher$$=$tinymce$$.util.Dispatcher;$tinymce$$.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function($id$$,$s$$,$ed$$){this.parent($id$$,$s$$,$ed$$);this.items=[];this.onChange=new $Dispatcher$$(this);this.onPostRender=new $Dispatcher$$(this);this.onAdd=new $Dispatcher$$(this);this.onRenderMenu=new $tinymce$$.util.Dispatcher(this);this.classPrefix="mceListBox"},select:function($va$$){var $t$$=
this,$fv$$,$f$$;if(void 0==$va$$)return $t$$.selectByIndex(-1);$f$$=$va$$&&$va$$.call?$va$$:function($v$$){return $v$$==$va$$};$va$$!=$t$$.selectedValue&&($each$$($t$$.items,function($o$$,$i$$){if($f$$($o$$.value))return $fv$$=1,$t$$.selectByIndex($i$$),!1}),$fv$$||$t$$.selectByIndex(-1))},selectByIndex:function($idx$$){var $e$$,$o$$;$idx$$!=this.selectedIndex&&($e$$=$DOM$$.get(this.id+"_text"),($o$$=this.items[$idx$$])?(this.selectedValue=$o$$.value,this.selectedIndex=$idx$$,$DOM$$.setHTML($e$$,
$DOM$$.encode($o$$.title)),$DOM$$.removeClass($e$$,"mceTitle"),$DOM$$.setAttrib(this.id,"aria-valuenow",$o$$.title)):($DOM$$.setHTML($e$$,$DOM$$.encode(this.settings.title)),$DOM$$.addClass($e$$,"mceTitle"),this.selectedValue=this.selectedIndex=null,$DOM$$.setAttrib(this.id,"aria-valuenow",this.settings.title)))},add:function($n$$,$v$$,$o$$){$o$$=$o$$||{};$o$$=$tinymce$$.extend($o$$,{title:$n$$,value:$v$$});this.items.push($o$$);this.onAdd.dispatch(this,$o$$)},getLength:function(){return this.items.length},
renderHTML:function(){var $h$$17_s$$="",$h$$17_s$$=this.settings,$cp$$=this.classPrefix,$h$$17_s$$='<span role="button" aria-haspopup="true" aria-labelledby="'+this.id+'_text" aria-describedby="'+this.id+'_voiceDesc"><table role="presentation" tabindex="0" id="'+this.id+'" cellpadding="0" cellspacing="0" class="'+$cp$$+" "+$cp$$+"Enabled"+($h$$17_s$$["class"]?" "+$h$$17_s$$["class"]:"")+'"><tbody><tr>',$h$$17_s$$=$h$$17_s$$+("<td>"+$DOM$$.createHTML("span",{id:this.id+"_voiceDesc","class":"voiceLabel",
style:"display:none;"},this.settings.title)),$h$$17_s$$=$h$$17_s$$+($DOM$$.createHTML("a",{id:this.id+"_text",tabindex:-1,href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},$DOM$$.encode(this.settings.title))+"</td>"),$h$$17_s$$=$h$$17_s$$+("<td>"+$DOM$$.createHTML("a",{id:this.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},'<span><span style="display:none;" class="mceIconOnly" aria-hidden="true">\u25bc</span></span>')+
"</td>");return $h$$17_s$$+"</tr></tbody></table></span>"},showMenu:function(){var $t$$=this,$p2$$,$e$$=$DOM$$.get(this.id),$m$$;if(!($t$$.isDisabled()||0==$t$$.items.length)){if($t$$.menu&&$t$$.menu.isMenuVisible)return $t$$.hideMenu();$t$$.isMenuRendered||($t$$.renderMenu(),$t$$.isMenuRendered=!0);$p2$$=$DOM$$.getPos($e$$);$m$$=$t$$.menu;$m$$.settings.offset_x=$p2$$.x;$m$$.settings.offset_y=$p2$$.y;$m$$.settings.keyboard_focus=!$tinymce$$.isOpera;$t$$.oldID&&$m$$.items[$t$$.oldID].setSelected(0);
$each$$($t$$.items,function($o$$){if($o$$.value===$t$$.selectedValue){$m$$.items[$o$$.id].setSelected(1);$t$$.oldID=$o$$.id}});$m$$.showMenu(0,$e$$.clientHeight);$Event$$.add($DOM$$.doc,"mousedown",$t$$.hideMenu,$t$$);$DOM$$.addClass($t$$.id,$t$$.classPrefix+"Selected")}},hideMenu:function($e$$){if(this.menu&&this.menu.isMenuVisible&&($DOM$$.removeClass(this.id,this.classPrefix+"Selected"),!$e$$||!("mousedown"==$e$$.type&&($e$$.target.id==this.id+"_text"||$e$$.target.id==this.id+"_open"))))if(!$e$$||
!$DOM$$.getParent($e$$.target,".mceMenu"))$DOM$$.removeClass(this.id,this.classPrefix+"Selected"),$Event$$.remove($DOM$$.doc,"mousedown",this.hideMenu,this),this.menu.hideMenu()},renderMenu:function(){var $t$$=this,$m$$;$m$$=$t$$.settings.control_manager.createDropMenu($t$$.id+"_menu",{menu_line:1,"class":$t$$.classPrefix+"Menu mceNoIcons",max_width:150,max_height:150});$m$$.onHideMenu.add(function(){$t$$.hideMenu();$t$$.focus()});$m$$.add({title:$t$$.settings.title,"class":"mceMenuItemTitle",onclick:function(){!1!==
$t$$.settings.onselect("")&&$t$$.select("")}});$each$$($t$$.items,function($o$$){void 0===$o$$.value?$m$$.add({title:$o$$.title,"class":"mceMenuItemTitle",onclick:function(){!1!==$t$$.settings.onselect("")&&$t$$.select("")}}):($o$$.id=$DOM$$.uniqueId(),$o$$.onclick=function $$o$$$onclick$(){!1!==$t$$.settings.onselect($o$$.value)&&$t$$.select($o$$.value)},$m$$.add($o$$))});$t$$.onRenderMenu.dispatch($t$$,$m$$);$t$$.menu=$m$$},postRender:function(){var $t$$=this,$cp$$=$t$$.classPrefix;$Event$$.add($t$$.id,
"click",$t$$.showMenu,$t$$);$Event$$.add($t$$.id,"keydown",function($evt$$){32==$evt$$.keyCode&&($t$$.showMenu($evt$$),$Event$$.cancel($evt$$))});$Event$$.add($t$$.id,"focus",function(){$t$$._focused||($t$$.keyDownHandler=$Event$$.add($t$$.id,"keydown",function($e$$){40==$e$$.keyCode&&($t$$.showMenu(),$Event$$.cancel($e$$))}),$t$$.keyPressHandler=$Event$$.add($t$$.id,"keypress",function($e$$){var $v$$;13==$e$$.keyCode&&($v$$=$t$$.selectedValue,$t$$.selectedValue=null,$Event$$.cancel($e$$),$t$$.settings.onselect($v$$))}));
$t$$._focused=1});$Event$$.add($t$$.id,"blur",function(){$Event$$.remove($t$$.id,"keydown",$t$$.keyDownHandler);$Event$$.remove($t$$.id,"keypress",$t$$.keyPressHandler);$t$$._focused=0});if($tinymce$$.isIE6||!$DOM$$.boxModel)$Event$$.add($t$$.id,"mouseover",function(){$DOM$$.hasClass($t$$.id,$cp$$+"Disabled")||$DOM$$.addClass($t$$.id,$cp$$+"Hover")}),$Event$$.add($t$$.id,"mouseout",function(){$DOM$$.hasClass($t$$.id,$cp$$+"Disabled")||$DOM$$.removeClass($t$$.id,$cp$$+"Hover")});$t$$.onPostRender.dispatch($t$$,
$DOM$$.get($t$$.id))},destroy:function(){this.parent();$Event$$.clear(this.id+"_text");$Event$$.clear(this.id+"_open")}})})(tinymce);
(function($tinymce$$){var $DOM$$=$tinymce$$.DOM,$Event$$=$tinymce$$.dom.Event,$each$$=$tinymce$$.each;$tinymce$$.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function($id$$,$s$$){this.parent($id$$,$s$$);this.classPrefix="mceNativeListBox"},setDisabled:function($s$$){$DOM$$.get(this.id).disabled=$s$$;this.setAriaProperty("disabled",$s$$)},isDisabled:function(){return $DOM$$.get(this.id).disabled},select:function($va$$){var $t$$=this,$fv$$,$f$$;if(void 0==$va$$)return $t$$.selectByIndex(-1);
$f$$=$va$$&&$va$$.call?$va$$:function($v$$){return $v$$==$va$$};$va$$!=$t$$.selectedValue&&($each$$($t$$.items,function($o$$,$i$$){if($f$$($o$$.value))return $fv$$=1,$t$$.selectByIndex($i$$),!1}),$fv$$||$t$$.selectByIndex(-1))},selectByIndex:function($idx$$){$DOM$$.get(this.id).selectedIndex=$idx$$+1;this.selectedValue=this.items[$idx$$]?this.items[$idx$$].value:null},add:function($n$$75_o$$,$v$$,$a$$){$a$$=$a$$||{};$a$$.value=$v$$;this.isRendered()&&$DOM$$.add($DOM$$.get(this.id),"option",$a$$,$n$$75_o$$);
$n$$75_o$$={title:$n$$75_o$$,value:$v$$,attribs:$a$$};this.items.push($n$$75_o$$);this.onAdd.dispatch(this,$n$$75_o$$)},getLength:function(){return this.items.length},renderHTML:function(){var $h$$;$h$$=$DOM$$.createHTML("option",{value:""},"-- "+this.settings.title+" --");$each$$(this.items,function($it$$){$h$$+=$DOM$$.createHTML("option",{value:$it$$.value},$it$$.title)});$h$$=$DOM$$.createHTML("select",{id:this.id,"class":"mceNativeListBox","aria-labelledby":this.id+"_aria"},$h$$);return $h$$+=
$DOM$$.createHTML("span",{id:this.id+"_aria",style:"display: none"},this.settings.title)},postRender:function(){function $onChange$$($e$$69_v$$){if(($e$$69_v$$=$t$$.items[$e$$69_v$$.target.selectedIndex-1])&&($e$$69_v$$=$e$$69_v$$.value))if($t$$.onChange.dispatch($t$$,$e$$69_v$$),$t$$.settings.onselect)$t$$.settings.onselect($e$$69_v$$)}var $t$$=this,$changeListenerAdded$$=!0;$t$$.rendered=!0;$Event$$.add($t$$.id,"change",$onChange$$);$Event$$.add($t$$.id,"keydown",function($e$$){var $bf$$;$Event$$.remove($t$$.id,
"change",void 0);$changeListenerAdded$$=!1;$bf$$=$Event$$.add($t$$.id,"blur",function(){$changeListenerAdded$$||($changeListenerAdded$$=!0,$Event$$.add($t$$.id,"change",$onChange$$),$Event$$.remove($t$$.id,"blur",$bf$$))});if($tinymce$$.isWebKit&&(37==$e$$.keyCode||39==$e$$.keyCode))return $Event$$.prevent($e$$);if(13==$e$$.keyCode||32==$e$$.keyCode)return $onChange$$($e$$),$Event$$.cancel($e$$)});$t$$.onPostRender.dispatch($t$$,$DOM$$.get($t$$.id))}})})(tinymce);
(function($tinymce$$){var $DOM$$=$tinymce$$.DOM,$Event$$=$tinymce$$.dom.Event;$tinymce$$.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function($id$$,$s$$,$ed$$){this.parent($id$$,$s$$,$ed$$);this.onRenderMenu=new $tinymce$$.util.Dispatcher(this);$s$$.menu_container=$s$$.menu_container||$DOM$$.doc.body},showMenu:function(){var $p2$$,$e$$=$DOM$$.get(this.id),$m$$;if(!this.isDisabled()){this.isMenuRendered||(this.renderMenu(),this.isMenuRendered=!0);if(this.isMenuVisible)return this.hideMenu();
$DOM$$.getPos(this.settings.menu_container);$p2$$=$DOM$$.getPos($e$$);$m$$=this.menu;$m$$.settings.offset_x=$p2$$.x;$m$$.settings.offset_y=$p2$$.y;$m$$.settings.vp_offset_x=$p2$$.x;$m$$.settings.vp_offset_y=$p2$$.y;$m$$.settings.keyboard_focus=this._focused;$m$$.showMenu(0,$e$$.clientHeight);$Event$$.add($DOM$$.doc,"mousedown",this.hideMenu,this);this.setState("Selected",1);this.isMenuVisible=1}},renderMenu:function(){var $t$$=this,$m$$;$m$$=$t$$.settings.control_manager.createDropMenu($t$$.id+"_menu",
{menu_line:1,"class":this.classPrefix+"Menu",icons:$t$$.settings.icons});$m$$.onHideMenu.add(function(){$t$$.hideMenu();$t$$.focus()});$t$$.onRenderMenu.dispatch($t$$,$m$$);$t$$.menu=$m$$},hideMenu:function($e$$0$$){var $t$$=this;if(!$e$$0$$||!("mousedown"==$e$$0$$.type&&$DOM$$.getParent($e$$0$$.target,function($e$$){return $e$$.id===$t$$.id||$e$$.id===$t$$.id+"_open"}))){if(!$e$$0$$||!$DOM$$.getParent($e$$0$$.target,".mceMenu"))$t$$.setState("Selected",0),$Event$$.remove($DOM$$.doc,"mousedown",$t$$.hideMenu,
$t$$),$t$$.menu&&$t$$.menu.hideMenu();$t$$.isMenuVisible=0}},postRender:function(){var $t$$=this,$s$$=$t$$.settings;$Event$$.add($t$$.id,"click",function(){if(!$t$$.isDisabled()){if($s$$.onclick)$s$$.onclick($t$$.value);$t$$.showMenu()}})}})})(tinymce);
(function($tinymce$$){var $DOM$$=$tinymce$$.DOM,$Event$$=$tinymce$$.dom.Event;$tinymce$$.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function($id$$,$s$$,$ed$$){this.parent($id$$,$s$$,$ed$$);this.classPrefix="mceSplitButton"},renderHTML:function(){var $h$$,$s$$=this.settings,$h1$$;$h$$="<tbody><tr>";$h1$$=$s$$.image?$DOM$$.createHTML("img ",{src:$s$$.image,role:"presentation","class":"mceAction "+$s$$["class"]}):$DOM$$.createHTML("span",{"class":"mceAction "+$s$$["class"]},"");
$h1$$+=$DOM$$.createHTML("label",{"class":"mceVoiceLabel mceIconOnly j-508-label",id:this.id+"_voice"},$s$$.title);$h$$+="<td >"+$DOM$$.createHTML("a",{role:"button",id:this.id+"_action",tabindex:"-1",href:"javascript:;","class":"mceAction "+$s$$["class"],onclick:"return false;",onmousedown:"return false;",title:$s$$.title},$h1$$)+"</td>";$h1$$=$DOM$$.createHTML("span",{"class":"mceOpen "+$s$$["class"]},'<span style="display:none;" class="mceIconOnly" aria-hidden="true">\u25bc</span>');$h$$+="<td >"+
$DOM$$.createHTML("a",{role:"button",id:this.id+"_open",tabindex:"-1",href:"javascript:;","class":"mceOpen "+$s$$["class"],onclick:"return false;",onmousedown:"return false;",title:$s$$.title},$h1$$)+"</td>";$h$$=$DOM$$.createHTML("table",{id:this.id,role:"presentation",tabindex:"0","class":"mceSplitButton mceSplitButtonEnabled "+$s$$["class"],cellpadding:"0",cellspacing:"0",title:$s$$.title},$h$$+"</tr></tbody>");return $DOM$$.createHTML("span",{role:"button","aria-labelledby":this.id+"_voice","aria-haspopup":"true"},
$h$$)},postRender:function(){var $t$$=this,$s$$=$t$$.settings,$activate$$;$s$$.onclick&&($activate$$=function $$activate$$$($evt$$){$t$$.isDisabled()||($s$$.onclick($t$$.value),$Event$$.cancel($evt$$))},$Event$$.add($t$$.id+"_action","click",$activate$$),$Event$$.add($t$$.id,["click","keydown"],function($evt$$){if((32===$evt$$.keyCode||13===$evt$$.keyCode||14===$evt$$.keyCode)&&!$evt$$.altKey&&!$evt$$.ctrlKey&&!$evt$$.metaKey)$activate$$(),$Event$$.cancel($evt$$);else if("click"===$evt$$.type||40===
$evt$$.keyCode)$t$$.showMenu(),$Event$$.cancel($evt$$)}));$Event$$.add($t$$.id+"_open","click",function($evt$$){$t$$.showMenu();$Event$$.cancel($evt$$)});$Event$$.add([$t$$.id,$t$$.id+"_open"],"focus",function(){$t$$._focused=1});$Event$$.add([$t$$.id,$t$$.id+"_open"],"blur",function(){$t$$._focused=0});if($tinymce$$.isIE6||!$DOM$$.boxModel)$Event$$.add($t$$.id,"mouseover",function(){$DOM$$.hasClass($t$$.id,"mceSplitButtonDisabled")||$DOM$$.addClass($t$$.id,"mceSplitButtonHover")}),$Event$$.add($t$$.id,
"mouseout",function(){$DOM$$.hasClass($t$$.id,"mceSplitButtonDisabled")||$DOM$$.removeClass($t$$.id,"mceSplitButtonHover")})},destroy:function(){this.parent();$Event$$.clear(this.id+"_action");$Event$$.clear(this.id+"_open");$Event$$.clear(this.id)}})})(tinymce);
(function($tinymce$$){var $DOM$$=$tinymce$$.DOM,$Event$$=$tinymce$$.dom.Event,$is$$=$tinymce$$.is,$each$$=$tinymce$$.each;$tinymce$$.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function($id$$,$s$$,$ed$$){this.parent($id$$,$s$$,$ed$$);this.settings=$s$$=$tinymce$$.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",
grid_width:8,default_color:"#888888"},this.settings);this.onShowMenu=new $tinymce$$.util.Dispatcher(this);this.onHideMenu=new $tinymce$$.util.Dispatcher(this);this.value=$s$$.default_color},showMenu:function(){var $t$$=this,$e$$0$$,$p2$$;if(!$t$$.isDisabled()){$t$$.isMenuRendered||($t$$.renderMenu(),$t$$.isMenuRendered=!0);if($t$$.isMenuVisible)return $t$$.hideMenu();$e$$0$$=$DOM$$.get($t$$.id);$DOM$$.show($t$$.id+"_menu");$DOM$$.addClass($e$$0$$,"mceSplitButtonSelected");$p2$$=$DOM$$.getPos($e$$0$$);
$DOM$$.setStyles($t$$.id+"_menu",{left:$p2$$.x,top:$p2$$.y+$e$$0$$.clientHeight,zIndex:2E5});$e$$0$$=0;$Event$$.add($DOM$$.doc,"mousedown",$t$$.hideMenu,$t$$);$t$$.onShowMenu.dispatch($t$$);$t$$._focused&&($t$$._keyHandler=$Event$$.add($t$$.id+"_menu","keydown",function($e$$){$e$$.keyCode==27&&$t$$.hideMenu()}),$DOM$$.select("a",$t$$.id+"_menu")[0].focus());$t$$.isMenuVisible=1}},hideMenu:function($e$$0$$){var $t$$=this;if($t$$.isMenuVisible&&(!$e$$0$$||!("mousedown"==$e$$0$$.type&&$DOM$$.getParent($e$$0$$.target,
function($e$$){return $e$$.id===$t$$.id+"_open"})))){if(!$e$$0$$||!$DOM$$.getParent($e$$0$$.target,".mceSplitButtonMenu"))$DOM$$.removeClass($t$$.id,"mceSplitButtonSelected"),$Event$$.remove($DOM$$.doc,"mousedown",$t$$.hideMenu,$t$$),$Event$$.remove($t$$.id+"_menu","keydown",$t$$._keyHandler),$DOM$$.hide($t$$.id+"_menu");$t$$.isMenuVisible=0;$t$$.onHideMenu.dispatch()}},renderMenu:function(){var $t$$=this,$m$$,$i$$=0,$s$$=$t$$.settings,$n$$,$tb$$,$tr$$,$w$$,$context$$;$w$$=$DOM$$.add($s$$.menu_container,
"div",{role:"listbox",id:$t$$.id+"_menu","class":$s$$.menu_class+" "+$s$$["class"],style:"position:absolute;left:0;top:-1000px;"});$m$$=$DOM$$.add($w$$,"div",{"class":$s$$["class"]+" mceSplitButtonMenu"});$DOM$$.add($m$$,"span",{"class":"mceMenuLine"});$n$$=$DOM$$.add($m$$,"table",{role:"presentation","class":"mceColorSplitMenu"});$tb$$=$DOM$$.add($n$$,"tbody");$i$$=0;$each$$($is$$($s$$.colors,"array")?$s$$.colors:$s$$.colors.split(","),function($c$$){$c$$=$c$$.replace(/^#/,"");$i$$--||($tr$$=$DOM$$.add($tb$$,
"tr"),$i$$=$s$$.grid_width-1);$n$$=$DOM$$.add($tr$$,"td");$n$$=$DOM$$.add($n$$,"a",{role:"option",href:"javascript:;",style:{backgroundColor:"#"+$c$$},title:$t$$.editor.getLang("colors."+$c$$,$c$$),"data-mce-color":"#"+$c$$});$t$$.editor.forcedHighContrastMode&&($n$$=$DOM$$.add($n$$,"canvas",{width:16,height:16,"aria-hidden":"true"}),$n$$.getContext&&($context$$=$n$$.getContext("2d"))?($context$$.fillStyle="#"+$c$$,$context$$.fillRect(0,0,16,16)):$DOM$$.remove($n$$))});$s$$.more_colors_func&&($n$$=
$DOM$$.add($tb$$,"tr"),$n$$=$DOM$$.add($n$$,"td",{colspan:$s$$.grid_width,"class":"mceMoreColors"}),$n$$=$DOM$$.add($n$$,"a",{role:"option",id:$t$$.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},$s$$.more_colors_title),$Event$$.add($n$$,"click",function($e$$){$s$$.more_colors_func.call($s$$.more_colors_scope||this);return $Event$$.cancel($e$$)}));$DOM$$.addClass($m$$,"mceColorSplitMenu");new $tinymce$$.ui.KeyboardNavigation({root:$t$$.id+"_menu",items:$DOM$$.select("a",
$t$$.id+"_menu"),onCancel:function(){$t$$.hideMenu();$t$$.focus()}});$Event$$.add($t$$.id+"_menu","mousedown",function($e$$){return $Event$$.cancel($e$$)});$Event$$.add($t$$.id+"_menu","click",function($e$$){var $c$$;($e$$=$DOM$$.getParent($e$$.target,"a",$tb$$))&&($e$$.nodeName.toLowerCase()=="a"&&($c$$=$e$$.getAttribute("data-mce-color")))&&$t$$.setColor($c$$);return $Event$$.cancel($e$$)});return $w$$},setColor:function($c$$){this.displayColor($c$$);this.hideMenu();this.settings.onselect($c$$)},
displayColor:function($c$$){$DOM$$.setStyle(this.id+"_preview","backgroundColor",$c$$);this.value=$c$$},postRender:function(){var $id$$=this.id;this.parent();$DOM$$.add($id$$+"_action","div",{id:$id$$+"_preview","class":"mceColorPreview"});$DOM$$.setStyle(this.id+"_preview","backgroundColor",this.value)},destroy:function(){this.parent();$Event$$.clear(this.id+"_menu");$Event$$.clear(this.id+"_more");$DOM$$.remove(this.id+"_menu")}})})(tinymce);
(function($tinymce$$){var $dom$$=$tinymce$$.DOM,$each$$0$$=$tinymce$$.each,$Event$$=$tinymce$$.dom.Event;$tinymce$$.create("tinymce.ui.ToolbarGroup:tinymce.ui.Container",{renderHTML:function(){var $h$$=[],$controls$$=this.controls,$each$$=$tinymce$$.each,$settings$$=this.settings;$h$$.push('<div id="'+this.id+'" role="group" aria-labelledby="'+this.id+'_voice">');$h$$.push("<span role='application'>");$h$$.push('<label id="'+this.id+'_voice" class="mceVoiceLabel j-508-label">'+$dom$$.encode($settings$$.name)+
"</label>");$each$$($controls$$,function($toolbar$$){$h$$.push($toolbar$$.renderHTML())});$h$$.push("</span>");$h$$.push("</div>");return $h$$.join("")},focus:function(){this.keyNav.focus()},postRender:function(){var $t$$=this,$items$$=[];$each$$0$$($t$$.controls,function($toolbar$$){$each$$0$$($toolbar$$.controls,function($control$$){$control$$.id&&$items$$.push($control$$)})});$t$$.keyNav=new $tinymce$$.ui.KeyboardNavigation({root:$t$$.id,items:$items$$,onCancel:function(){$t$$.editor.focus()},
excludeFromTabOrder:!$t$$.settings.tab_focus_toolbar})},destroy:function(){this.parent();this.keyNav.destroy();$Event$$.clear(this.id)}})})(tinymce);
(function($tinymce$$){var $dom$$=$tinymce$$.DOM;$tinymce$$.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var $h$$="",$c$$,$co$$,$s$$=this.settings,$i$$,$pr$$,$nx$$,$cl$$;$cl$$=this.controls;for($i$$=0;$i$$<$cl$$.length;$i$$++){$co$$=$cl$$[$i$$];$pr$$=$cl$$[$i$$-1];$nx$$=$cl$$[$i$$+1];0===$i$$&&($c$$="mceToolbarStart",$co$$.Button?$c$$+=" mceToolbarStartButton":$co$$.SplitButton?$c$$+=" mceToolbarStartSplitButton":$co$$.ListBox&&($c$$+=" mceToolbarStartListBox"),$h$$+=$dom$$.createHTML("td",
{"class":$c$$},$dom$$.createHTML("span",null,"<\!-- IE --\>")));if($pr$$&&$co$$.ListBox&&($pr$$.Button||$pr$$.SplitButton))$h$$+=$dom$$.createHTML("td",{"class":"mceToolbarEnd"},$dom$$.createHTML("span",null,"<\!-- IE --\>"));$h$$=$dom$$.stdMode?$h$$+('<td style="position: relative">'+$co$$.renderHTML()+"</td>"):$h$$+("<td>"+$co$$.renderHTML()+"</td>");if($nx$$&&$co$$.ListBox&&($nx$$.Button||$nx$$.SplitButton))$h$$+=$dom$$.createHTML("td",{"class":"mceToolbarStart"},$dom$$.createHTML("span",null,
"<\!-- IE --\>"))}$c$$="mceToolbarEnd";$co$$.Button?$c$$+=" mceToolbarEndButton":$co$$.SplitButton?$c$$+=" mceToolbarEndSplitButton":$co$$.ListBox&&($c$$+=" mceToolbarEndListBox");$h$$+=$dom$$.createHTML("td",{"class":$c$$},$dom$$.createHTML("span",null,"<\!-- IE --\>"));return $dom$$.createHTML("table",{id:this.id,"class":"mceToolbar"+($s$$["class"]?" "+$s$$["class"]:""),cellpadding:"0",cellspacing:"0",align:this.settings.align||"",role:"presentation",tabindex:"-1"},"<tbody><tr>"+$h$$+"</tr></tbody>")}})})(tinymce);
(function($tinymce$$){var $Dispatcher$$=$tinymce$$.util.Dispatcher;$tinymce$$.create("tinymce.AddOnManager",{AddOnManager:function(){this.items=[];this.urls={};this.lookup={};this.onAdd=new $Dispatcher$$(this)},get:function($n$$){if(this.lookup[$n$$])return this.lookup[$n$$].instance},dependencies:function($n$$){var $result$$;this.lookup[$n$$]&&($result$$=this.lookup[$n$$].dependencies);return $result$$||[]},requireLangPack:function($n$$){var $s$$=$tinymce$$.settings;$s$$&&($s$$.language&&!1!==$s$$.language_load)&&
$tinymce$$.ScriptLoader.add(this.urls[$n$$]+"/langs/"+$s$$.language+".js")},add:function($id$$,$o$$,$dependencies$$){this.items.push($o$$);this.lookup[$id$$]={instance:$o$$,dependencies:$dependencies$$};this.onAdd.dispatch(this,$id$$,$o$$);return $o$$},createUrl:function($baseUrl$$,$dep$$){return"object"===typeof $dep$$?$dep$$:{prefix:$baseUrl$$.prefix,resource:$dep$$,suffix:$baseUrl$$.suffix}},addComponents:function($pluginName$$,$scripts$$){var $pluginUrl$$=this.urls[$pluginName$$];$tinymce$$.each($scripts$$,
function($script$$){$tinymce$$.ScriptLoader.add($pluginUrl$$+"/"+$script$$)})},load:function($n$$,$u$$,$cb$$,$s$$){function $loadDependencies$$(){var $dependencies$$=$t$$.dependencies($n$$);$tinymce$$.each($dependencies$$,function($dep$$){$dep$$=$t$$.createUrl($u$$,$dep$$);$t$$.load($dep$$.resource,$dep$$,void 0,void 0)});$cb$$&&($s$$?$cb$$.call($s$$):$cb$$.call($tinymce$$.ScriptLoader))}var $t$$=this,$url$$=$u$$;$t$$.urls[$n$$]||("object"===typeof $u$$&&($url$$=$u$$.prefix+$u$$.resource+$u$$.suffix),
0!=$url$$.indexOf("/")&&-1==$url$$.indexOf("://")&&($url$$=$tinymce$$.baseURL+"/"+$url$$),$t$$.urls[$n$$]=$url$$.substring(0,$url$$.lastIndexOf("/")),$t$$.lookup[$n$$]?$loadDependencies$$():$tinymce$$.ScriptLoader.add($url$$,$loadDependencies$$,$s$$))}});$tinymce$$.PluginManager=new $tinymce$$.AddOnManager;$tinymce$$.ThemeManager=new $tinymce$$.AddOnManager})(tinymce);
(function($tinymce$$){var $each$$=$tinymce$$.each,$extend$$=$tinymce$$.extend,$DOM$$=$tinymce$$.DOM,$Event$$=$tinymce$$.dom.Event,$explode$$=$tinymce$$.explode,$Dispatcher$$=$tinymce$$.util.Dispatcher,$instanceCounter$$=0;$tinymce$$.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");/[\/\\]$/.test($tinymce$$.documentBaseURL)||($tinymce$$.documentBaseURL+="/");$tinymce$$.baseURL=(new $tinymce$$.util.URI($tinymce$$.documentBaseURL)).toAbsolute($tinymce$$.baseURL);
$tinymce$$.baseURI=new $tinymce$$.util.URI($tinymce$$.baseURL);$tinymce$$.onBeforeUnload=new $Dispatcher$$($tinymce$$);$Event$$.add(window,"beforeunload",function($e$$){$tinymce$$.onBeforeUnload.dispatch($tinymce$$,$e$$)});$tinymce$$.onAddEditor=new $Dispatcher$$($tinymce$$);$tinymce$$.onRemoveEditor=new $Dispatcher$$($tinymce$$);$tinymce$$.EditorManager=$extend$$($tinymce$$,{editors:[],i18n:{},activeEditor:null,init:function($s$$0$$){function $execCallback$$($se$$,$n$$,$s$$){var $f$$=$se$$[$n$$];
if($f$$){if($tinymce$$.is($f$$,"string")){$s$$=($s$$=$f$$.replace(/\.\w+$/,""))?$tinymce$$.resolve($s$$):0;$f$$=$tinymce$$.resolve($f$$)}return $f$$.apply($s$$||this,Array.prototype.slice.call(arguments,2))}}var $t$$=this,$e$$0$$,$el$$=[],$ed$$0$$,$s$$0$$=$extend$$({theme:"simple",language:"en"},$s$$0$$);$t$$.settings=$s$$0$$;$Event$$.add(document,"init",function(){var $l$$,$co$$;$execCallback$$($s$$0$$,"onpageload");switch($s$$0$$.mode){case "exact":$l$$=$s$$0$$.elements||"";$l$$.length>0&&$each$$($explode$$($l$$),
function($v$$){if($DOM$$.get($v$$)){$ed$$0$$=new $tinymce$$.Editor($v$$,$s$$0$$);$el$$.push($ed$$0$$);$ed$$0$$.render(1)}else $each$$(document.forms,function($f$$){$each$$($f$$.elements,function($e$$){if($e$$.name===$v$$){$v$$="mce_editor_"+$instanceCounter$$++;$DOM$$.setAttrib($e$$,"id",$v$$);$ed$$0$$=new $tinymce$$.Editor($v$$,$s$$0$$);$el$$.push($ed$$0$$);$ed$$0$$.render(1)}})})});break;case "textareas":case "specific_textareas":$each$$($DOM$$.select("textarea"),function($v$$){if(!$s$$0$$.editor_deselector||
!($s$$0$$.editor_deselector.constructor===RegExp?$s$$0$$.editor_deselector.test($v$$.className):$DOM$$.hasClass($v$$,$s$$0$$.editor_deselector)))if(!$s$$0$$.editor_selector||($s$$0$$.editor_selector.constructor===RegExp?$s$$0$$.editor_selector.test($v$$.className):$DOM$$.hasClass($v$$,$s$$0$$.editor_selector))){$e$$0$$=$DOM$$.get($v$$.name);if(!$v$$.id&&!$e$$0$$)$v$$.id=$v$$.name;if(!$v$$.id||$t$$.get($v$$.id))$v$$.id=$DOM$$.uniqueId();$ed$$0$$=new $tinymce$$.Editor($v$$.id,$s$$0$$);$el$$.push($ed$$0$$);
$ed$$0$$.render(1)}})}if($s$$0$$.oninit){$l$$=$co$$=0;$each$$($el$$,function($ed$$){$co$$++;$ed$$.initialized?$l$$++:$ed$$.onInit.add(function(){$l$$++;$l$$==$co$$&&$execCallback$$($s$$0$$,"oninit")});$l$$==$co$$&&$execCallback$$($s$$0$$,"oninit")})}})},get:function($id$$){return $id$$===void 0?this.editors:this.editors[$id$$]},getInstanceById:function($id$$){return this.get($id$$)},add:function($editor$$){var $editors$$=this.editors;$editors$$[$editor$$.id]=$editor$$;$editors$$.push($editor$$);this._setActive($editor$$);
this.onAddEditor.dispatch(this,$editor$$);return $editor$$},remove:function($editor$$){var $i$$,$editors$$=this.editors;if(!$editors$$[$editor$$.id])return null;delete $editors$$[$editor$$.id];for($i$$=0;$i$$<$editors$$.length;$i$$++)if($editors$$[$i$$]==$editor$$){$editors$$.splice($i$$,1);break}this.activeEditor==$editor$$&&this._setActive($editors$$[0]);$editor$$.destroy();this.onRemoveEditor.dispatch(this,$editor$$);return $editor$$},execCommand:function($c$$28_w$$,$u$$,$v$$){var $ed$$=this.get($v$$);
switch($c$$28_w$$){case "mceFocus":$ed$$.focus();return true;case "mceAddEditor":case "mceAddControl":this.get($v$$)||(new $tinymce$$.Editor($v$$,this.settings)).render();return true;case "mceAddFrameControl":$c$$28_w$$=$v$$.window;$c$$28_w$$.tinyMCE=tinyMCE;$c$$28_w$$.tinymce=$tinymce$$;$tinymce$$.DOM.doc=$c$$28_w$$.document;$tinymce$$.DOM.win=$c$$28_w$$;$ed$$=new $tinymce$$.Editor($v$$.element_id,$v$$);$ed$$.render();$tinymce$$.isIE&&!$tinymce$$.isIE11&&$c$$28_w$$.attachEvent("onunload",clr);$v$$.page_window=
null;return true;case "mceRemoveEditor":case "mceRemoveControl":$ed$$&&$ed$$.remove();return true;case "mceToggleEditor":if(!$ed$$){this.execCommand("mceAddControl",0,$v$$);return true}$ed$$.isHidden()?$ed$$.show():$ed$$.hide();return true}return this.activeEditor?this.activeEditor.execCommand($c$$28_w$$,$u$$,$v$$):false},execInstanceCommand:function($ed$$16_id$$,$c$$,$u$$,$v$$){return($ed$$16_id$$=this.get($ed$$16_id$$))?$ed$$16_id$$.execCommand($c$$,$u$$,$v$$):false},triggerSave:function(){$each$$(this.editors,
function($e$$){$e$$.save()})},addI18n:function($p$$,$o$$2$$){var $i18n$$=this.i18n;$tinymce$$.is($p$$,"string")?$each$$($o$$2$$,function($o$$,$k$$){$i18n$$[$p$$+"."+$k$$]=$o$$}):$each$$($p$$,function($o$$1$$,$lc$$){$each$$($o$$1$$,function($o$$0$$,$g$$){$each$$($o$$0$$,function($o$$,$k$$){$g$$==="common"?$i18n$$[$lc$$+"."+$k$$]=$o$$:$i18n$$[$lc$$+"."+$g$$+"."+$k$$]=$o$$})})})},_setActive:function($editor$$){this.selectedInstance=this.activeEditor=$editor$$}})})(tinymce);
(function($tinymce$$){var $DOM$$=$tinymce$$.DOM,$Event$$=$tinymce$$.dom.Event,$extend$$=$tinymce$$.extend,$Dispatcher$$=$tinymce$$.util.Dispatcher,$each$$=$tinymce$$.each,$isGecko$$=$tinymce$$.isGecko,$isIE$$=$tinymce$$.isIE,$is$$=$tinymce$$.is,$ThemeManager$$=$tinymce$$.ThemeManager,$PluginManager$$=$tinymce$$.PluginManager,$explode$$=$tinymce$$.explode;$tinymce$$.create("tinymce.Editor",{Editor:function($id$$,$s$$){var $t$$=this;$t$$.id=$t$$.editorId=$id$$;$t$$.execCommands={};$t$$.queryStateCommands=
{};$t$$.queryValueCommands={};$t$$.isNotDirty=!1;$t$$.plugins={};$each$$("onPreInit onBeforeRenderUI onPostRender onInit onRemove onActivate onDeactivate onClick onEvent onMouseUp onMouseDown onDblClick onKeyDown onKeyUp onKeyPress onContextMenu onSubmit onReset onPaste onPreProcess onPostProcess onBeforeSetContent onBeforeGetContent onSetContent onGetContent onLoadContent onSaveContent onNodeChange onChange onBeforeExecCommand onExecCommand onUndo onRedo onVisualAid onSetProgressState onFormatChange onFocus onBlur".split(" "),
function($e$$){$t$$[$e$$]=new $Dispatcher$$($t$$)});$t$$.settings=$s$$=$extend$$({id:$id$$,language:"en",docs_language:"en",theme:"simple",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:$tinymce$$.documentBaseURL,add_form_submit_trigger:1,submit_patch:1,add_unload_trigger:1,convert_urls:1,relative_urls:1,remove_script_host:1,table_inline_editing:0,object_resizing:0,cleanup:1,accessibility_focus:1,custom_shortcuts:1,custom_undo_redo_keyboard_shortcuts:1,custom_undo_redo_restore_selection:1,
custom_undo_redo:1,doctype:$tinymce$$.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual_table_class:"mceItemTable",visual:1,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",apply_source_formatting:1,directionality:"ltr",forced_root_block:"p",hidden_input:1,padd_empty_editor:1,render_ui:1,init_theme:1,force_p_newlines:1,indentation:"30px",keep_styles:1,fix_table_elements:1,inline_styles:1,convert_fonts_to_spans:!0,indent:"simple",
indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr",validate:!0,entity_encoding:"named",url_converter:$t$$.convertURL,url_converter_scope:$t$$,ie7_compat:!0},$s$$);$t$$.documentBaseURI=new $tinymce$$.util.URI($s$$.document_base_url||$tinymce$$.documentBaseURL,{base_uri:tinyMCE.baseURI});$t$$.baseURI=$tinymce$$.baseURI;$t$$.contentCSS=
[];$t$$.execCallback("setup",$t$$)},render:function(){function $loadScripts$$(){$s$$.language&&!1!==$s$$.language_load&&$sl$$.add($tinymce$$.baseURL+"/langs/"+$s$$.language+".js");$s$$.theme&&("-"!=$s$$.theme.charAt(0)&&!$ThemeManager$$.urls[$s$$.theme])&&$ThemeManager$$.load($s$$.theme,"themes/"+$s$$.theme+"/editor_template"+$tinymce$$.suffix+".js");$each$$($explode$$($s$$.plugins),function($dependencies$$2_p$$){$dependencies$$2_p$$&&!$PluginManager$$.urls[$dependencies$$2_p$$]&&("-"==$dependencies$$2_p$$.charAt(0)?
($dependencies$$2_p$$=$dependencies$$2_p$$.substr(1,$dependencies$$2_p$$.length),$dependencies$$2_p$$=$PluginManager$$.dependencies($dependencies$$2_p$$),$each$$($dependencies$$2_p$$,function($dep$$){$dep$$=$PluginManager$$.createUrl({prefix:"plugins/",resource:$dep$$,suffix:"/editor_plugin"+$tinymce$$.suffix+".js"},$dep$$);$PluginManager$$.load($dep$$.resource,$dep$$)})):"safari"!=$dependencies$$2_p$$&&$PluginManager$$.load($dependencies$$2_p$$,{prefix:"plugins/",resource:$dependencies$$2_p$$,suffix:"/editor_plugin"+
$tinymce$$.suffix+".js"}))});$sl$$.loadQueue(function(){$t$$.removed||$t$$.init()})}var $t$$=this,$s$$=$t$$.settings,$id$$=$t$$.id,$sl$$=$tinymce$$.ScriptLoader;if($Event$$.domLoaded){if(tinyMCE.settings=$s$$,$t$$.getElement())if($tinymce$$.isIDevice&&!$tinymce$$.isIOS5){if($s$$.oninitFail)$s$$.oninitFail($t$$,$s$$)}else!/TEXTAREA|INPUT/i.test($t$$.getElement().nodeName)&&($s$$.hidden_input&&$DOM$$.getParent($id$$,"form"))&&$DOM$$.insertAfter($DOM$$.create("input",{type:"hidden",name:$id$$}),$id$$),
$tinymce$$.WindowManager&&($t$$.windowManager=new $tinymce$$.WindowManager($t$$)),"xml"==$s$$.encoding&&$t$$.onGetContent.add(function($ed$$,$o$$){if($o$$.save)$o$$.content=$DOM$$.encode($o$$.content)}),$s$$.add_form_submit_trigger&&$t$$.onSubmit.addToTop(function(){if($t$$.initialized){$t$$.save();$t$$.isNotDirty=1}}),$s$$.add_unload_trigger&&($t$$._beforeUnload=tinyMCE.onBeforeUnload.add(function(){$t$$.initialized&&(!$t$$.destroyed&&!$t$$.isHidden())&&$t$$.save({format:"raw",no_events:true})})),
$tinymce$$.addUnload($t$$.destroy,$t$$),$s$$.submit_patch&&$t$$.onBeforeRenderUI.add(function(){var $n$$=$t$$.getElement().form;if($n$$&&!$n$$._mceOldSubmit){if(!$n$$.submit.nodeType&&!$n$$.submit.length){$t$$.formElement=$n$$;$n$$._mceOldSubmit=$n$$.submit;$n$$.submit=function $$n$$$submit$(){$tinymce$$.triggerSave();$t$$.isNotDirty=1;return $t$$.formElement._mceOldSubmit($t$$.formElement)}}$n$$=null}}),$loadScripts$$()}else $Event$$.add(document,"init",function(){$t$$.render()})},init:function(){function $initPlugin$$($p$$){var $c$$=
$PluginManager$$.get($p$$),$u$$=$PluginManager$$.urls[$p$$]||$tinymce$$.documentBaseURL.replace(/\/$/,"");$c$$&&-1===$tinymce$$.inArray($initializedPlugins$$,$p$$)&&($each$$($PluginManager$$.dependencies($p$$),function($dep$$){$initPlugin$$($dep$$)}),$c$$=new $c$$($t$$,$u$$),$t$$.plugins[$p$$]=$c$$,$c$$.init&&($c$$.init($t$$,$u$$),$initializedPlugins$$.push($p$$)))}var $t$$=this,$s$$=$t$$.settings,$bi_w$$,$h$$,$bc_e$$=$t$$.getElement(),$o$$0$$,$u$$0$$,$re$$,$initializedPlugins$$=[];$tinymce$$.add($t$$);
$s$$.aria_label=$s$$.aria_label||$DOM$$.getAttrib($bc_e$$,"aria-label",$t$$.getLang("aria.rich_text_area"));$s$$.theme&&($s$$.theme=$s$$.theme.replace(/-/,""),$o$$0$$=$ThemeManager$$.get($s$$.theme),$t$$.theme=new $o$$0$$,$t$$.theme.init&&$s$$.init_theme&&$t$$.theme.init($t$$,$ThemeManager$$.urls[$s$$.theme]||$tinymce$$.documentBaseURL.replace(/\/$/,"")));$each$$($explode$$($s$$.plugins.replace(/\-/g,"")),$initPlugin$$);!1!==$s$$.popup_css&&($s$$.popup_css=$s$$.popup_css?$t$$.documentBaseURI.toAbsolute($s$$.popup_css):
$t$$.baseURI.toAbsolute("themes/"+$s$$.theme+"/skins/"+$s$$.skin+"/dialog.css"));$s$$.popup_css_add&&($s$$.popup_css+=","+$t$$.documentBaseURI.toAbsolute($s$$.popup_css_add));$t$$.controlManager=new $tinymce$$.ControlManager($t$$);$s$$.custom_undo_redo&&($t$$.onBeforeExecCommand.add(function($ed$$,$cmd$$,$ui$$,$val$$,$a$$){$cmd$$!="Undo"&&($cmd$$!="Redo"&&$cmd$$!="mceRepaint"&&(!$a$$||!$a$$.skip_undo))&&$t$$.undoManager.beforeChange()}),$t$$.onExecCommand.add(function($ed$$,$cmd$$,$ui$$,$val$$,$a$$){$cmd$$!=
"Undo"&&($cmd$$!="Redo"&&$cmd$$!="mceRepaint"&&(!$a$$||!$a$$.skip_undo))&&$t$$.undoManager.add()}));$t$$.onExecCommand.add(function($ed$$,$c$$){/^(FontName|FontSize)$/.test($c$$)||$t$$.nodeChanged()});$isGecko$$&&($re$$=function $$re$$$($a$$,$o$$){(!$o$$||!$o$$.initial)&&$t$$.execCommand("mceRepaint")},$t$$.onUndo.add($re$$),$t$$.onRedo.add($re$$),$t$$.onSetContent.add($re$$));$t$$.onBeforeRenderUI.dispatch($t$$,$t$$.controlManager);$s$$.render_ui&&($bi_w$$=$s$$.width||$bc_e$$.style.width||$bc_e$$.offsetWidth,
$h$$=$s$$.height||$bc_e$$.style.height||$bc_e$$.offsetHeight,$t$$.orgDisplay=$bc_e$$.style.display,$re$$=/^[0-9\.]+(|px)$/i,$re$$.test(""+$bi_w$$)&&($bi_w$$=Math.max(parseInt($bi_w$$)+($o$$0$$.deltaWidth||0),100)),$re$$.test(""+$h$$)&&($h$$=Math.max(parseInt($h$$)+($o$$0$$.deltaHeight||0),100)),$o$$0$$=$t$$.theme.renderUI({targetNode:$bc_e$$,width:$bi_w$$,height:$h$$,deltaWidth:$s$$.delta_width,deltaHeight:$s$$.delta_height}),$t$$.editorContainer=$o$$0$$.editorContainer);document.domain&&location.hostname!=
document.domain&&($tinymce$$.relaxedDomain=document.domain);$DOM$$.setStyles($o$$0$$.sizeContainer||$o$$0$$.editorContainer,{width:$bi_w$$,height:$h$$});$s$$.content_css&&$tinymce$$.each($explode$$($s$$.content_css),function($u$$){$t$$.contentCSS.push($t$$.documentBaseURI.toAbsolute($u$$))});$h$$=($o$$0$$.iframeHeight||$h$$)+("number"==typeof $h$$?$o$$0$$.deltaHeight||0:"");100>$h$$&&($h$$=100);$t$$.iframeHTML=$s$$.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">';$s$$.document_base_url!=
$tinymce$$.documentBaseURL&&($t$$.iframeHTML+='<base href="'+$t$$.documentBaseURI.getURI()+'" />');$t$$.iframeHTML=$s$$.ie7_compat?$t$$.iframeHTML+'<meta http-equiv="X-UA-Compatible" content="IE=7" />':$t$$.iframeHTML+'<meta http-equiv="X-UA-Compatible" content="IE=edge" />';$t$$.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';$bi_w$$=$s$$.body_id||"tinymce";-1!=$bi_w$$.indexOf("=")&&($bi_w$$=$t$$.getParam("body_id","","hash"),$bi_w$$=$bi_w$$[$t$$.id]||$bi_w$$);
$bc_e$$=$s$$.body_class||"";-1!=$bc_e$$.indexOf("=")&&($bc_e$$=$t$$.getParam("body_class","","hash"),$bc_e$$=$bc_e$$[$t$$.id]||"");$t$$.iframeHTML+='</head><body id="'+$bi_w$$+'" class="mceContentBody '+$bc_e$$+'"><br></body></html>';if($tinymce$$.relaxedDomain&&($isIE$$||$tinymce$$.isOpera&&11>parseFloat(opera.version())))$u$$0$$='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+$t$$.id+'");document.write(ed.iframeHTML);document.close();ed.setupIframe();})()';
$DOM$$.add($o$$0$$.iframeContainer,"iframe",{id:$t$$.id+"_ifr",src:$u$$0$$||'javascript:""',frameBorder:"0",allowTransparency:"true",title:$s$$.aria_label,style:{width:"100%",height:$h$$,display:"block"}});$t$$.contentAreaContainer=$o$$0$$.iframeContainer;$DOM$$.get($o$$0$$.editorContainer).style.display=$t$$.orgDisplay;$DOM$$.get($t$$.id).style.display="none";$DOM$$.setAttrib($t$$.id,"aria-hidden",!0);(!$tinymce$$.relaxedDomain||!$u$$0$$)&&$t$$.setupIframe();$bc_e$$=$o$$0$$=null},setupIframe:function(){var $t$$=
this,$s$$0$$=$t$$.settings;$DOM$$.get($t$$.id);var $b$$17_d$$=$t$$.getDoc();if(!$isIE$$||!$tinymce$$.relaxedDomain)$isGecko$$&&!Range.prototype.getClientRects&&$t$$.onMouseDown.add(function($ed$$,$e$$){if("HTML"===$e$$.target.nodeName){var $body$$=$t$$.getBody();$body$$.blur();setTimeout(function(){$body$$.focus()},0)}}),$b$$17_d$$.open(),$b$$17_d$$.write($t$$.iframeHTML),$b$$17_d$$.close(),$tinymce$$.relaxedDomain&&($b$$17_d$$.domain=$tinymce$$.relaxedDomain);$b$$17_d$$=$t$$.getBody();$b$$17_d$$.disabled=
!0;$s$$0$$.readonly||($b$$17_d$$.contentEditable=!0);$b$$17_d$$.disabled=!1;$t$$.schema=new $tinymce$$.html.Schema($s$$0$$);$t$$.dom=new $tinymce$$.dom.DOMUtils($t$$.getDoc(),{keep_values:!0,url_converter:$t$$.convertURL,url_converter_scope:$t$$,hex_colors:$s$$0$$.force_hex_style_colors,class_filter:$s$$0$$.class_filter,update_styles:1,fix_ie_paragraphs:1,schema:$t$$.schema});$t$$.parser=new $tinymce$$.html.DomParser($s$$0$$,$t$$.schema);$t$$.settings.allow_html_in_named_anchor||$t$$.parser.addAttributeFilter("name",
function($nodes$$){for(var $i$$=$nodes$$.length,$sibling$$,$prevSibling$$,$parent$$,$node$$;$i$$--;){$node$$=$nodes$$[$i$$];if($node$$.name==="a"&&$node$$.firstChild){$parent$$=$node$$.parent;$sibling$$=$node$$.lastChild;do{$prevSibling$$=$sibling$$.prev;$parent$$.insert($sibling$$,$node$$);$sibling$$=$prevSibling$$}while($sibling$$)}}});$t$$.parser.addAttributeFilter("src,href,style",function($nodes$$,$name$$){for(var $i$$=$nodes$$.length,$node$$,$dom$$=$t$$.dom,$value$$,$internalName$$;$i$$--;){$node$$=
$nodes$$[$i$$];$value$$=$node$$.attr($name$$);$internalName$$="data-mce-"+$name$$;$node$$.attributes.map[$internalName$$]||($name$$==="style"?$node$$.attr($internalName$$,$dom$$.serializeStyle($dom$$.parseStyle($value$$),$node$$.name)):$node$$.attr($internalName$$,$t$$.convertURL($value$$,$name$$,$node$$.name)))}});$t$$.parser.addNodeFilter("script",function($nodes$$){for(var $i$$=$nodes$$.length;$i$$--;)$nodes$$[$i$$].attr("type","mce-text/javascript")});$t$$.parser.addNodeFilter("#cdata",function($nodes$$){for(var $i$$=
$nodes$$.length,$node$$;$i$$--;){$node$$=$nodes$$[$i$$];$node$$.type=8;$node$$.name="#comment";$node$$.value="[CDATA["+$node$$.value+"]]"}});$t$$.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function($nodes$$){for(var $i$$=$nodes$$.length,$node$$,$nonEmptyElements$$=$t$$.schema.getNonEmptyElements();$i$$--;){$node$$=$nodes$$[$i$$];if($node$$.isEmpty($nonEmptyElements$$))$node$$.empty().append(new $tinymce$$.html.Node("br",1)).shortEnded=true}});$t$$.serializer=new $tinymce$$.dom.Serializer($s$$0$$,
$t$$.dom,$t$$.schema);$t$$.selection=new $tinymce$$.dom.Selection($t$$.dom,$t$$.getWin(),$t$$.serializer);$t$$.selectionUtil=new $tinymce$$.SelectionUtil($t$$);$t$$.formatter=new $tinymce$$.Formatter(this);$t$$.formatter.register({alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"}},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"}},{selector:"img",collapsed:!1,
styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"}},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignfull:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"}}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",
remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",
styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return true},onformat:function($elm$$,$fmt$$,$vars$$){$each$$($vars$$,function($value$$,$key$$){$t$$.dom.setAttrib($elm$$,$key$$,$value$$)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,
block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]});$each$$("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function($name$$){$t$$.formatter.register($name$$,{block:$name$$,remove:"all"})});$t$$.formatter.register($t$$.settings.formats);$t$$.undoManager=new $tinymce$$.UndoManager($t$$);$t$$.undoManager.onAdd.add(function($um$$,$l$$){if($um$$.hasUndo())return $t$$.onChange.dispatch($t$$,
$l$$,$um$$)});$t$$.undoManager.onUndo.add(function($um$$,$l$$){return $t$$.onUndo.dispatch($t$$,$l$$,$um$$)});$t$$.undoManager.onRedo.add(function($um$$,$l$$){return $t$$.onRedo.dispatch($t$$,$l$$,$um$$)});$t$$.forceBlocks=new $tinymce$$.ForceBlocks($t$$,{forced_root_block:$s$$0$$.forced_root_block});$t$$.editorCommands=new $tinymce$$.EditorCommands($t$$);$t$$.serializer.onPreProcess.add(function($se$$,$o$$){return $t$$.onPreProcess.dispatch($t$$,$o$$,$se$$)});$t$$.serializer.onPostProcess.add(function($se$$,
$o$$){return $t$$.onPostProcess.dispatch($t$$,$o$$,$se$$)});$t$$.onPreInit.dispatch($t$$);$s$$0$$.gecko_spellcheck||($t$$.getBody().spellcheck=0);$s$$0$$.readonly||$t$$._addEvents();$t$$.controlManager.onPostRender.dispatch($t$$,$t$$.controlManager);$t$$.onPostRender.dispatch($t$$);$t$$.quirks=new $tinymce$$.util.Quirks(this);$s$$0$$.directionality&&($t$$.getBody().dir=$s$$0$$.directionality);$s$$0$$.nowrap&&($t$$.getBody().style.whiteSpace="nowrap");$s$$0$$.handle_node_change_callback&&$t$$.onNodeChange.add(function($ed$$,
$cm$$,$n$$){$t$$.execCallback("handle_node_change_callback",$t$$.id,$n$$,-1,-1,true,$t$$.selection.isCollapsed())});$s$$0$$.save_callback&&$t$$.onSaveContent.add(function($ed$$,$o$$){var $h$$=$t$$.execCallback("save_callback",$t$$.id,$o$$.content,$t$$.getBody());if($h$$)$o$$.content=$h$$});$s$$0$$.onchange_callback&&$t$$.onChange.add(function($ed$$,$l$$){$t$$.execCallback("onchange_callback",$t$$,$l$$)});$s$$0$$.protect&&$t$$.onBeforeSetContent.add(function($ed$$,$o$$){$s$$0$$.protect&&$each$$($s$$0$$.protect,
function($pattern$$){$o$$.content=$o$$.content.replace($pattern$$,function($str$$){return"<\!--mce:protected "+escape($str$$)+"--\>"})})});$s$$0$$.convert_newlines_to_brs&&$t$$.onBeforeSetContent.add(function($ed$$,$o$$){if($o$$.initial)$o$$.content=$o$$.content.replace(/\r?\n/g,"<br />")});$s$$0$$.preformatted&&$t$$.onPostProcess.add(function($ed$$,$o$$){$o$$.content=$o$$.content.replace(/^\s*<pre.*?>/,"");$o$$.content=$o$$.content.replace(/<\/pre>\s*$/,"");if($o$$.set)$o$$.content='<pre class="mceItemHidden">'+
$o$$.content+"</pre>"});$s$$0$$.verify_css_classes&&($t$$.serializer.attribValueFilter=function $$t$$$serializer$attribValueFilter$($n$$,$v$$){var $s$$,$cl$$;if($n$$=="class"){if(!$t$$.classesRE){$cl$$=$t$$.dom.getClasses();if($cl$$.length>0){$s$$="";$each$$($cl$$,function($o$$){$s$$=$s$$+(($s$$?"|":"")+$o$$["class"])});$t$$.classesRE=RegExp("("+$s$$+")","gi")}}return!$t$$.classesRE||/(\bmceItem\w+\b|\bmceTemp\w+\b)/g.test($v$$)||$t$$.classesRE.test($v$$)?$v$$:""}return $v$$});$s$$0$$.cleanup_callback&&
($t$$.onBeforeSetContent.add(function($ed$$,$o$$){$o$$.content=$t$$.execCallback("cleanup_callback","insert_to_editor",$o$$.content,$o$$)}),$t$$.onPreProcess.add(function($ed$$,$o$$){$o$$.set&&$t$$.execCallback("cleanup_callback","insert_to_editor_dom",$o$$.node,$o$$);$o$$.get&&$t$$.execCallback("cleanup_callback","get_from_editor_dom",$o$$.node,$o$$)}),$t$$.onPostProcess.add(function($ed$$,$o$$){if($o$$.set)$o$$.content=$t$$.execCallback("cleanup_callback","insert_to_editor",$o$$.content,$o$$);if($o$$.get)$o$$.content=
$t$$.execCallback("cleanup_callback","get_from_editor",$o$$.content,$o$$)}));$s$$0$$.save_callback&&$t$$.onGetContent.add(function($ed$$,$o$$){if($o$$.save)$o$$.content=$t$$.execCallback("save_callback",$t$$.id,$o$$.content,$t$$.getBody())});$s$$0$$.handle_event_callback&&$t$$.onEvent.add(function($ed$$,$e$$,$o$$){$t$$.execCallback("handle_event_callback",$e$$,$ed$$,$o$$)===false&&$Event$$.cancel($e$$)});$t$$.onSetContent.add(function(){$t$$.addVisual($t$$.getBody())});$s$$0$$.padd_empty_editor&&
$t$$.onPostProcess.add(function($ed$$,$o$$){$o$$.content=$o$$.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")});if($isGecko$$){var $fixLinks$$=function $$fixLinks$$$($ed$$){$each$$($ed$$.dom.select("a"),function($n$$){var $pn$$=$n$$.parentNode;$ed$$.dom.isBlock($pn$$)&&$pn$$.lastChild===$n$$&&$ed$$.dom.add($pn$$,"br",{"data-mce-bogus":1})})};$t$$.onExecCommand.add(function($ed$$,$cmd$$){$cmd$$==="CreateLink"&&$fixLinks$$($ed$$)});$t$$.onSetContent.add($t$$.selection.onSetContent.add($fixLinks$$))}$t$$.load({initial:!0,
format:"html"});$t$$.startContent=$t$$.getContent({format:"raw"});$t$$.undoManager.add();$t$$.initialized=!0;$t$$.onInit.dispatch($t$$);$t$$.execCallback("setupcontent_callback",$t$$.id,$t$$.getBody(),$t$$.getDoc());$t$$.execCallback("init_instance_callback",$t$$);$t$$.focus(!0);$t$$.nodeChanged({initial:1});$each$$($t$$.contentCSS,function($u$$){$t$$.dom.loadCSS($u$$)});$s$$0$$.auto_focus&&setTimeout(function(){var $ed$$=$tinymce$$.get($s$$0$$.auto_focus);$ed$$.selection.select($ed$$.getBody(),1);
$ed$$.selection.collapse(1);$ed$$.getBody().focus();$ed$$.getWin().focus()},100);$t$$.dom.bind($b$$17_d$$,"focus",function(){$t$$.onFocus.dispatch($t$$)});$t$$.dom.bind($b$$17_d$$,"blur",function(){$t$$.onBlur.dispatch($t$$)})},focus:function($body$$7_ieRng$$){var $oed$$,$selection$$=this.selection,$contentEditable$$=this.settings.content_editable,$controlElm$$,$doc$$=this.getDoc();if(!$body$$7_ieRng$$){this.bookmark&&($selection$$.moveToBookmark(this.bookmark),this.bookmark=null);$body$$7_ieRng$$=
$selection$$.getRng();$body$$7_ieRng$$.item&&($controlElm$$=$body$$7_ieRng$$.item(0));this._refreshContentEditable();$contentEditable$$||this.getWin().focus();if($tinymce$$.isGecko||$contentEditable$$)$body$$7_ieRng$$=this.getBody(),$body$$7_ieRng$$.setActive&&!$tinymce$$.isIE11?$body$$7_ieRng$$.setActive():$body$$7_ieRng$$.focus(),$contentEditable$$&&$selection$$.normalize();$controlElm$$&&$controlElm$$.ownerDocument==$doc$$&&($body$$7_ieRng$$=$doc$$.body.createControlRange(),$body$$7_ieRng$$.addElement($controlElm$$),
$body$$7_ieRng$$.select())}$tinymce$$.activeEditor!=this&&(null!=($oed$$=$tinymce$$.activeEditor)&&$oed$$.onDeactivate.dispatch($oed$$,this),this.onActivate.dispatch(this,$oed$$));$tinymce$$._setActive(this)},execCallback:function($n$$){var $f$$=this.settings[$n$$],$s$$;if($f$$){if(this.callbackLookup&&($s$$=this.callbackLookup[$n$$]))$f$$=$s$$.func,$s$$=$s$$.scope;$is$$($f$$,"string")&&($s$$=($s$$=$f$$.replace(/\.\w+$/,""))?$tinymce$$.resolve($s$$):0,$f$$=$tinymce$$.resolve($f$$),this.callbackLookup=
this.callbackLookup||{},this.callbackLookup[$n$$]={func:$f$$,scope:$s$$});return $f$$.apply($s$$||this,Array.prototype.slice.call(arguments,1))}},translate:function($s$$){var $c$$=this.settings.language||"en",$i18n$$=$tinymce$$.i18n;return!$s$$?"":$i18n$$[$c$$+"."+$s$$]||$s$$.replace(/{\#([^}]+)\}/g,function($a$$,$b$$){return $i18n$$[$c$$+"."+$b$$]||"{#"+$b$$+"}"})},getLang:function($n$$,$dv$$){return $tinymce$$.i18n[(this.settings.language||"en")+"."+$n$$]||($is$$($dv$$)?$dv$$:"{#"+$n$$+"}")},getParam:function($n$$90_v$$,
$dv$$,$ty$$){var $tr$$=$tinymce$$.trim,$n$$90_v$$=$is$$(this.settings[$n$$90_v$$])?this.settings[$n$$90_v$$]:$dv$$,$o$$;return"hash"===$ty$$?($o$$={},$is$$($n$$90_v$$,"string")?$each$$(0<$n$$90_v$$.indexOf("=")?$n$$90_v$$.split(/[;,](?![^=;,]*(?:[;,]|$))/):$n$$90_v$$.split(","),function($v$$){$v$$=$v$$.split("=");1<$v$$.length?$o$$[$tr$$($v$$[0])]=$tr$$($v$$[1]):$o$$[$tr$$($v$$[0])]=$tr$$($v$$)}):$o$$=$n$$90_v$$,$o$$):$n$$90_v$$},nodeChanged:function($o$$){var $s$$=this.selection,$n$$=$s$$.getStart()||
this.getBody();this.initialized&&($o$$=$o$$||{},$n$$=$isIE$$&&$n$$.ownerDocument!=this.getDoc()?this.getBody():$n$$,$o$$.parents=[],this.dom.getParent($n$$,function($node$$){if("BODY"==$node$$.nodeName)return!0;$o$$.parents.push($node$$)}),this.onNodeChange.dispatch(this,$o$$?$o$$.controlManager||this.controlManager:this.controlManager,$n$$,$s$$.isCollapsed(),$o$$))},scheduleNodeChanged:function scheduleNodeChanged(){if(!scheduleNodeChanged.isScheduled){scheduleNodeChanged.isScheduled=!0;var $t$$=
this;setTimeout(function(){$t$$.nodeChanged();scheduleNodeChanged.isScheduled=!1},0)}},addButton:function($n$$,$s$$){this.buttons=this.buttons||{};this.buttons[$n$$]=$s$$},addCommand:function($name$$,$callback$$,$scope$$){this.execCommands[$name$$]={func:$callback$$,scope:$scope$$||this}},addQueryStateHandler:function($name$$,$callback$$,$scope$$){this.queryStateCommands[$name$$]={func:$callback$$,scope:$scope$$||this}},addQueryValueHandler:function($name$$,$callback$$,$scope$$){this.queryValueCommands[$name$$]=
{func:$callback$$,scope:$scope$$||this}},addShortcut:function($pa$$0$$,$desc$$,$cmd_func$$,$sc$$){var $t$$=this,$c$$;if(!$t$$.settings.custom_shortcuts)return!1;$t$$.shortcuts=$t$$.shortcuts||{};$is$$($cmd_func$$,"string")&&($c$$=$cmd_func$$,$cmd_func$$=function $$cmd_func$$$(){$t$$.execCommand($c$$,!1,null)});$is$$($cmd_func$$,"object")&&($c$$=$cmd_func$$,$cmd_func$$=function $$cmd_func$$$(){$t$$.execCommand($c$$[0],$c$$[1],$c$$[2])});$each$$($explode$$($pa$$0$$),function($pa$$){var $o$$={func:$cmd_func$$,
scope:$sc$$||this,desc:$desc$$,alt:false,ctrl:false,shift:false};$each$$($explode$$($pa$$,"+"),function($v$$){switch($v$$){case "alt":case "ctrl":case "shift":$o$$[$v$$]=true;break;default:$o$$.charCode=$v$$.charCodeAt(0);$o$$.keyCode=$v$$.toUpperCase().charCodeAt(0)}});$t$$.shortcuts[($o$$.ctrl?"ctrl":"")+","+($o$$.alt?"alt":"")+","+($o$$.shift?"shift":"")+","+$o$$.keyCode]=$o$$});return!0},execCommand:function($cmd$$,$ui$$,$val$$,$a$$){var $t$$=this,$s$$=0,$o$$86_st$$;!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test($cmd$$)&&
(!$a$$||!$a$$.skip_focus)&&$t$$.focus();$o$$86_st$$={};$t$$.onBeforeExecCommand.dispatch($t$$,$cmd$$,$ui$$,$val$$,$o$$86_st$$);if($o$$86_st$$.terminate)return!1;if($t$$.execCallback("execcommand_callback",$t$$.id,$t$$.selection.getNode(),$cmd$$,$ui$$,$val$$))return $t$$.onExecCommand.dispatch($t$$,$cmd$$,$ui$$,$val$$,$a$$),!0;if($o$$86_st$$=$t$$.execCommands[$cmd$$])if($o$$86_st$$=$o$$86_st$$.func.call($o$$86_st$$.scope,$ui$$,$val$$),!0!==$o$$86_st$$)return $t$$.onExecCommand.dispatch($t$$,$cmd$$,
$ui$$,$val$$,$a$$),$o$$86_st$$;$each$$($t$$.plugins,function($p$$){if($p$$.execCommand&&$p$$.execCommand($cmd$$,$ui$$,$val$$))return $t$$.onExecCommand.dispatch($t$$,$cmd$$,$ui$$,$val$$,$a$$),$s$$=1,!1});if($s$$)return!0;if($t$$.theme&&$t$$.theme.execCommand&&$t$$.theme.execCommand($cmd$$,$ui$$,$val$$)||$t$$.editorCommands.execCommand($cmd$$,$ui$$,$val$$))return $t$$.onExecCommand.dispatch($t$$,$cmd$$,$ui$$,$val$$,$a$$),!0;try{$t$$.getDoc().execCommand($cmd$$,$ui$$,$val$$)}catch($ex$$){console.log("browser execCommand failed. cmd: "+
$cmd$$,$ex$$)}$t$$.onExecCommand.dispatch($t$$,$cmd$$,$ui$$,$val$$,$a$$)},queryCommandState:function($cmd$$){var $o$$87_s$$;if(!this._isHidden()){if($o$$87_s$$=this.queryStateCommands[$cmd$$])if($o$$87_s$$=$o$$87_s$$.func.call($o$$87_s$$.scope),!0!==$o$$87_s$$)return $o$$87_s$$;$o$$87_s$$=this.editorCommands.queryCommandState($cmd$$);if(-1!==$o$$87_s$$)return $o$$87_s$$;try{return this.getDoc().queryCommandState($cmd$$)}catch($ex$$){}}},queryCommandValue:function($c$$){var $o$$88_s$$;if(!this._isHidden()){if($o$$88_s$$=
this.queryValueCommands[$c$$])if($o$$88_s$$=$o$$88_s$$.func.call($o$$88_s$$.scope),!0!==$o$$88_s$$)return $o$$88_s$$;$o$$88_s$$=this.editorCommands.queryCommandValue($c$$);if($is$$($o$$88_s$$))return $o$$88_s$$;try{return this.getDoc().queryCommandValue($c$$)}catch($ex$$){}}},show:function(){$DOM$$.show(this.getContainer());$DOM$$.hide(this.id);this.load()},hide:function(){var $d$$=this.getDoc();$isIE$$&&$d$$&&$d$$.execCommand("SelectAll");this.save();$DOM$$.hide(this.getContainer());$DOM$$.setStyle(this.id,
"display",this.orgDisplay)},isHidden:function(){return!$DOM$$.isHidden(this.id)},setProgressState:function($b$$,$ti$$,$o$$){this.onSetProgressState.dispatch(this,$b$$,$ti$$,$o$$);return $b$$},load:function($o$$){var $e$$=this.getElement(),$h$$;if($e$$)return $o$$=$o$$||{},$o$$.load=!0,$h$$=this.setContent($is$$($e$$.value)?$e$$.value:$e$$.innerHTML,$o$$),$o$$.element=$e$$,$o$$.no_events||this.onLoadContent.dispatch(this,$o$$),$o$$.element=null,$h$$},save:function($o$$){var $t$$=this,$e$$0$$=$t$$.getElement(),
$h$$,$f$$;if($e$$0$$&&$t$$.initialized)return $o$$=$o$$||{},$o$$.save=!0,$o$$.no_events||($t$$.undoManager.typing=!1,$t$$.undoManager.deleting=0,$t$$.undoManager.add()),$o$$.element=$e$$0$$,$h$$=$o$$.content=$t$$.getContent($o$$),$o$$.no_events||$t$$.onSaveContent.dispatch($t$$,$o$$),$h$$=$o$$.content,/TEXTAREA|INPUT/i.test($e$$0$$.nodeName)?$e$$0$$.value=$h$$:($e$$0$$.innerHTML=$h$$,($f$$=$DOM$$.getParent($t$$.id,"form"))&&$each$$($f$$.elements,function($e$$){if($e$$.name==$t$$.id){$e$$.value=$h$$;
return false}})),$o$$.element=$e$$0$$=null,$h$$},setContent:function($content$$,$args$$){var $body$$=this.getBody(),$forcedRootBlockName$$,$args$$=$args$$||{};$args$$.format=$args$$.format||"html";$args$$.set=!0;$args$$.content=$content$$;$args$$.no_events||this.onBeforeSetContent.dispatch(this,$args$$);$content$$=$args$$.content;if(!$tinymce$$.isIE&&(0===$content$$.length||/^\s+$/.test($content$$)))$forcedRootBlockName$$=this.settings.forced_root_block,$body$$.innerHTML=$forcedRootBlockName$$?"<"+
$forcedRootBlockName$$+'><br data-mce-bogus="1"></'+$forcedRootBlockName$$+">":'<br data-mce-bogus="1">',this.selection.select($body$$,!0),this.selection.collapse(!0);else return"raw"!==$args$$.format&&($content$$=(new $tinymce$$.html.Serializer({},this.schema)).serialize(this.parser.parse($content$$))),$args$$.content=$tinymce$$.trim($content$$),this.dom.setHTML($body$$,$args$$.content),$args$$.no_events||this.onSetContent.dispatch(this,$args$$),this.selection.normalize(),$args$$.content},getContent:function($args$$){var $content$$,
$args$$=$args$$||{};$args$$.format=$args$$.format||"html";$args$$.get=!0;$args$$.no_events||this.onBeforeGetContent.dispatch(this,$args$$);$content$$="raw"==$args$$.format?this.getBody().innerHTML:this.serializer.serialize(this.getBody(),$args$$);$args$$.content=$tinymce$$.trim($content$$);$args$$.no_events||this.onGetContent.dispatch(this,$args$$);return $args$$.content},isDirty:function(){return $tinymce$$.trim(this.startContent)!=$tinymce$$.trim(this.getContent({format:"raw",no_events:1}))&&!this.isNotDirty},
getContainer:function(){this.container||(this.container=$DOM$$.get(this.editorContainer||this.id+"_parent"));return this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return $DOM$$.get(this.settings.content_element||this.id)},getWin:function(){var $e$$;if(!this.contentWindow&&($e$$=$DOM$$.get(this.id+"_ifr")))this.contentWindow=$e$$.contentWindow;return this.contentWindow},getDoc:function(){var $w$$;if(!this.contentDocument&&($w$$=this.getWin()))this.contentDocument=
$w$$.document;return this.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function($u$$,$n$$,$e$$){var $s$$=this.settings;return $s$$.urlconverter_callback?this.execCallback("urlconverter_callback",$u$$,$e$$,!0,$n$$):!$s$$.convert_urls||$e$$&&"LINK"==$e$$.nodeName||!$u$$||0===$u$$.indexOf("file:")?$u$$:$s$$.relative_urls?this.documentBaseURI.toRelative($u$$):$u$$=this.documentBaseURI.toAbsolute($u$$,$s$$.remove_script_host)},addVisual:function($e$$0$$){var $t$$=
this,$s$$=$t$$.settings,$e$$0$$=$e$$0$$||$t$$.getBody();$is$$($t$$.hasVisual)||($t$$.hasVisual=$s$$.visual);$each$$($t$$.dom.select("table,a",$e$$0$$),function($e$$){var $v$$;switch($e$$.nodeName){case "TABLE":$v$$=$t$$.dom.getAttrib($e$$,"border");if(!$v$$||$v$$=="0")$t$$.hasVisual?$t$$.dom.addClass($e$$,$s$$.visual_table_class):$t$$.dom.removeClass($e$$,$s$$.visual_table_class);break;case "A":($v$$=$t$$.dom.getAttrib($e$$,"name"))&&($t$$.hasVisual?$t$$.dom.addClass($e$$,"mceItemAnchor"):$t$$.dom.removeClass($e$$,
"mceItemAnchor"))}});$t$$.onVisualAid.dispatch($t$$,$e$$0$$,$t$$.hasVisual)},remove:function(){var $e$$=this.getContainer();this.removed=1;this.hide();this.execCallback("remove_instance_callback",this);this.onRemove.dispatch(this);this.onExecCommand.listeners=[];$tinymce$$.remove(this);$DOM$$.remove($e$$)},destroy:function($s$$){this.destroyed||($s$$||($tinymce$$.removeUnload(this.destroy),tinyMCE.onBeforeUnload.remove(this._beforeUnload),this.theme&&this.theme.destroy&&this.theme.destroy(),this.controlManager.destroy(),
this.selection.destroy(),this.dom.destroy(),this.settings.content_editable||($Event$$.clear(this.getWin()),$Event$$.clear(this.getDoc())),$Event$$.clear(this.getBody()),$Event$$.clear(this.formElement)),this.formElement&&(this.formElement.submit=this.formElement._mceOldSubmit,this.formElement._mceOldSubmit=null),this.contentAreaContainer=this.formElement=this.container=this.settings.content_element=this.bodyElement=this.contentDocument=this.contentWindow=null,this.selection&&(this.selection=this.selection.win=
this.selection.dom=this.selection.dom.doc=null),this.destroyed=1)},_addEvents:function(){function $eventHandler$$($e$$,$o$$){$t$$.removed||!1!==$t$$.onEvent.dispatch($t$$,$e$$,$o$$)&&$t$$[$lo$$[$e$$.fakeType||$e$$.type]].dispatch($t$$,$e$$,$o$$)}var $t$$=this,$i$$,$s$$0$$=$t$$.settings,$dom$$=$t$$.dom,$lo$$={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",
paste:"onPaste"};$each$$($lo$$,function($v$$,$k$$){switch($k$$){case "contextmenu":$dom$$.bind($t$$.getDoc(),$k$$,$eventHandler$$);break;case "paste":$dom$$.bind($t$$.getBody(),$k$$,function($e$$){$eventHandler$$($e$$)});break;case "submit":case "reset":$dom$$.bind($t$$.getElement().form||$DOM$$.getParent($t$$.id,"form"),$k$$,$eventHandler$$);break;default:$dom$$.bind($s$$0$$.content_editable?$t$$.getBody():$t$$.getDoc(),$k$$,$eventHandler$$)}});$dom$$.bind($s$$0$$.content_editable?$t$$.getBody():
$isGecko$$?$t$$.getDoc():$t$$.getWin(),"focus",function(){$t$$.focus(!0)});$tinymce$$.isIDevice&&$dom$$.bind($dom$$.select("html"),"click",function(){$t$$.focus()});$tinymce$$.isGecko&&$dom$$.bind($t$$.getDoc(),"DOMNodeInserted",function($e$$){var $v$$,$e$$=$e$$.target;if(1===$e$$.nodeType&&"IMG"===$e$$.nodeName&&($v$$=$e$$.getAttribute("data-mce-src")))$e$$.src=$t$$.documentBaseURI.toAbsolute($v$$)});$isGecko$$&&($i$$=function $$i$$$(){var $d$$=this.getDoc(),$s$$=this.settings;if($isGecko$$&&!$s$$.readonly){this._refreshContentEditable();
try{$d$$.execCommand("styleWithCSS",0,!1)}catch($ex$$){if(!this._isHidden())try{$d$$.execCommand("useCSS",0,!0)}catch($ex$$0$$){}}if(!$s$$.table_inline_editing)try{$d$$.execCommand("enableInlineTableEditing",!1,!1)}catch($ex$$1$$){}if(!$s$$.object_resizing)try{$d$$.execCommand("enableObjectResizing",!1,!1)}catch($ex$$2$$){}}},$t$$.onBeforeExecCommand.add($i$$),$t$$.onMouseDown.add($i$$));$t$$.onClick.add(function($ed$$,$e$$){$e$$=$e$$.target;if($tinymce$$.isWebKit)if($e$$.nodeName=="IMG"){var $index$$=
$dom$$.nodeIndex($e$$),$p$$=$e$$.parentNode;$t$$.selection.getSel().setBaseAndExtent($p$$,$index$$,$p$$,$index$$+1);$t$$.nodeChanged()}else if($e$$.nodeName=="A"&&$dom$$.hasClass($e$$,"mceItemAnchor")){$t$$.selection.getSel().setBaseAndExtent($e$$,0,$e$$,1);$t$$.nodeChanged()}$e$$.nodeName=="A"&&$dom$$.hasClass($e$$,"mceItemAnchor")&&$t$$.selection.select($e$$);$t$$.nodeChanged()});$t$$.onMouseUp.add($t$$.nodeChanged);$t$$.onKeyUp.add(function($ed$$,$e$$){var $c$$=$e$$.keyCode;($c$$>=33&&$c$$<=36||
$c$$>=37&&$c$$<=40||$c$$==13||$c$$==45||$c$$==46||$c$$==8||$tinymce$$.isMac&&($c$$==91||$c$$==93)||$e$$.ctrlKey)&&$t$$.nodeChanged()});$t$$.onKeyDown.add(function($ed$$,$e$$){if($e$$.keyCode==8){for(var $n$$=$ed$$.selection.getRng().startContainer,$offset$$24_rng$$=$ed$$.selection.getRng().startOffset;$n$$&&$n$$.nodeType&&$n$$.nodeType!=1&&$n$$.parentNode;)$n$$=$n$$.parentNode;if($n$$&&$n$$.parentNode&&$n$$.parentNode.tagName==="BLOCKQUOTE"&&$n$$.parentNode.firstChild==$n$$&&$offset$$24_rng$$==0){$ed$$.formatter.toggle("blockquote",
null,$n$$.parentNode);$offset$$24_rng$$=$ed$$.selection.getRng();$offset$$24_rng$$.setStart($n$$,0);$offset$$24_rng$$.setEnd($n$$,0);$ed$$.selection.setRng($offset$$24_rng$$);$ed$$.selection.collapse(false)}}});$t$$.onReset.add(function(){$t$$.setContent($t$$.startContent,{format:"raw"})});if($s$$0$$.custom_shortcuts){$s$$0$$.custom_undo_redo_keyboard_shortcuts&&($t$$.addShortcut("ctrl+z",$t$$.getLang("undo_desc"),"Undo"),$t$$.addShortcut("ctrl+shift+z",$t$$.getLang("redo_desc"),"Redo"),$t$$.addShortcut("ctrl+y",
$t$$.getLang("redo_desc"),"Redo"));$t$$.addShortcut("ctrl+b",$t$$.getLang("bold_desc"),"Bold");$t$$.addShortcut("ctrl+i",$t$$.getLang("italic_desc"),"Italic");$t$$.addShortcut("ctrl+u",$t$$.getLang("underline_desc"),"Underline");for($i$$=1;6>=$i$$;$i$$++)$t$$.addShortcut("ctrl+"+$i$$,"",["FormatBlock",!1,"h"+$i$$]);$t$$.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]);$t$$.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]);$t$$.addShortcut("ctrl+9","",["FormatBlock",!1,"address"]);var $find$$=function $$find$$$($e$$){var $v$$=
null;if(!$e$$.altKey&&!$e$$.ctrlKey&&!$e$$.metaKey)return $v$$;$each$$($t$$.shortcuts,function($o$$){if(!$tinymce$$.isMac||!($o$$.ctrl!=$e$$.metaKey&&$o$$.ctrl!=$e$$.ctrlKey))if(($tinymce$$.isMac||$o$$.ctrl==$e$$.ctrlKey)&&$o$$.alt==$e$$.altKey&&$o$$.shift==$e$$.shiftKey)if($e$$.keyCode==$o$$.keyCode||$e$$.charCode&&$e$$.charCode==$o$$.charCode){$v$$=$o$$;return false}});return $v$$};$t$$.onKeyUp.add(function($ed$$,$e$$){if($find$$($e$$))return $Event$$.cancel($e$$)});$t$$.onKeyPress.add(function($ed$$,
$e$$){if($find$$($e$$))return $Event$$.cancel($e$$)});$t$$.onKeyDown.add(function($ed$$,$e$$){var $o$$=$find$$($e$$);if($o$$){$o$$.func.call($o$$.scope);return $Event$$.cancel($e$$)}})}$tinymce$$.isIE&&$dom$$.bind($t$$.getDoc(),"controlselect",function($e$$0$$){var $cb$$6_re$$=$t$$.resizeInfo,$e$$0$$=$e$$0$$.target;if($e$$0$$.nodeName==="IMG"){$cb$$6_re$$&&$dom$$.unbind($cb$$6_re$$.node,$cb$$6_re$$.ev,$cb$$6_re$$.cb);if($dom$$.hasClass($e$$0$$,"mceItemNoResize")){ev="resizestart";$cb$$6_re$$=$dom$$.bind($e$$0$$,
"resizestart",$Event$$.cancel,$Event$$)}else{ev="resizeend";$cb$$6_re$$=$dom$$.bind($e$$0$$,ev,function($e$$){var $v$$,$e$$=$e$$.target;if($v$$=$dom$$.getStyle($e$$,"width")){$dom$$.setAttrib($e$$,"width",$v$$.replace(/[^0-9%]+/g,""));$dom$$.setStyle($e$$,"width","")}if($v$$=$dom$$.getStyle($e$$,"height")){$dom$$.setAttrib($e$$,"height",$v$$.replace(/[^0-9%]+/g,""));$dom$$.setStyle($e$$,"height","")}})}$cb$$6_re$$=$t$$.resizeInfo={node:$e$$0$$,ev:ev,cb:$cb$$6_re$$}}});$tinymce$$.isOpera&&$t$$.onClick.add(function($ed$$,
$e$$){$Event$$.prevent($e$$)});if($s$$0$$.custom_undo_redo){var $addUndo$$=function $$addUndo$$$(){$t$$.undoManager.typing=false;$t$$.undoManager.deleting=false;$t$$.undoManager.add()};$dom$$.bind($t$$.getDoc(),"focusout",function(){!$t$$.removed&&($t$$.undoManager.typing||$t$$.undoManager.deleting)&&$addUndo$$()});$t$$.dom.bind($t$$.dom.getRoot(),"dragend",function(){$addUndo$$()});$t$$.onKeyUp.add(function($ed$$,$e$$){var $keyCode$$=$e$$.keyCode;($keyCode$$>=33&&$keyCode$$<=36||$keyCode$$>=37&&
$keyCode$$<=40||$keyCode$$==13||$keyCode$$==45||$e$$.ctrlKey)&&$addUndo$$()});$t$$.onKeyDown.add(function($ed$$,$e$$){var $keyCode$$=$e$$.keyCode,$sel$$;if($keyCode$$==8)if(($sel$$=$t$$.getDoc().selection)&&$sel$$.createRange&&$sel$$.createRange().item){$t$$.undoManager.beforeChange();$ed$$.dom.remove($sel$$.createRange().item(0));$addUndo$$();return $Event$$.cancel($e$$)}if($keyCode$$>=33&&$keyCode$$<=36||$keyCode$$>=37&&$keyCode$$<=40||$keyCode$$==13||$keyCode$$==45){$tinymce$$.isIE&&$keyCode$$==
13&&$t$$.undoManager.beforeChange();($t$$.undoManager.typing||$t$$.undoManager.deleting)&&$addUndo$$()}else if($e$$.keyCode==8||$e$$.keyCode==46){if(!$t$$.undoManager.deleting){$addUndo$$();$t$$.undoManager.deleting=true}}else if(($keyCode$$<16||$keyCode$$>20)&&$keyCode$$!=224&&$keyCode$$!=91&&!$t$$.undoManager.typing){$t$$.undoManager.beforeChange();$t$$.undoManager.typing=true;$t$$.undoManager.add()}});$t$$.onMouseDown.add(function(){($t$$.undoManager.typing||$t$$.undoManager.deleting)&&$addUndo$$()})}if($tinymce$$.isWebKit&&
$tinymce$$.isIDevice){var $lastRng$$,$selectionTimer$$;$dom$$.bind($t$$.getDoc(),"selectionchange",function(){if($selectionTimer$$){clearTimeout($selectionTimer$$);$selectionTimer$$=0}$selectionTimer$$=window.setTimeout(function(){var $rng$$=$t$$.selection.getRng();if(!$lastRng$$||!$tinymce$$.dom.RangeUtils.compareRanges($rng$$,$lastRng$$)){$t$$.nodeChanged();$lastRng$$=$rng$$}},50)})}if($tinymce$$.isGecko){var $getAttributeApplyFunction$$=function $$getAttributeApplyFunction$$$(){var $template$$=
$t$$.dom.getAttribs($t$$.selection.getStart().cloneNode(false));return function(){var $target$$=$t$$.selection.getStart();if($target$$!==$t$$.getBody()){$t$$.dom.removeAllAttribs($target$$);$each$$($template$$,function($attr$$){$target$$.setAttributeNode($attr$$.cloneNode(true))})}}},$isSelectionAcrossElements$$=function $$isSelectionAcrossElements$$$(){var $s$$=$t$$.selection;return!$s$$.isCollapsed()&&$s$$.getStart()!=$s$$.getEnd()};$t$$.onKeyPress.add(function($ed$$,$e$$){var $applyAttributes$$;
if(($e$$.keyCode==8||$e$$.keyCode==46)&&$isSelectionAcrossElements$$()){$applyAttributes$$=$getAttributeApplyFunction$$();$t$$.getDoc().execCommand("delete",false,null);$applyAttributes$$();return $Event$$.cancel($e$$)}});$t$$.dom.bind($t$$.getDoc(),"cut",function(){var $applyAttributes$$;if($isSelectionAcrossElements$$()){$applyAttributes$$=$getAttributeApplyFunction$$();$t$$.onKeyUp.addToTop($Event$$.cancel,$Event$$);setTimeout(function(){$applyAttributes$$();$t$$.onKeyUp.remove($Event$$.cancel,
$Event$$)},0)}})}},_refreshContentEditable:function(){var $body$$,$parent$$;this._isHidden()&&($body$$=this.getBody(),$parent$$=$body$$.parentNode,$parent$$.removeChild($body$$),$parent$$.appendChild($body$$),$body$$.focus())},_isHidden:function(){var $s$$;if(!$isGecko$$)return 0;$s$$=this.selection.getSel();return!$s$$||!$s$$.rangeCount||0==$s$$.rangeCount}})})(tinymce);
(function($tinymce$$){var $each$$=$tinymce$$.each,$TRUE$$=!0,$FALSE$$=!1;$tinymce$$.EditorCommands=function $$tinymce$$$EditorCommands$($editor$$){function $execCommand$$($command$$,$ui$$,$value$$){var $func$$,$command$$=$command$$.toLowerCase();return($func$$=$commands$$.exec[$command$$])?($func$$($command$$,$ui$$,$value$$),$TRUE$$):$FALSE$$}function $queryCommandState$$($command$$){var $func$$,$command$$=$command$$.toLowerCase();return($func$$=$commands$$.state[$command$$])?$func$$($command$$):
-1}function $addCommands$$($command_list$$,$type$$){$type$$=$type$$||"exec";$each$$($command_list$$,function($callback$$,$command$$0$$){$each$$($command$$0$$.toLowerCase().split(","),function($command$$){$commands$$[$type$$][$command$$]=$callback$$})})}function $execNativeCommand$$($command$$,$ui$$,$value$$){void 0===$ui$$&&($ui$$=$FALSE$$);void 0===$value$$&&($value$$=null);return $editor$$.getDoc().execCommand($command$$,$ui$$,$value$$)}function $toggleFormat$$($name$$,$value$$){$formatter$$.toggle($name$$,
$value$$?{value:$value$$}:void 0)}var $dom$$=$editor$$.dom,$selection$$=$editor$$.selection,$commands$$={state:{},exec:{},value:{}},$settings$$=$editor$$.settings,$formatter$$=$editor$$.formatter,$bookmark$$0$$;$tinymce$$.extend(this,{execCommand:$execCommand$$,queryCommandState:$queryCommandState$$,queryCommandValue:function queryCommandValue($command$$){var $func$$,$command$$=$command$$.toLowerCase();return($func$$=$commands$$.value[$command$$])?$func$$($command$$):$FALSE$$},addCommands:$addCommands$$});
$addCommands$$({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){$editor$$.undoManager.add()},"Cut,Copy,Paste":function($command$$){var $doc$$=$editor$$.getDoc(),$failed$$;try{$execNativeCommand$$($command$$)}catch($ex$$){$failed$$=$TRUE$$}if($failed$$||!$doc$$.queryCommandSupported($command$$))$tinymce$$.isGecko?$editor$$.windowManager.confirm($editor$$.getLang("clipboard_msg"),function($state$$){$state$$&&open("http://www.mozilla.org/editor/midasdemo/securityprefs.html",
"_blank")}):$editor$$.windowManager.alert($editor$$.getLang("clipboard_no_support"))},unlink:function($command$$){$selection$$.isCollapsed()&&$selection$$.select($selection$$.getNode());$execNativeCommand$$($command$$);$selection$$.collapse($FALSE$$)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function($command$$){var $align$$=$command$$.substring(7);$each$$(["left","center","right","full"],function($name$$){$align$$!=$name$$&&$formatter$$.remove("align"+$name$$)});$toggleFormat$$("align"+
$align$$);$execCommand$$("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function($command$$){var $listParent$$;$execNativeCommand$$($command$$);if($command$$=$dom$$.getParent($selection$$.getNode(),"ol,ul"))$listParent$$=$command$$.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test($listParent$$.nodeName)&&($bookmark$$0$$=$selection$$.getBookmark(void 0),$dom$$.split($listParent$$,$command$$),$selection$$.moveToBookmark($bookmark$$0$$))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function($command$$){$toggleFormat$$($command$$)},
"ForeColor,HiliteColor,FontName":function($command$$,$ui$$,$value$$){$toggleFormat$$($command$$,$value$$)},FontSize:function($command$$,$fontClasses_ui$$,$value$$){var $fontSizes$$;1<=$value$$&&7>=$value$$&&($fontSizes$$=$tinymce$$.explode($settings$$.font_size_style_values),$value$$=($fontClasses_ui$$=$tinymce$$.explode($settings$$.font_size_classes))?$fontClasses_ui$$[$value$$-1]||$value$$:$fontSizes$$[$value$$-1]||$value$$);$toggleFormat$$($command$$,$value$$)},RemoveFormat:function($command$$){$formatter$$.remove($command$$);
if($tinymce$$.isWebKit){var $tables$$=$dom$$.select("table");$each$$($tables$$,function($n$$){$dom$$.setStyle($n$$,"display","inline-table")});setTimeout(function(){$each$$($tables$$,function($n$$){$dom$$.setStyle($n$$,"display","")})},0)}},mceBlockQuote:function(){$toggleFormat$$("blockquote")},FormatBlock:function($command$$,$ui$$,$value$$){return $toggleFormat$$($value$$||"p")},codebtnFunc:function(){$editor$$.execCommand("mceAddJiveMacro5_3",!1," ")},mceCleanup:function(){var $bookmark$$=$selection$$.getBookmark();
$editor$$.setContent($editor$$.getContent({cleanup:$TRUE$$}),{cleanup:$TRUE$$});$selection$$.moveToBookmark($bookmark$$)},mceRemoveNode:function($command$$17_node$$,$ui$$,$value$$){$command$$17_node$$=$value$$||$selection$$.getNode();$command$$17_node$$!=$editor$$.getBody()&&($bookmark$$0$$=$selection$$.getBookmark(void 0),$editor$$.dom.remove($command$$17_node$$,$TRUE$$),$selection$$.moveToBookmark($bookmark$$0$$))},mceSelectNodeDepth:function($command$$,$ui$$,$value$$){var $counter$$=0;$dom$$.getParent($selection$$.getNode(),
function($node$$){if(1==$node$$.nodeType&&$counter$$++==$value$$)return $selection$$.select($node$$),$FALSE$$},$editor$$.getBody())},mceSelectNode:function($command$$,$ui$$,$value$$){$selection$$.select($value$$)},mceInsertContent:function($args$$7_command$$,$node$$78_nodeRect_ui$$,$marker$$2_value$$){var $node2_parser$$,$serializer$$,$parentNode$$3_rng$$,$rootNode$$,$fragment$$;$node2_parser$$=$editor$$.parser;$serializer$$=new $tinymce$$.html.Serializer({},$editor$$.schema);$args$$7_command$$={content:$marker$$2_value$$,
format:"html"};$selection$$.onBeforeSetContent.dispatch($selection$$,$args$$7_command$$);$marker$$2_value$$=$args$$7_command$$.content;-1==$marker$$2_value$$.indexOf("{$caret}")&&($marker$$2_value$$+="{$caret}");$marker$$2_value$$=$marker$$2_value$$.replace(/\{\$caret\}/,'<span class="mce_marker" data-mce-type="bookmark">\ufeff</span>');$selection$$.isCollapsed()||$editor$$.getDoc().execCommand("Delete",!1,null);$parentNode$$3_rng$$=$selection$$.getNode();$args$$7_command$$={context:$parentNode$$3_rng$$.nodeName.toLowerCase()};
$fragment$$=$node2_parser$$.parse($marker$$2_value$$,$args$$7_command$$);$node$$78_nodeRect_ui$$=$fragment$$.lastChild;if("mce_marker"==$node$$78_nodeRect_ui$$.attr("class")){$marker$$2_value$$=$node$$78_nodeRect_ui$$;for($node$$78_nodeRect_ui$$=$node$$78_nodeRect_ui$$.prev;$node$$78_nodeRect_ui$$;$node$$78_nodeRect_ui$$=$node$$78_nodeRect_ui$$.walk(!0))if(3==$node$$78_nodeRect_ui$$.type||!$dom$$.isBlock($node$$78_nodeRect_ui$$.name)){$node$$78_nodeRect_ui$$.parent.insert($marker$$2_value$$,$node$$78_nodeRect_ui$$,
"br"===$node$$78_nodeRect_ui$$.name);break}}if($args$$7_command$$.invalid){$selection$$.setContent('<span class="mce_marker" data-mce-type="bookmark">\ufeff</span>');$parentNode$$3_rng$$=$editor$$.selection.getNode();$rootNode$$=$editor$$.getBody();for(9==$parentNode$$3_rng$$.nodeType?$parentNode$$3_rng$$=$node$$78_nodeRect_ui$$=$rootNode$$:$node$$78_nodeRect_ui$$=$parentNode$$3_rng$$;$node$$78_nodeRect_ui$$!==$rootNode$$;)$parentNode$$3_rng$$=$node$$78_nodeRect_ui$$,$node$$78_nodeRect_ui$$=$node$$78_nodeRect_ui$$.parentNode;
$marker$$2_value$$=$parentNode$$3_rng$$==$rootNode$$?$rootNode$$.innerHTML:$dom$$.getOuterHTML($parentNode$$3_rng$$);$marker$$2_value$$=$serializer$$.serialize($node2_parser$$.parse($marker$$2_value$$.replace(/<span (class="mce_marker"|class=mce_marker).+?<\/span>/i,function(){return $serializer$$.serialize($fragment$$)})));$parentNode$$3_rng$$==$rootNode$$?$dom$$.setHTML($rootNode$$,$marker$$2_value$$):$dom$$.setOuterHTML($parentNode$$3_rng$$,$marker$$2_value$$)}else $marker$$2_value$$=$serializer$$.serialize($fragment$$),
$node$$78_nodeRect_ui$$=$parentNode$$3_rng$$.firstChild,$node2_parser$$=$parentNode$$3_rng$$.lastChild,!$node$$78_nodeRect_ui$$||$node$$78_nodeRect_ui$$===$node2_parser$$&&"BR"===$node$$78_nodeRect_ui$$.nodeName?$dom$$.setHTML($parentNode$$3_rng$$,$marker$$2_value$$):$selection$$.setContent($marker$$2_value$$);if($marker$$2_value$$=$dom$$.select(".mce_marker")[0]){$node$$78_nodeRect_ui$$=$dom$$.getRect($marker$$2_value$$);$parentNode$$3_rng$$=$dom$$.getViewPort($editor$$.getWin());if($node$$78_nodeRect_ui$$.y+
$node$$78_nodeRect_ui$$.h>$parentNode$$3_rng$$.y+$parentNode$$3_rng$$.h||$node$$78_nodeRect_ui$$.y<$parentNode$$3_rng$$.y||$node$$78_nodeRect_ui$$.x>$parentNode$$3_rng$$.x+$parentNode$$3_rng$$.w||$node$$78_nodeRect_ui$$.x<$parentNode$$3_rng$$.x)$node2_parser$$=$tinymce$$.isIE?$editor$$.getDoc().documentElement:$editor$$.getBody(),$node2_parser$$.scrollLeft=$node$$78_nodeRect_ui$$.x,$node2_parser$$.scrollTop=$node$$78_nodeRect_ui$$.y-$parentNode$$3_rng$$.h+25;$parentNode$$3_rng$$=$dom$$.createRng();
($node$$78_nodeRect_ui$$=$marker$$2_value$$.previousSibling)&&3==$node$$78_nodeRect_ui$$.nodeType?$parentNode$$3_rng$$.setStart($node$$78_nodeRect_ui$$,$node$$78_nodeRect_ui$$.nodeValue.length):($parentNode$$3_rng$$.setStartBefore($marker$$2_value$$),$parentNode$$3_rng$$.setEndBefore($marker$$2_value$$));$dom$$.remove($marker$$2_value$$);$selection$$.setRng($parentNode$$3_rng$$)}$selection$$.onSetContent.dispatch($selection$$,$args$$7_command$$);$editor$$.addVisual()},mceInsertRawHTML:function($command$$,
$ui$$,$value$$){$selection$$.setContent("tiny_mce_marker");$editor$$.setContent($editor$$.getContent().replace(/tiny_mce_marker/g,function(){return $value$$}))},mceSetContent:function($command$$,$ui$$,$value$$){$editor$$.setContent($value$$)},"Indent,Outdent":function($command$$){var $intentValue$$,$indentUnit$$,$value$$;$intentValue$$=$settings$$.indentation;$indentUnit$$=/[a-z%]+$/i.exec($intentValue$$);$intentValue$$=parseInt($intentValue$$);!$queryCommandState$$("InsertUnorderedList")&&!$queryCommandState$$("InsertOrderedList")?
$each$$($selection$$.getSelectedBlocks(),function($element$$){"outdent"==$command$$?($value$$=Math.max(0,parseInt($element$$.style.paddingLeft||0)-$intentValue$$),$dom$$.setStyle($element$$,"paddingLeft",$value$$?$value$$+$indentUnit$$:"")):$dom$$.setStyle($element$$,"paddingLeft",parseInt($element$$.style.paddingLeft||0)+$intentValue$$+$indentUnit$$)}):$execNativeCommand$$($command$$)},mceRepaint:function(){if($tinymce$$.isGecko)try{$bookmark$$0$$=$selection$$.getBookmark($TRUE$$),$selection$$.getSel()&&
$selection$$.getSel().selectAllChildren($editor$$.getBody()),$selection$$.collapse($TRUE$$),$selection$$.moveToBookmark($bookmark$$0$$)}catch($ex$$){}},mceToggleFormat:function($command$$,$ui$$,$value$$){$formatter$$.toggle($value$$)},InsertHorizontalRule:function(){$editor$$.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){$editor$$.hasVisual=!$editor$$.hasVisual;$editor$$.addVisual()},mceReplaceContent:function($command$$,$ui$$,$value$$){$editor$$.execCommand("mceInsertContent",
!1,$value$$.replace(/\{\$selection\}/g,$selection$$.getContent({format:"text"})))},mceInsertLink:function($anchor_command$$,$ui$$,$value$$){"string"==typeof $value$$&&($value$$={href:$value$$});$anchor_command$$=$dom$$.getParent($selection$$.getNode(),"a");$value$$.href=$value$$.href.replace(" ","%20");(!$anchor_command$$||!$value$$.href)&&$formatter$$.remove("link");$value$$.href&&$formatter$$.apply("link",$value$$,$anchor_command$$)},selectAll:function(){var $root$$=$dom$$.getRoot(),$rng$$=$dom$$.createRng();
$rng$$.setStart($root$$,0);$rng$$.setEnd($root$$,$root$$.childNodes.length);$editor$$.selection.setRng($rng$$)}});$addCommands$$({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function($command$$27_name$$){$command$$27_name$$="align"+$command$$27_name$$.substring(7);return $formatter$$.match($command$$27_name$$)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function($command$$){return $formatter$$.match($command$$)},mceBlockQuote:function(){return $formatter$$.match("blockquote")},
Outdent:function(){var $node$$;return $settings$$.inline_styles&&(($node$$=$dom$$.getParent($selection$$.getStart(),$dom$$.isBlock))&&0<parseInt($node$$.style.paddingLeft)||($node$$=$dom$$.getParent($selection$$.getEnd(),$dom$$.isBlock))&&0<parseInt($node$$.style.paddingLeft))?$TRUE$$:$queryCommandState$$("InsertUnorderedList")||$queryCommandState$$("InsertOrderedList")||!$settings$$.inline_styles&&!!$dom$$.getParent($selection$$.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function($command$$){return $dom$$.getParent($selection$$.getNode(),
"insertunorderedlist"==$command$$?"UL":"OL")}},"state");$addCommands$$({"FontSize,FontName":function($command$$){var $value$$=0,$parent$$;if($parent$$=$dom$$.getParent($selection$$.getNode(),"span"))$value$$="fontsize"==$command$$?$parent$$.style.fontSize:$parent$$.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase();return $value$$}},"value");$settings$$.custom_undo_redo&&$addCommands$$({Undo:function(){$editor$$.undoManager.undo()},Redo:function(){$editor$$.undoManager.redo()}})}})(tinymce);
(function($tinymce$$){var $Dispatcher$$=$tinymce$$.util.Dispatcher;$tinymce$$.UndoManager=function $$tinymce$$$UndoManager$($editor$$){function $getContent$$(){return $tinymce$$.trim($editor$$.getContent({format:"raw",no_events:1}))}var $self$$,$index$$=0,$data$$=[],$beforeBookmark$$;return $self$$={typing:!1,deleting:!1,onAdd:new $Dispatcher$$($self$$),onUndo:new $Dispatcher$$($self$$),onRedo:new $Dispatcher$$($self$$),beforeChange:function $$self$$$beforeChange$(){$beforeBookmark$$=$editor$$.selection.getBookmark(2,
!0)},add:function $$self$$$add$($level$$){var $i$$99_settings$$;$i$$99_settings$$=$editor$$.settings;var $lastLevel$$,$level$$=$level$$||{};$level$$.content=$getContent$$();if(($lastLevel$$=$data$$[$index$$])&&$lastLevel$$.content==$level$$.content)return null;$data$$[$index$$]&&($data$$[$index$$].beforeBookmark=$beforeBookmark$$);if($i$$99_settings$$.custom_undo_redo_levels&&$data$$.length>$i$$99_settings$$.custom_undo_redo_levels){for($i$$99_settings$$=0;$i$$99_settings$$<$data$$.length-1;$i$$99_settings$$++)$data$$[$i$$99_settings$$]=
$data$$[$i$$99_settings$$+1];$data$$.length--;$index$$=$data$$.length}$level$$.bookmark=$editor$$.selection.getBookmark(2,!0);$index$$<$data$$.length-1&&($data$$.length=$index$$+1);$data$$.push($level$$);$index$$=$data$$.length-1;$self$$.onAdd.dispatch($self$$,$level$$);$editor$$.isNotDirty=0;return $level$$},transparentChange:function $$self$$$transparentChange$($cb$$7_ret$$){var $currentContent$$=$getContent$$(),$lastLevel$$=$data$$[$index$$];return $lastLevel$$&&$lastLevel$$.content==$currentContent$$&&
(0<$index$$||1==$data$$.length)?($cb$$7_ret$$=$cb$$7_ret$$(),$lastLevel$$.content=$getContent$$(),$lastLevel$$.bookmark=$editor$$.selection.getBookmark(2,!0),$cb$$7_ret$$):$cb$$7_ret$$()},undo:function $$self$$$undo$(){var $level$$;$self$$.typing&&($self$$.add(),$self$$.typing=!1,$self$$.deleting=!1);0<$index$$&&($level$$=$data$$[--$index$$],$editor$$.setContent($level$$.content,{format:"raw"}),$editor$$.selection.moveToBookmark($level$$.beforeBookmark),$self$$.onUndo.dispatch($self$$,$level$$));
return $level$$},redo:function $$self$$$redo$(){var $level$$;$index$$<$data$$.length-1&&($level$$=$data$$[++$index$$],$editor$$.setContent($level$$.content,{format:"raw"}),$editor$$.selection.moveToBookmark($level$$.bookmark),$self$$.onRedo.dispatch($self$$,$level$$));return $level$$},clear:function $$self$$$clear$(){$data$$=[];$index$$=0;$self$$.typing=!1;$self$$.deleting=!1},hasUndo:function $$self$$$hasUndo$(){return 0<$index$$||this.typing||this.deleting},hasRedo:function $$self$$$hasRedo$(){return $index$$<
$data$$.length-1&&!this.typing}}}})(tinymce);
(function($tinymce$$){function $isAtEnd$$($rng$$,$par$$){var $rng2$$=$par$$.ownerDocument.createRange();$rng2$$.setStart($rng$$.endContainer,$rng$$.endOffset);$rng2$$.setEndAfter($par$$);return 0==$rng2$$.toString().replace(/\ufeff/g,"").length}var $Event$$=$tinymce$$.dom.Event,$isIE$$=$tinymce$$.isIE,$isIE9$$=$tinymce$$.isIE9,$isGecko$$=$tinymce$$.isGecko,$isOpera$$=$tinymce$$.isOpera,$FALSE$$=!1;$tinymce$$.create("tinymce.ForceBlocks",{ForceBlocks:function($ed$$){var $s$$=$ed$$.settings,$elm$$;
this.editor=$ed$$;this.dom=$ed$$.dom;$elm$$=($s$$.forced_root_block||"p").toLowerCase();$s$$.element=$elm$$.toUpperCase();$ed$$.onPreInit.add(this.setup,this)},setup:function(){var $t$$=this,$ed$$0$$=$t$$.editor,$s$$=$ed$$0$$.settings,$dom$$=$ed$$0$$.dom,$selection$$=$ed$$0$$.selection,$blockElements$$=$ed$$0$$.schema.getBlockElements();if($s$$.forced_root_block){var $addRootBlocks$$=function $$addRootBlocks$$$(){var $node$$=$selection$$.getStart(),$rootNode$$=$ed$$0$$.getBody(),$rng$$,$startContainer$$,
$startOffset$$,$endContainer$$,$endOffset$$,$rootBlockNode$$,$tempNode$$,$wrapped$$;if($node$$&&1===$node$$.nodeType){for(;$node$$&&$node$$!=$rootNode$$;){if($blockElements$$[$node$$.nodeName])return;$node$$=$node$$.parentNode}$rng$$=$selection$$.getRng();if($rng$$.setStart)$startContainer$$=$rng$$.startContainer,$startOffset$$=$rng$$.startOffset,$endContainer$$=$rng$$.endContainer,$endOffset$$=$rng$$.endOffset;else if($rng$$.item&&($node$$=$rng$$.item(0),$rng$$=$ed$$0$$.getDoc().body.createTextRange(),
$rng$$.moveToElementText($node$$)),tmpRng=$rng$$.duplicate(),tmpRng.collapse(!0),$startOffset$$=-1*tmpRng.move("character",-16777215),!tmpRng.collapsed)tmpRng=$rng$$.duplicate(),tmpRng.collapse(!1),$endOffset$$=-1*tmpRng.move("character",-16777215)-$startOffset$$;for($node$$=$rootNode$$.firstChild;$node$$;$node$$)3===$node$$.nodeType||1==$node$$.nodeType&&!$blockElements$$[$node$$.nodeName]?($rootBlockNode$$||($rootBlockNode$$=$dom$$.create($s$$.forced_root_block),$node$$.parentNode.insertBefore($rootBlockNode$$,
$node$$),$wrapped$$=!0),$tempNode$$=$node$$,$node$$=$node$$.nextSibling,$rootBlockNode$$.appendChild($tempNode$$)):($rootBlockNode$$=null,$node$$=$node$$.nextSibling);if($rng$$.setStart)$rng$$.setStart($startContainer$$,$startOffset$$),$rng$$.setEnd($endContainer$$,$endOffset$$),$selection$$.setRng($rng$$);else try{$rng$$=$ed$$0$$.getDoc().body.createTextRange(),$rng$$.moveToElementText($rootNode$$),$rng$$.collapse(!0),$rng$$.moveStart("character",$startOffset$$),0<$endOffset$$&&$rng$$.moveEnd("character",
$endOffset$$),$rng$$.select()}catch($ex$$){}$wrapped$$&&$ed$$0$$.nodeChanged()}};$ed$$0$$.onKeyUp.add($addRootBlocks$$);$ed$$0$$.onNodeChange.add($addRootBlocks$$)}$s$$.force_br_newlines&&$isIE$$&&!$isIE9$$&&$ed$$0$$.onKeyPress.add(function($ed$$,$e$$){var $n$$;if(13==$e$$.keyCode&&"LI"!=$selection$$.getNode().nodeName)return $selection$$.setContent('<br id="__" /> ',{format:"raw"}),$n$$=$dom$$.get("__"),$n$$.removeAttribute("id"),$selection$$.select($n$$),$selection$$.collapse(),$Event$$.cancel($e$$)});
$s$$.force_p_newlines&&(!$isIE$$||$isIE9$$?$ed$$0$$.onKeyPress.add(function($ed$$,$e$$){13==$e$$.keyCode&&(!$e$$.shiftKey&&!$t$$.insertPara($e$$))&&$Event$$.cancel($e$$)}):($tinymce$$.addUnload(function(){$t$$._previousFormats=0}),$ed$$0$$.onKeyPress.add(function($ed$$,$e$$){$t$$._previousFormats=0;if(13==$e$$.keyCode&&!$e$$.shiftKey&&$ed$$.selection.isCollapsed()&&$s$$.keep_styles){var $JSCompiler_inline_result$$;var $node$$=$ed$$.selection.getStart(),$clone$$,$temp$$,$inner$$;do/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test($node$$.nodeName)&&
($clone$$?($temp$$=$node$$.cloneNode(!1),$temp$$.appendChild($clone$$),$clone$$=$temp$$):$clone$$=$inner$$=$node$$.cloneNode(!1),$clone$$.removeAttribute("id"));while($node$$=$node$$.parentNode);$clone$$&&($JSCompiler_inline_result$$={wrapper:$clone$$,inner:$inner$$});$t$$._previousFormats=$JSCompiler_inline_result$$}}),$ed$$0$$.onKeyUp.add(function($ed$$,$e$$){if(13==$e$$.keyCode&&!$e$$.shiftKey){var $parent$$=$ed$$.selection.getStart(),$fmt$$=$t$$._previousFormats;if(!$parent$$.hasChildNodes()&&
$fmt$$&&($parent$$=$dom$$.getParent($parent$$,$dom$$.isBlock))&&"LI"!=$parent$$.nodeName)$parent$$.innerHTML="",$t$$._previousFormats?($parent$$.appendChild($fmt$$.wrapper),$fmt$$.inner.innerHTML="\ufeff"):$parent$$.innerHTML="\ufeff",$selection$$.select($parent$$,1),$selection$$.collapse(!0),$ed$$.getDoc().execCommand("Delete",!1,null),$t$$._previousFormats=0;$parent$$=$dom$$.getParent($parent$$,$dom$$.isBlock);/^(H[1-6])$/.test($parent$$.nodeName)&&!$parent$$.innerText&&($parent$$=$dom$$.rename($parent$$,
"P"),$selection$$.select($parent$$,1),$selection$$.collapse(),$ed$$.nodeChanged())}})),$isGecko$$&&$ed$$0$$.onKeyDown.add(function($ed$$,$e$$){($e$$.keyCode==8||$e$$.keyCode==46)&&!$e$$.shiftKey&&$t$$.backspaceDelete($e$$,$e$$.keyCode==8)}));$tinymce$$.isWebKit&&$ed$$0$$.onKeyPress.add(function($ed$$,$e$$){if($e$$.keyCode==13&&($e$$.shiftKey||$s$$.force_br_newlines&&!$dom$$.getParent($selection$$.getNode(),"h1,h2,h3,h4,h5,h6,ol,ul"))){var $divYPos$$inline_69_rng$$=$selection$$.getRng(),$br$$,$div$$=
$dom$$.create("div",null," "),$vpHeight$$=$dom$$.getViewPort($ed$$.getWin()).h;$divYPos$$inline_69_rng$$.insertNode($br$$=$dom$$.create("br"));$divYPos$$inline_69_rng$$.setStartAfter($br$$);$divYPos$$inline_69_rng$$.setEndAfter($br$$);$selection$$.setRng($divYPos$$inline_69_rng$$);if($selection$$.getSel().focusNode==$br$$.previousSibling){$selection$$.select($dom$$.insertAfter($dom$$.doc.createTextNode("\u00a0"),$br$$));$selection$$.collapse(true)}$dom$$.insertAfter($div$$,$br$$);$divYPos$$inline_69_rng$$=
$dom$$.getPos($div$$).y;$dom$$.remove($div$$);$divYPos$$inline_69_rng$$>$vpHeight$$&&$ed$$.getWin().scrollTo(0,$divYPos$$inline_69_rng$$);$Event$$.cancel($e$$)}});$isIE$$&&"P"!=$s$$.element&&($ed$$0$$.onKeyPress.add(function(){$t$$.lastElm=$selection$$.getNode().nodeName}),$ed$$0$$.onKeyUp.add(function($ed$$,$e$$){var $bl$$1_n$$;$bl$$1_n$$=$selection$$.getNode();if($ed$$.getBody().childNodes.length===1&&$bl$$1_n$$.nodeName=="P"){$bl$$1_n$$=$dom$$.rename($bl$$1_n$$,$s$$.element);$selection$$.select($bl$$1_n$$);
$selection$$.collapse();$ed$$.nodeChanged()}else if($e$$.keyCode==13&&!$e$$.shiftKey&&$t$$.lastElm!="P")if($bl$$1_n$$=$dom$$.getParent($bl$$1_n$$,"p")){$dom$$.rename($bl$$1_n$$,$s$$.element);$ed$$.nodeChanged()}}))},getParentBlock:function($n$$){var $d$$=this.dom;return $d$$.getParent($n$$,$d$$.isBlock)},getClosestBlockContainer:function($n$$){return $tinymce$$.activeEditor.dom.getParent($n$$,"li, td, th, pre, body")},insertPara:function($bef$$1_e$$){function $appendStyles$$($e$$,$en$$){var $nl$$=
[],$nn$$,$i$$101_n$$;$e$$.innerHTML="";if($se$$.keep_styles){$i$$101_n$$=$en$$;do/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test($i$$101_n$$.nodeName)&&($nn$$=$i$$101_n$$.cloneNode($FALSE$$),$dom$$.setAttrib($nn$$,"id",""),$nl$$.push($nn$$));while($i$$101_n$$=$i$$101_n$$.parentNode)}if(0<$nl$$.length){$i$$101_n$$=$nl$$.length-1;for($nn$$=$e$$;0<=$i$$101_n$$;$i$$101_n$$--)$nn$$=$nn$$.appendChild($nl$$[$i$$101_n$$]);$nl$$[0].innerHTML=$isOpera$$?"\u00a0":$isIE$$?"":"<br />";return $nl$$[0]}$e$$.innerHTML=
$isOpera$$?"\u00a0":$isIE$$?"":"<br />"}var $ed$$=this.editor,$dom$$=$ed$$.dom,$d$$=$ed$$.getDoc(),$se$$=$ed$$.settings,$eo$$2_s$$=$ed$$.selection.getSel(),$n$$101_r$$=$ed$$.selection.getRng(!0),$b$$=$d$$.body,$rb$$,$ra$$,$bn_dir$$,$car_newLi_r2_sn_y$$,$so$$,$en$$1_newElem_p$$,$sb$$1_sc$$,$eb$$1_ec$$,$aft$$,$bm_formatElems_rng$$30_vp$$=$dom$$.getViewPort($ed$$.getWin());$ed$$.undoManager.beforeChange();$ed$$.selectionUtil.adjustForAnchorEdges($n$$101_r$$);$rb$$=$d$$.createRange();$rb$$.setStart($eo$$2_s$$.anchorNode,
$eo$$2_s$$.anchorOffset);$rb$$.collapse(!0);$ra$$=$d$$.createRange();$ra$$.setStart($eo$$2_s$$.focusNode,$eo$$2_s$$.focusOffset);$ra$$.collapse(!0);$car_newLi_r2_sn_y$$=($bn_dir$$=0>$rb$$.compareBoundaryPoints($rb$$.START_TO_END,$ra$$))?$eo$$2_s$$.anchorNode:$eo$$2_s$$.focusNode;$so$$=$bn_dir$$?$eo$$2_s$$.anchorOffset:$eo$$2_s$$.focusOffset;$en$$1_newElem_p$$=$bn_dir$$?$eo$$2_s$$.focusNode:$eo$$2_s$$.anchorNode;$eo$$2_s$$=$bn_dir$$?$eo$$2_s$$.focusOffset:$eo$$2_s$$.anchorOffset;if($car_newLi_r2_sn_y$$===
$en$$1_newElem_p$$&&/^(TD|TH)$/.test($car_newLi_r2_sn_y$$.nodeName))return"BR"==$car_newLi_r2_sn_y$$.firstChild.nodeName&&$dom$$.remove($car_newLi_r2_sn_y$$.firstChild),0==$car_newLi_r2_sn_y$$.childNodes.length?$ed$$.dom.add($car_newLi_r2_sn_y$$,$se$$.element,null,"<br />"):($n$$101_r$$=$car_newLi_r2_sn_y$$.innerHTML,$car_newLi_r2_sn_y$$.innerHTML="",$ed$$.dom.add($car_newLi_r2_sn_y$$,$se$$.element,null,$n$$101_r$$)),$aft$$=$ed$$.dom.add($car_newLi_r2_sn_y$$,$se$$.element,null,"<br />"),$n$$101_r$$=
$d$$.createRange(),$n$$101_r$$.selectNodeContents($aft$$),$n$$101_r$$.collapse(1),$ed$$.selection.setRng($n$$101_r$$),$FALSE$$;$car_newLi_r2_sn_y$$==$b$$&&($en$$1_newElem_p$$==$b$$&&$b$$.firstChild&&$ed$$.dom.isBlock($b$$.firstChild))&&($car_newLi_r2_sn_y$$=$en$$1_newElem_p$$=$car_newLi_r2_sn_y$$.firstChild,$so$$=$eo$$2_s$$=0,$rb$$=$d$$.createRange(),$rb$$.setStart($car_newLi_r2_sn_y$$,0),$ra$$=$d$$.createRange(),$ra$$.setStart($en$$1_newElem_p$$,0));$d$$.body.hasChildNodes()||$d$$.body.appendChild($dom$$.create("br"));
$car_newLi_r2_sn_y$$="HTML"==$car_newLi_r2_sn_y$$.nodeName?$d$$.body:$car_newLi_r2_sn_y$$;$car_newLi_r2_sn_y$$="BODY"==$car_newLi_r2_sn_y$$.nodeName?$car_newLi_r2_sn_y$$.firstChild:$car_newLi_r2_sn_y$$;$en$$1_newElem_p$$="HTML"==$en$$1_newElem_p$$.nodeName?$d$$.body:$en$$1_newElem_p$$;$en$$1_newElem_p$$="BODY"==$en$$1_newElem_p$$.nodeName?$en$$1_newElem_p$$.firstChild:$en$$1_newElem_p$$;$sb$$1_sc$$=this.getParentBlock($car_newLi_r2_sn_y$$);$eb$$1_ec$$=this.getParentBlock($en$$1_newElem_p$$);$bn_dir$$=
$sb$$1_sc$$?$sb$$1_sc$$.nodeName:$se$$.element;$aft$$=this.getClosestBlockContainer($car_newLi_r2_sn_y$$);if("li"==$aft$$.nodeName.toLowerCase()){if(($dom$$.isEmpty($aft$$)||1==$aft$$.firstChild.nodeType&&$dom$$.isEmpty($aft$$.firstChild)&&(1==$aft$$.childNodes.length||"br"==$aft$$.lastChild.nodeName.toLowerCase()&&2==$aft$$.childNodes.length))&&null==$aft$$.nextSibling)return $ed$$.execCommand("mceOutdent"),!1;if(($tinymce$$.isGecko||$tinymce$$.isIE9)&&$ed$$.selectionUtil.atEndOf($aft$$)){$bm_formatElems_rng$$30_vp$$=
[];for($n$$101_r$$=$car_newLi_r2_sn_y$$;$n$$101_r$$!=$aft$$;)1==$n$$101_r$$.nodeType&&!$ed$$.dom.isBlock($n$$101_r$$)&&$bm_formatElems_rng$$30_vp$$.push($n$$101_r$$),$n$$101_r$$=$n$$101_r$$.parentNode;$car_newLi_r2_sn_y$$=$ed$$.dom.create("li");$aft$$.parentNode.insertBefore($car_newLi_r2_sn_y$$,$aft$$.nextSibling);for($n$$101_r$$=$car_newLi_r2_sn_y$$;$bm_formatElems_rng$$30_vp$$.length;)$en$$1_newElem_p$$=$bm_formatElems_rng$$30_vp$$.pop().cloneNode(!1),$n$$101_r$$.appendChild($en$$1_newElem_p$$),
$n$$101_r$$=$en$$1_newElem_p$$;$tinymce$$.isGecko&&$car_newLi_r2_sn_y$$.appendChild($tinymce$$.activeEditor.dom.create("br",{_moz_dirty:"",type:"_moz","data-mce-bogus":"1"}));$bm_formatElems_rng$$30_vp$$=$ed$$.dom.createRng();$bm_formatElems_rng$$30_vp$$.setStart($n$$101_r$$,0);$bm_formatElems_rng$$30_vp$$.collapse(!0);$ed$$.selection.setRng($bm_formatElems_rng$$30_vp$$);$tinymce$$.dom.Event.cancel($bef$$1_e$$);return!1}}else if($tinymce$$.isWebKit&&"pre"==$aft$$.nodeName.toLowerCase()&&$ed$$.dom.getParent($car_newLi_r2_sn_y$$,
"p, pre")==$aft$$)return $bm_formatElems_rng$$30_vp$$=$ed$$.selection.getBookmark(),$car_newLi_r2_sn_y$$=$ed$$.dom.createRng(),$car_newLi_r2_sn_y$$.selectNodeContents($aft$$),$en$$1_newElem_p$$=$ed$$.dom.create("p"),$car_newLi_r2_sn_y$$.surroundContents($en$$1_newElem_p$$),$ed$$.selection.moveToBookmark($bm_formatElems_rng$$30_vp$$),!0;if($sb$$1_sc$$&&("CAPTION"==$sb$$1_sc$$.nodeName||/absolute|relative|fixed/gi.test($dom$$.getStyle($sb$$1_sc$$,"position",1))))$bn_dir$$=$se$$.element,$sb$$1_sc$$=
null;if($eb$$1_ec$$&&("CAPTION"==$eb$$1_ec$$.nodeName||/absolute|relative|fixed/gi.test($dom$$.getStyle($sb$$1_sc$$,"position",1))))$bn_dir$$=$se$$.element,$eb$$1_ec$$=null;if(/(TD|TABLE|TH|CAPTION)/.test($bn_dir$$)||$sb$$1_sc$$&&"DIV"==$bn_dir$$&&/left|right/gi.test($dom$$.getStyle($sb$$1_sc$$,"float",1)))$bn_dir$$=$se$$.element,$sb$$1_sc$$=$eb$$1_ec$$=null;$bef$$1_e$$=$sb$$1_sc$$&&$sb$$1_sc$$.nodeName==$bn_dir$$?$sb$$1_sc$$.cloneNode(0):$ed$$.dom.create($bn_dir$$);$aft$$=$eb$$1_ec$$&&$eb$$1_ec$$.nodeName==
$bn_dir$$?$eb$$1_ec$$.cloneNode(0):$ed$$.dom.create($bn_dir$$);$aft$$.removeAttribute("id");/^(H[1-6])$/.test($bn_dir$$)&&$isAtEnd$$($n$$101_r$$,$sb$$1_sc$$)&&($aft$$=$ed$$.dom.create($se$$.element));$n$$101_r$$=$sb$$1_sc$$=$car_newLi_r2_sn_y$$;do{if($n$$101_r$$==$b$$||9==$n$$101_r$$.nodeType||this.dom.isBlock($n$$101_r$$)||/(TD|TABLE|TH|CAPTION)/.test($n$$101_r$$.nodeName))break;$sb$$1_sc$$=$n$$101_r$$}while($n$$101_r$$=$n$$101_r$$.previousSibling?$n$$101_r$$.previousSibling:$n$$101_r$$.parentNode);
$n$$101_r$$=$eb$$1_ec$$=$en$$1_newElem_p$$;do{if($n$$101_r$$==$b$$||9==$n$$101_r$$.nodeType||this.dom.isBlock($n$$101_r$$)||/(TD|TABLE|TH|CAPTION)/.test($n$$101_r$$.nodeName))break;$eb$$1_ec$$=$n$$101_r$$}while($n$$101_r$$=$n$$101_r$$.nextSibling?$n$$101_r$$.nextSibling:$n$$101_r$$.parentNode);$sb$$1_sc$$.nodeName==$bn_dir$$?$rb$$.setStart($sb$$1_sc$$,0):$rb$$.setStartBefore($sb$$1_sc$$);$rb$$.setEnd($car_newLi_r2_sn_y$$,$so$$);$ed$$.selectionUtil.adjustForAnchorEdges($rb$$);$bef$$1_e$$.appendChild($rb$$.cloneContents()||
$d$$.createTextNode(""));try{$ra$$.setEndAfter($eb$$1_ec$$)}catch($ex$$){}$ra$$.setStart($en$$1_newElem_p$$,$eo$$2_s$$);$ed$$.selectionUtil.adjustForAnchorEdges($ra$$);$aft$$.appendChild($ra$$.cloneContents()||$d$$.createTextNode(""));$n$$101_r$$=$d$$.createRange();!$sb$$1_sc$$.previousSibling&&$sb$$1_sc$$.parentNode.nodeName==$bn_dir$$?$n$$101_r$$.setStartBefore($sb$$1_sc$$.parentNode):$rb$$.startContainer.nodeName==$bn_dir$$&&0==$rb$$.startOffset?$n$$101_r$$.setStartBefore($rb$$.startContainer):
$n$$101_r$$.setStart($rb$$.startContainer,$rb$$.startOffset);!$eb$$1_ec$$.nextSibling&&$eb$$1_ec$$.parentNode.nodeName==$bn_dir$$?$n$$101_r$$.setEndAfter($eb$$1_ec$$.parentNode):$n$$101_r$$.setEnd($ra$$.endContainer,$ra$$.endOffset);$n$$101_r$$.deleteContents();$isOpera$$&&$ed$$.getWin().scrollTo(0,$bm_formatElems_rng$$30_vp$$.y);$bef$$1_e$$.firstChild&&$bef$$1_e$$.firstChild.nodeName==$bn_dir$$&&($bef$$1_e$$.innerHTML=$bef$$1_e$$.firstChild.innerHTML);$aft$$.firstChild&&$aft$$.firstChild.nodeName==
$bn_dir$$&&($aft$$.innerHTML=$aft$$.firstChild.innerHTML);$dom$$.isEmpty($bef$$1_e$$)&&$appendStyles$$($bef$$1_e$$,$car_newLi_r2_sn_y$$);for($car_newLi_r2_sn_y$$=$aft$$;$car_newLi_r2_sn_y$$.firstChild&&1==$car_newLi_r2_sn_y$$.firstChild.nodeType&&!/br|hr|img|input/i.test($car_newLi_r2_sn_y$$.firstChild.nodeName);)$car_newLi_r2_sn_y$$=$car_newLi_r2_sn_y$$.firstChild;$dom$$.isEmpty($aft$$)&&($car_newLi_r2_sn_y$$=$appendStyles$$($aft$$,$en$$1_newElem_p$$)||$car_newLi_r2_sn_y$$);$isOpera$$&&9.5>parseFloat(opera.version())?
($n$$101_r$$.insertNode($bef$$1_e$$),$n$$101_r$$.insertNode($aft$$)):($n$$101_r$$.insertNode($aft$$),$n$$101_r$$.insertNode($bef$$1_e$$));$aft$$.normalize();$bef$$1_e$$.normalize();$n$$101_r$$.setStart($car_newLi_r2_sn_y$$,0);$n$$101_r$$.setEnd($car_newLi_r2_sn_y$$,0);$ed$$.selection.setRng($n$$101_r$$);$car_newLi_r2_sn_y$$=$ed$$.dom.getPos($aft$$).y;if($car_newLi_r2_sn_y$$<$bm_formatElems_rng$$30_vp$$.y||$car_newLi_r2_sn_y$$+25>$bm_formatElems_rng$$30_vp$$.y+$bm_formatElems_rng$$30_vp$$.h)$ed$$.getWin().scrollTo(0,
$car_newLi_r2_sn_y$$<$bm_formatElems_rng$$30_vp$$.y?$car_newLi_r2_sn_y$$:$car_newLi_r2_sn_y$$-$bm_formatElems_rng$$30_vp$$.h+25);$ed$$.undoManager.add();return $FALSE$$},backspaceDelete:function($e$$,$bs$$){var $ed$$=this.editor,$b$$=$ed$$.getBody(),$dom$$=$ed$$.dom,$se$$=$ed$$.selection,$r$$=$se$$.getRng(),$sc$$=$r$$.startContainer,$n$$,$walker$$;if(!$bs$$&&$r$$.collapsed&&1==$sc$$.nodeType&&$r$$.startOffset==$sc$$.childNodes.length){$walker$$=new $tinymce$$.dom.TreeWalker($sc$$.lastChild,$sc$$);
for($n$$=$sc$$.lastChild;$n$$;$n$$=$walker$$.prev())if(3==$n$$.nodeType){$r$$.setStart($n$$,$n$$.nodeValue.length);$r$$.collapse(!0);$se$$.setRng($r$$);return}}if($sc$$&&($ed$$.dom.isBlock($sc$$)&&!/^(TD|TH)$/.test($sc$$.nodeName)&&$bs$$)&&(0==$sc$$.childNodes.length||1==$sc$$.childNodes.length&&"BR"==$sc$$.firstChild.nodeName)){for($n$$=$sc$$;($n$$=$n$$.previousSibling)&&!$ed$$.dom.isBlock($n$$););for(;$n$$&&$ed$$.dom.is($n$$,"table, tbody, tr, ul, ol");)$n$$=$n$$.lastChild;if($n$$){if($sc$$!=$b$$.firstChild){if(($b$$=
$n$$.lastChild)&&"br"==$b$$.nodeName.toLowerCase())$b$$=$b$$.previousSibling;$r$$=$ed$$.getDoc().createRange();$b$$?$r$$.setStart($n$$,$dom$$.nodeIndex($b$$)+1):$r$$.setStart($n$$,0);$r$$.collapse(!0);$se$$.setRng($r$$);$ed$$.dom.remove($sc$$)}return $Event$$.cancel($e$$)}}}})})(tinymce);
(function($tinymce$$){var $Event$$=$tinymce$$.dom.Event,$each$$=$tinymce$$.each,$extend$$=$tinymce$$.extend;$tinymce$$.create("tinymce.ControlManager",{ControlManager:function($ed$$,$s$$){var $t$$=this,$s$$=$s$$||{};$t$$.editor=$ed$$;$t$$.controls={};$t$$.onAdd=new $tinymce$$.util.Dispatcher($t$$);$t$$.onPostRender=new $tinymce$$.util.Dispatcher($t$$);$t$$.prefix=$s$$.prefix||$ed$$.id+"_";$t$$._cls={};$t$$.onPostRender.add(function(){$each$$($t$$.controls,function($c$$){$c$$.postRender()})})},get:function($id$$){return this.controls[this.prefix+
$id$$]||this.controls[$id$$]},setActive:function($id$$,$s$$){var $c$$=null;($c$$=this.get($id$$))&&$c$$.setActive($s$$);return $c$$},setDisabled:function($id$$,$s$$){var $c$$=null;($c$$=this.get($id$$))&&$c$$.setDisabled($s$$);return $c$$},add:function($c$$){$c$$&&(this.controls[$c$$.id]=$c$$,this.onAdd.dispatch($c$$,this));return $c$$},createControl:function($n$$){var $c$$,$t$$=this,$ed$$=$t$$.editor;$each$$($ed$$.plugins,function($p$$){if($p$$.createControl&&($c$$=$p$$.createControl($n$$,$t$$)))return!1});
switch($n$$){case "|":case "separator":return $t$$.createSeparator()}return!$c$$&&$ed$$.buttons&&($c$$=$ed$$.buttons[$n$$])?$t$$.createButton($n$$,$c$$):$t$$.add($c$$)},createDropMenu:function($id$$,$s$$0$$,$cc$$){var $ed$$=this.editor,$c$$0$$,$bm$$,$v$$,$s$$0$$=$extend$$({"class":"mceDropDown",constrain:$ed$$.settings.constrain_menus},$s$$0$$);$s$$0$$["class"]=$s$$0$$["class"]+" "+$ed$$.getParam("skin")+"Skin";if($v$$=$ed$$.getParam("skin_variant"))$s$$0$$["class"]+=" "+$ed$$.getParam("skin")+"Skin"+
$v$$.substring(0,1).toUpperCase()+$v$$.substring(1);$id$$=this.prefix+$id$$;$c$$0$$=this.controls[$id$$]=new ($cc$$||this._cls.dropmenu||$tinymce$$.ui.DropMenu)($id$$,$s$$0$$);$c$$0$$.onAddItem.add(function($c$$,$o$$){var $s$$=$o$$.settings;$s$$.title=$ed$$.getLang($s$$.title,$s$$.title);$s$$.onclick||($s$$.onclick=function $$s$$$onclick$(){$s$$.cmd&&$ed$$.execCommand($s$$.cmd,$s$$.ui||!1,$s$$.value)})});$ed$$.onRemove.add(function(){$c$$0$$.destroy()});$tinymce$$.isIE&&($c$$0$$.onShowMenu.add(function(){$ed$$.focus();
$bm$$=$ed$$.selection.getBookmark(1)}),$c$$0$$.onHideMenu.add(function(){$bm$$&&($ed$$.selection.moveToBookmark($bm$$),$bm$$=0)}));return this.add($c$$0$$)},createListBox:function($id$$,$s$$,$c$$43_cc$$1_cls$$){var $ed$$=this.editor;if(this.get($id$$))return null;$s$$.title=$ed$$.translate($s$$.title);$s$$.scope=$s$$.scope||$ed$$;$s$$.onselect||($s$$.onselect=function $$s$$$onselect$($v$$){$ed$$.execCommand($s$$.cmd,$s$$.ui||!1,$v$$||$s$$.value)});$s$$=$extend$$({title:$s$$.title,"class":"mce_"+$id$$,
scope:$s$$.scope,control_manager:this},$s$$);$id$$=this.prefix+$id$$;$ed$$.settings.use_native_selects?$c$$43_cc$$1_cls$$=new $tinymce$$.ui.NativeListBox($id$$,$s$$):($c$$43_cc$$1_cls$$=$c$$43_cc$$1_cls$$||this._cls.listbox||$tinymce$$.ui.ListBox,$c$$43_cc$$1_cls$$=new $c$$43_cc$$1_cls$$($id$$,$s$$,$ed$$));this.controls[$id$$]=$c$$43_cc$$1_cls$$;$tinymce$$.isWebKit&&$c$$43_cc$$1_cls$$.onPostRender.add(function($c$$,$n$$){$Event$$.add($n$$,"mousedown",function(){$ed$$.bookmark=$ed$$.selection.getBookmark(1)});
$Event$$.add($n$$,"focus",function(){$ed$$.selection.moveToBookmark($ed$$.bookmark);$ed$$.bookmark=null})});$c$$43_cc$$1_cls$$.hideMenu&&$ed$$.onMouseDown.add($c$$43_cc$$1_cls$$.hideMenu,$c$$43_cc$$1_cls$$);return this.add($c$$43_cc$$1_cls$$)},createButton:function($c$$45_id$$,$s$$,$cc$$2_cls$$){var $ed$$=this.editor;if(this.get($c$$45_id$$))return null;$s$$.title=$ed$$.translate($s$$.title);$s$$.label=$ed$$.translate($s$$.label);$s$$.scope=$s$$.scope||$ed$$;!$s$$.onclick&&!$s$$.menu_button&&($s$$.onclick=
function $$s$$$onclick$(){$ed$$.execCommand($s$$.cmd,$s$$.ui||!1,$s$$.value)});$s$$=$extend$$({title:$s$$.title,"class":"mce_"+$c$$45_id$$,unavailable_prefix:$ed$$.getLang("unavailable",""),scope:$s$$.scope,control_manager:this},$s$$);$c$$45_id$$=this.prefix+$c$$45_id$$;$s$$.menu_button?($cc$$2_cls$$=$cc$$2_cls$$||this._cls.menubutton||$tinymce$$.ui.MenuButton,$c$$45_id$$=new $cc$$2_cls$$($c$$45_id$$,$s$$,$ed$$),$ed$$.onMouseDown.add($c$$45_id$$.hideMenu,$c$$45_id$$)):($cc$$2_cls$$=this._cls.button||
$tinymce$$.ui.Button,$c$$45_id$$=new $cc$$2_cls$$($c$$45_id$$,$s$$,$ed$$));return this.add($c$$45_id$$)},createMenuButton:function($id$$,$s$$,$cc$$){$s$$=$s$$||{};$s$$.menu_button=1;return this.createButton($id$$,$s$$,$cc$$)},createSplitButton:function($c$$46_id$$,$s$$,$cc$$){var $ed$$=this.editor;if(this.get($c$$46_id$$))return null;$s$$.title=$ed$$.translate($s$$.title);$s$$.scope=$s$$.scope||$ed$$;$s$$.onclick||($s$$.onclick=function $$s$$$onclick$($v$$){$ed$$.execCommand($s$$.cmd,$s$$.ui||!1,
$v$$||$s$$.value)});$s$$.onselect||($s$$.onselect=function $$s$$$onselect$($v$$){$ed$$.execCommand($s$$.cmd,$s$$.ui||false,$v$$||$s$$.value)});$s$$=$extend$$({title:$s$$.title,"class":"mce_"+$c$$46_id$$,scope:$s$$.scope,control_manager:this},$s$$);$c$$46_id$$=this.prefix+$c$$46_id$$;$c$$46_id$$=this.add(new ($cc$$||this._cls.splitbutton||$tinymce$$.ui.SplitButton)($c$$46_id$$,$s$$,$ed$$));$ed$$.onMouseDown.add($c$$46_id$$.hideMenu,$c$$46_id$$);return $c$$46_id$$},createColorSplitButton:function($id$$,
$s$$,$cc$$){var $ed$$=this.editor,$c$$,$bm$$;if(this.get($id$$))return null;$s$$.title=$ed$$.translate($s$$.title);$s$$.scope=$s$$.scope||$ed$$;$s$$.onclick||($s$$.onclick=function $$s$$$onclick$($v$$){$tinymce$$.isIE&&($bm$$=$ed$$.selection.getBookmark(1));$ed$$.execCommand($s$$.cmd,$s$$.ui||!1,$v$$||$s$$.value)});$s$$.onselect||($s$$.onselect=function $$s$$$onselect$($v$$){$ed$$.execCommand($s$$.cmd,$s$$.ui||false,$v$$||$s$$.value)});$s$$=$extend$$({title:$s$$.title,"class":"mce_"+$id$$,menu_class:$ed$$.getParam("skin")+
"Skin",scope:$s$$.scope,more_colors_title:$ed$$.getLang("advanced.more_colors")},$s$$);$id$$=this.prefix+$id$$;$c$$=new ($cc$$||this._cls.colorsplitbutton||$tinymce$$.ui.ColorSplitButton)($id$$,$s$$,$ed$$);$ed$$.onMouseDown.add($c$$.hideMenu,$c$$);$ed$$.onRemove.add(function(){$c$$.destroy()});$tinymce$$.isIE&&($c$$.onShowMenu.add(function(){$ed$$.focus();$bm$$=$ed$$.selection.getBookmark(1)}),$c$$.onHideMenu.add(function(){if($bm$$){$ed$$.selection.moveToBookmark($bm$$);$bm$$=0}}));return this.add($c$$)},
createToolbar:function($id$$,$c$$48_s$$,$cc$$){$id$$=this.prefix+$id$$;$c$$48_s$$=new ($cc$$||this._cls.toolbar||$tinymce$$.ui.Toolbar)($id$$,$c$$48_s$$,this.editor);return this.get($id$$)?null:this.add($c$$48_s$$)},createToolbarGroup:function($id$$,$c$$49_s$$,$cc$$){$id$$=this.prefix+$id$$;$c$$49_s$$=new ($cc$$||this._cls.toolbarGroup||$tinymce$$.ui.ToolbarGroup)($id$$,$c$$49_s$$,this.editor);return this.get($id$$)?null:this.add($c$$49_s$$)},createSeparator:function($cc$$){return new ($cc$$||this._cls.separator||
$tinymce$$.ui.Separator)},setControlType:function($n$$,$c$$){return this._cls[$n$$.toLowerCase()]=$c$$},destroy:function(){$each$$(this.controls,function($c$$){$c$$.destroy()});this.controls=null}})})(tinymce);
(function($tinymce$$){var $Dispatcher$$=$tinymce$$.util.Dispatcher,$each$$=$tinymce$$.each,$isIE$$=$tinymce$$.isIE,$isOpera$$=$tinymce$$.isOpera;$tinymce$$.create("tinymce.WindowManager",{WindowManager:function($ed$$){this.editor=$ed$$;this.onOpen=new $Dispatcher$$(this);this.onClose=new $Dispatcher$$(this);this.params={};this.features={}},open:function($s$$,$p$$){var $f$$="",$mo$$="modal"==this.editor.settings.dialog_type,$w$$,$sw$$2_u$$,$sh$$2_vp$$;$sh$$2_vp$$=$tinymce$$.DOM.getViewPort();$s$$=
$s$$||{};$p$$=$p$$||{};$sw$$2_u$$=$isOpera$$?$sh$$2_vp$$.w:screen.width;$sh$$2_vp$$=$isOpera$$?$sh$$2_vp$$.h:screen.height;$s$$.name=$s$$.name||"mc_"+(new Date).getTime();$s$$.width=parseInt($s$$.width||320);$s$$.height=parseInt($s$$.height||240);$s$$.resizable=!0;$s$$.left=$s$$.left||parseInt($sw$$2_u$$/2)-$s$$.width/2;$s$$.top=$s$$.top||parseInt($sh$$2_vp$$/2)-$s$$.height/2;$p$$.inline=!1;$p$$.mce_width=$s$$.width;$p$$.mce_height=$s$$.height;$p$$.mce_auto_focus=$s$$.auto_focus;$mo$$&&$isIE$$&&($s$$.center=
!0,$s$$.help=!1,$s$$.dialogWidth=$s$$.width+"px",$s$$.dialogHeight=$s$$.height+"px",$s$$.scroll=$s$$.scrollbars||!1);$each$$($s$$,function($v$$,$k$$){$tinymce$$.is($v$$,"boolean")&&($v$$=$v$$?"yes":"no");/^(name|url)$/.test($k$$)||($f$$=$isIE$$&&$mo$$?$f$$+(($f$$?";":"")+$k$$+":"+$v$$):$f$$+(($f$$?",":"")+$k$$+"="+$v$$))});this.features=$s$$;this.params=$p$$;this.onOpen.dispatch(this,$s$$,$p$$);$sw$$2_u$$=$s$$.url||$s$$.file;$sw$$2_u$$=$tinymce$$._addVer($sw$$2_u$$);try{$isIE$$&&$mo$$?($w$$=1,window.showModalDialog($sw$$2_u$$,
window,$f$$)):$w$$=window.open($sw$$2_u$$,$s$$.name,$f$$)}catch($ex$$){}$w$$||alert(this.editor.getLang("popup_blocked"))},close:function($w$$){$w$$.close();this.onClose.dispatch(this)},createInstance:function($cl$$,$a$$,$b$$,$c$$,$d$$,$e$$){return new ($tinymce$$.resolve($cl$$))($a$$,$b$$,$c$$,$d$$,$e$$)},confirm:function($t$$,$cb$$,$s$$,$w$$){$w$$=$w$$||window;$cb$$.call($s$$||this,$w$$.confirm(this._decode(this.editor.getLang($t$$,$t$$))))},alert:function($tx$$,$cb$$,$s$$,$w$$){$w$$=$w$$||window;
$w$$.alert(this._decode(this.editor.getLang($tx$$,$tx$$)));$cb$$&&$cb$$.call($s$$||this)},resizeBy:function($dw$$,$dh$$,$win$$){$win$$.resizeBy($dw$$,$dh$$)},_decode:function($s$$){return $tinymce$$.DOM.decode($s$$).replace(/\\n/g,"\n")}})})(tinymce);
(function($tinymce$$){$tinymce$$.Formatter=function $$tinymce$$$Formatter$($ed$$0$$){function $isCaretNode$$($node$$){return 1===$node$$.nodeType&&("mceinline"===$node$$.face||"mceinline"===$node$$.style.fontFamily)}function $get$$($name$$){return $name$$?$formats$$[$name$$]:$formats$$}function $register$$($name$$0$$,$format$$0$$){$name$$0$$&&("string"!==typeof $name$$0$$?$each$$($name$$0$$,function($format$$,$name$$){$register$$($name$$,$format$$)}):($format$$0$$=$format$$0$$.length?$format$$0$$:
[$format$$0$$],$each$$($format$$0$$,function($format$$){$format$$.deep===$undefined$$&&($format$$.deep=!$format$$.selector);$format$$.split===$undefined$$&&($format$$.split=!$format$$.selector||$format$$.inline);$format$$.remove===$undefined$$&&($format$$.selector&&!$format$$.inline)&&($format$$.remove="none");$format$$.selector&&$format$$.inline&&($format$$.mixed=!0,$format$$.block_expand=!0);"string"===typeof $format$$.classes&&($format$$.classes=$format$$.classes.split(/\s+/))}),$formats$$[$name$$0$$]=
$format$$0$$))}function $apply$$($name$$0$$,$vars$$,$node$$2$$){function $setElementFormat$$($elm$$,$fmt$$){$fmt$$=$fmt$$||$format$$0$$;if($elm$$){if($fmt$$.onformat)$fmt$$.onformat($elm$$,$fmt$$,$vars$$,$node$$2$$);$each$$($fmt$$.styles,function($value$$,$name$$){$dom$$.setStyle($elm$$,$name$$,$replaceVars$$($value$$,$vars$$))});$each$$($fmt$$.attributes,function($value$$,$name$$){$dom$$.setAttrib($elm$$,$name$$,$replaceVars$$($value$$,$vars$$))});$each$$($fmt$$.classes,function($value$$){$value$$=
$replaceVars$$($value$$,$vars$$);$dom$$.hasClass($elm$$,$value$$)||$dom$$.addClass($elm$$,$value$$)})}}function $adjustSelectionToVisibleSelection$$(){var $rng$$=$ed$$0$$.selection.getRng(),$newEnd_start$$=$rng$$.startContainer,$end$$5_walker$$=$rng$$.endContainer;if($newEnd_start$$!=$end$$5_walker$$&&0==$rng$$.endOffset){a:{$end$$5_walker$$=new $TreeWalker$$($end$$5_walker$$);for($node$$2$$=$end$$5_walker$$.current();$node$$2$$;$node$$2$$=$end$$5_walker$$.prev())if(1<$node$$2$$.childNodes.length||
$node$$2$$==$newEnd_start$$){$newEnd_start$$=$node$$2$$;break a}$newEnd_start$$=void 0}$rng$$.setEnd($newEnd_start$$,3==$newEnd_start$$.nodeType?$newEnd_start$$.length:$newEnd_start$$.childNodes.length)}return $rng$$}function $applyStyleToList$$($node$$0$$,$bookmark$$,$wrapElm$$,$newWrappers$$,$process$$){var $nodes$$=[],$listIndex$$=-1,$list$$,$startIndex$$=-1,$endIndex$$=-1,$currentWrapElm$$;$each$$($node$$0$$.childNodes,function($n$$,$index$$){if("UL"===$n$$.nodeName||"OL"===$n$$.nodeName)return $listIndex$$=
$index$$,$list$$=$n$$,!1});$each$$($node$$0$$.childNodes,function($n$$,$index$$){"SPAN"===$n$$.nodeName&&"bookmark"==$dom$$.getAttrib($n$$,"data-mce-type")&&($n$$.id==$bookmark$$.id+"_start"?$startIndex$$=$index$$:$n$$.id==$bookmark$$.id+"_end"&&($endIndex$$=$index$$))});if(0>=$listIndex$$||$startIndex$$<$listIndex$$&&$endIndex$$>$listIndex$$)return $each$$($tinymce$$.grep($node$$0$$.childNodes),$process$$),0;$currentWrapElm$$=$wrapElm$$.cloneNode($FALSE$$);$each$$($tinymce$$.grep($node$$0$$.childNodes),
function($n$$,$index$$){if($startIndex$$<$listIndex$$&&$index$$<$listIndex$$||$startIndex$$>$listIndex$$&&$index$$>$listIndex$$)$nodes$$.push($n$$),$n$$.parentNode.removeChild($n$$)});$startIndex$$<$listIndex$$?$node$$0$$.insertBefore($currentWrapElm$$,$list$$):$startIndex$$>$listIndex$$&&$node$$0$$.insertBefore($currentWrapElm$$,$list$$.nextSibling);$newWrappers$$.push($currentWrapElm$$);$each$$($nodes$$,function($node$$){$currentWrapElm$$.appendChild($node$$)});return $currentWrapElm$$}function $applyRngStyle$$($rng$$,
$bookmark$$,$node_specific$$){function $getChildCount$$($node$$0$$){var $count$$=0;$each$$($node$$0$$.childNodes,function($node$$){!$isWhiteSpaceNode$$($node$$)&&!$isBookmarkNode$$($node$$)&&$count$$++});return $count$$}var $newWrappers$$=[],$wrapName$$,$wrapElm$$;$wrapName$$=$format$$0$$.inline||$format$$0$$.block;$wrapElm$$=$dom$$.create($wrapName$$);$setElementFormat$$($wrapElm$$);$rangeUtils$$.walk($rng$$,function($nodes$$){function $process$$($node$$){var $nodeName$$=$node$$.nodeName.toLowerCase(),
$parentName$$=$node$$.parentNode.nodeName.toLowerCase(),$found$$;if(!(3==$node$$.nodeType&&""==$node$$.nodeValue||$isBookmarkNode$$($node$$)))if($isEq$$($nodeName$$,"br"))$currentWrapElm$$=0,$format$$0$$.block&&$dom$$.remove($node$$);else if($format$$0$$.wrapper&&$matchNode$$($node$$,$name$$0$$,$vars$$))$currentWrapElm$$=0;else if($format$$0$$.block&&!$format$$0$$.wrapper&&/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test($nodeName$$))$node$$=$dom$$.rename($node$$,$wrapName$$),$setElementFormat$$($node$$),
$newWrappers$$.push($node$$),$tinymce$$.isIE&&0==$getChildCount$$($node$$)&&function(){var $tmpNode$$=$ed$$0$$.getDoc().createTextNode($INVISIBLE_CHAR$$);$node$$.appendChild($tmpNode$$);setTimeout(function(){$dom$$.remove($tmpNode$$)},0)}(),$currentWrapElm$$=0;else{if($format$$0$$.selector&&($each$$($formatList$$,function($format$$){!("collapsed"in $format$$&&$format$$.collapsed!==$isCollapsed$$)&&($dom$$.is($node$$,$format$$.selector)&&!$isCaretNode$$($node$$))&&($setElementFormat$$($node$$,$format$$),
$found$$=!0)}),!$format$$0$$.inline||$found$$)){$currentWrapElm$$=0;return}$isValid$$($wrapName$$,$nodeName$$)&&$isValid$$($parentName$$,$wrapName$$)&&($node_specific$$||!(3===$node$$.nodeType&&1===$node$$.nodeValue.length&&65279===$node$$.nodeValue.charCodeAt(0)))&&"_mce_caret"!==$node$$.id?($currentWrapElm$$||($currentWrapElm$$=$wrapElm$$.cloneNode($FALSE$$),$node$$.parentNode.insertBefore($currentWrapElm$$,$node$$),$newWrappers$$.push($currentWrapElm$$)),$currentWrapElm$$.appendChild($node$$)):
"li"==$nodeName$$&&$bookmark$$?$currentWrapElm$$=$applyStyleToList$$($node$$,$bookmark$$,$wrapElm$$,$newWrappers$$,$process$$):($currentWrapElm$$=0,$each$$($tinymce$$.grep($node$$.childNodes),$process$$),$currentWrapElm$$=0);if(0==$newWrappers$$.length&&$isBlockContainer$$($node$$.nodeName.toLowerCase())&&0==$getChildCount$$($node$$)){$currentWrapElm$$=$wrapElm$$.cloneNode($FALSE$$);$node$$.appendChild($currentWrapElm$$);for($newWrappers$$.push($currentWrapElm$$);$node$$.firstChild!=$currentWrapElm$$;)$currentWrapElm$$.appendChild($node$$.firstChild)}}}
var $currentWrapElm$$;$each$$($nodes$$,$process$$)});!1===$format$$0$$.wrap_links&&$each$$($newWrappers$$,function($node$$0$$){function $process$$($node$$){var $i$$,$currentWrapElm$$,$children$$;if("A"===$node$$.nodeName){$currentWrapElm$$=$wrapElm$$.cloneNode($FALSE$$);$newWrappers$$.push($currentWrapElm$$);$children$$=$tinymce$$.grep($node$$.childNodes);for($i$$=0;$i$$<$children$$.length;$i$$++)$currentWrapElm$$.appendChild($children$$[$i$$]);$node$$.appendChild($currentWrapElm$$)}$each$$($tinymce$$.grep($node$$.childNodes),
$process$$)}$process$$($node$$0$$)});$each$$($newWrappers$$,function($node$$1$$){function $mergeStyles$$($node$$0$$){var $child$$,$clone$$;$each$$($node$$0$$.childNodes,function($node$$){if(1==$node$$.nodeType&&!$isBookmarkNode$$($node$$)&&!$isCaretNode$$($node$$))return $child$$=$node$$,$FALSE$$});$child$$&&$matchName$$($child$$,$format$$0$$)&&($clone$$=$child$$.cloneNode($FALSE$$),$setElementFormat$$($clone$$),$dom$$.replace($clone$$,$node$$0$$,$TRUE$$),$dom$$.remove($child$$,1));return $clone$$||
$node$$0$$}var $childCount$$;$childCount$$=$getChildCount$$($node$$1$$);if(0===$childCount$$&&!(1>=$newWrappers$$.length&&$node$$1$$.parentNode&&$isBlockContainer$$($node$$1$$.parentNode.nodeName.toLowerCase())))$dom$$.remove($node$$1$$,1);else if($format$$0$$.inline||$format$$0$$.wrapper){!$format$$0$$.exact&&1===$childCount$$&&($node$$1$$=$mergeStyles$$($node$$1$$));$each$$($formatList$$,function($format$$){$each$$($dom$$.select($format$$.inline,$node$$1$$),function($child$$){var $parent$$;if(!1===
$format$$.wrap_links){$parent$$=$child$$.parentNode;do if("A"===$parent$$.nodeName)return;while($parent$$=$parent$$.parentNode)}$removeFormat$$($format$$,$vars$$,$child$$,$format$$.exact?$child$$:null)})});if($matchNode$$($node$$1$$.parentNode,$name$$0$$,$vars$$))return $dom$$.remove($node$$1$$,1),$node$$1$$=0,$TRUE$$;$format$$0$$.merge_with_parents&&$dom$$.getParent($node$$1$$.parentNode,function($parent$$){if($matchNode$$($parent$$,$name$$0$$,$vars$$))return $dom$$.remove($node$$1$$,1),$node$$1$$=
0,$TRUE$$});$node$$1$$&&!1!==$format$$0$$.merge_siblings&&($node$$1$$=$mergeSiblings$$($getNonWhiteSpaceSibling$$($node$$1$$),$node$$1$$),$node$$1$$=$mergeSiblings$$($node$$1$$,$getNonWhiteSpaceSibling$$($node$$1$$,$TRUE$$)))}});$ed$$0$$.onFormatChange.dispatch($format$$0$$,!0)}var $formatList$$=$get$$($name$$0$$);if(null==$formatList$$)console.log("no such format: "+$name$$0$$);else{var $format$$0$$=$formatList$$[0],$bookmark$$8_rng$$,$isCollapsed$$=$selection$$.isCollapsed();if($format$$0$$)if($node$$2$$)$bookmark$$8_rng$$=
$dom$$.createRng(),$bookmark$$8_rng$$.setStartBefore($node$$2$$),$bookmark$$8_rng$$.setEndAfter($node$$2$$),$applyRngStyle$$($expandRng$$($bookmark$$8_rng$$,$formatList$$),null,!0);else if(!$isCollapsed$$||!$format$$0$$.inline||$dom$$.select("td.mceSelected,th.mceSelected").length){var $curSelNode$$=$ed$$0$$.selection.getNode();$ed$$0$$.selection.setRng($adjustSelectionToVisibleSelection$$());$bookmark$$8_rng$$=$selection$$.getBookmark();$applyRngStyle$$($expandRng$$($selection$$.getRng($TRUE$$),
$formatList$$),$bookmark$$8_rng$$);if($format$$0$$.styles&&($format$$0$$.styles.color||$format$$0$$.styles.textDecoration))$tinymce$$.walk($curSelNode$$,$processUnderlineAndColor$$,"childNodes"),$processUnderlineAndColor$$($curSelNode$$);$selection$$.moveToBookmark($bookmark$$8_rng$$);$ed$$0$$.nodeChanged()}else $performCaretAction$$("apply",$name$$0$$,$vars$$)}}function $remove$$($name$$,$vars$$,$bookmark$$11_node$$){function $moveStart$$($rng$$){var $container$$6_tmpNode$$1_walker$$=$rng$$.startContainer,
$node$$97_offset$$=$rng$$.startOffset,$nodes$$;3==$container$$6_tmpNode$$1_walker$$.nodeType&&$node$$97_offset$$>=$container$$6_tmpNode$$1_walker$$.nodeValue.length-1&&($container$$6_tmpNode$$1_walker$$=$container$$6_tmpNode$$1_walker$$.parentNode,$node$$97_offset$$=$nodeIndex$$($container$$6_tmpNode$$1_walker$$)+1);if(1==$container$$6_tmpNode$$1_walker$$.nodeType){$nodes$$=$container$$6_tmpNode$$1_walker$$.childNodes;$container$$6_tmpNode$$1_walker$$=$nodes$$[Math.min($node$$97_offset$$,$nodes$$.length-
1)];$container$$6_tmpNode$$1_walker$$=new $TreeWalker$$($container$$6_tmpNode$$1_walker$$);$node$$97_offset$$>$nodes$$.length-1&&$container$$6_tmpNode$$1_walker$$.next();for($node$$97_offset$$=$container$$6_tmpNode$$1_walker$$.current();$node$$97_offset$$;$node$$97_offset$$=$container$$6_tmpNode$$1_walker$$.next())if(3==$node$$97_offset$$.nodeType&&!$isWhiteSpaceNode$$($node$$97_offset$$)){$container$$6_tmpNode$$1_walker$$=$dom$$.create("a",null,$INVISIBLE_CHAR$$);$node$$97_offset$$.parentNode.insertBefore($container$$6_tmpNode$$1_walker$$,
$node$$97_offset$$);$rng$$.setStart($node$$97_offset$$,0);$selection$$.setRng($rng$$);$dom$$.remove($container$$6_tmpNode$$1_walker$$);break}}}function $process$$($node$$){var $children$$,$i$$,$l$$;$children$$=$tinymce$$.grep($node$$.childNodes);$i$$=0;for($l$$=$formatList$$.length;$i$$<$l$$&&!$removeFormat$$($formatList$$[$i$$],$vars$$,$node$$,$node$$);$i$$++);if($format$$0$$.deep){$i$$=0;for($l$$=$children$$.length;$i$$<$l$$;$i$$++)$process$$($children$$[$i$$])}}function $findFormatRoot$$($container$$){var $formatRoot$$;
$each$$($dom$$.getParents($container$$.parentNode,void 0,$dom$$.getRoot()).reverse(),function($parent$$){var $format$$;!$formatRoot$$&&"_start"!=$parent$$.id&&"_end"!=$parent$$.id&&($format$$=$matchNode$$($parent$$,$name$$,$vars$$))&&!1!==$format$$.split&&($formatRoot$$=$parent$$)});return $formatRoot$$}function $wrapAndSplit$$($format_root$$,$container$$,$target$$,$split$$){var $parent$$,$clone$$,$lastClone$$,$firstClone$$,$i$$,$formatRootParent$$;if($format_root$$){$formatRootParent$$=$format_root$$.parentNode;
for($parent$$=$container$$.parentNode;$parent$$&&$parent$$!=$formatRootParent$$;$parent$$=$parent$$.parentNode){$clone$$=$parent$$.cloneNode($FALSE$$);for($i$$=0;$i$$<$formatList$$.length;$i$$++)if($removeFormat$$($formatList$$[$i$$],$vars$$,$clone$$,$clone$$)){$clone$$=0;break}$clone$$&&($lastClone$$&&$clone$$.appendChild($lastClone$$),$firstClone$$||($firstClone$$=$clone$$),$lastClone$$=$clone$$)}if($split$$&&(!$format$$0$$.mixed||!$isBlock$$($format_root$$)))$container$$=$dom$$.split($format_root$$,
$container$$);$lastClone$$&&($target$$.parentNode.insertBefore($lastClone$$,$target$$),$firstClone$$.appendChild($target$$))}return $container$$}function $unwrap$$($start$$){var $node$$=$dom$$.get($start$$?"_start":"_end"),$out$$=$node$$[$start$$?"firstChild":"lastChild"];$isBookmarkNode$$($out$$)&&($out$$=$out$$[$start$$?"firstChild":"lastChild"]);$dom$$.remove($node$$,!0);return $out$$}function $removeRngStyle$$($rng$$){var $startContainer$$,$endContainer$$,$rng$$=$expandRng$$($rng$$,$formatList$$,
$TRUE$$);$format$$0$$.split&&($startContainer$$=$getContainer$$($rng$$,$TRUE$$),$endContainer$$=$getContainer$$($rng$$),$startContainer$$!=$endContainer$$?($startContainer$$=$wrap$$($startContainer$$,"span",{id:"_start","data-mce-type":"bookmark"}),$endContainer$$=$wrap$$($endContainer$$,"span",{id:"_end","data-mce-type":"bookmark"}),$wrapAndSplit$$($findFormatRoot$$($startContainer$$),$startContainer$$,$startContainer$$,!0),$wrapAndSplit$$($findFormatRoot$$($endContainer$$),$endContainer$$,$endContainer$$,
!0),$startContainer$$=$unwrap$$($TRUE$$),$endContainer$$=$unwrap$$()):$startContainer$$=$endContainer$$=$wrapAndSplit$$($findFormatRoot$$($startContainer$$),$startContainer$$,$startContainer$$,!0),$rng$$.startContainer=$startContainer$$.parentNode,$rng$$.startOffset=$nodeIndex$$($startContainer$$),$rng$$.endContainer=$endContainer$$.parentNode,$rng$$.endOffset=$nodeIndex$$($endContainer$$)+1);$rangeUtils$$.walk($rng$$,function($nodes$$){$each$$($nodes$$,function($node$$){$process$$($node$$);$node$$.nodeType===
1&&($ed$$0$$.dom.getStyle($node$$,"text-decoration")==="underline"&&$node$$.parentNode&&$getTextDecoration$$($node$$.parentNode)==="underline")&&$removeFormat$$({deep:false,exact:true,inline:"span",styles:{textDecoration:"underline"}},null,$node$$)})});$ed$$0$$.onFormatChange.dispatch($format$$0$$,!1)}var $formatList$$=$get$$($name$$),$format$$0$$=$formatList$$[0],$rng$$0$$;$bookmark$$11_node$$?$bookmark$$11_node$$.nodeType?($rng$$0$$=$dom$$.createRng(),$rng$$0$$.setStartBefore($bookmark$$11_node$$),
$rng$$0$$.setEndAfter($bookmark$$11_node$$),$removeRngStyle$$($rng$$0$$)):$removeRngStyle$$($bookmark$$11_node$$):(!$selection$$.isCollapsed()||!$format$$0$$.inline||$dom$$.select("td.mceSelected,th.mceSelected").length?($bookmark$$11_node$$=$selection$$.getBookmark(),$removeRngStyle$$($selection$$.getRng($TRUE$$)),$selection$$.moveToBookmark($bookmark$$11_node$$),$format$$0$$.inline&&$match$$($name$$,$vars$$,$selection$$.getStart())&&$moveStart$$($selection$$.getRng(!0)),$ed$$0$$.nodeChanged()):
$performCaretAction$$("remove",$name$$,$vars$$),$tinymce$$.isWebKit&&$ed$$0$$.execCommand("mceCleanup"))}function $matchNode$$($node$$0$$,$format$$15_name$$,$vars$$,$similar$$){function $matchItems$$($node$$,$format$$,$item_name$$){var $i$$109_key$$,$value$$,$items$$=$format$$[$item_name$$];if($format$$.onmatch)return $format$$.onmatch($node$$,$format$$,$item_name$$);if($items$$)if($items$$.length===$undefined$$)for($i$$109_key$$ in $items$$){if($items$$.hasOwnProperty($i$$109_key$$)&&($value$$="attributes"===
$item_name$$?$dom$$.getAttrib($node$$,$i$$109_key$$):$getStyle$$($node$$,$i$$109_key$$),$similar$$&&!$value$$&&!$format$$.exact||(!$similar$$||$format$$.exact)&&!$isEq$$($value$$,$replaceVars$$($items$$[$i$$109_key$$],$vars$$))))return}else for($i$$109_key$$=0;$i$$109_key$$<$items$$.length&&!("attributes"===$item_name$$?$dom$$.getAttrib($node$$,$items$$[$i$$109_key$$]):$getStyle$$($node$$,$items$$[$i$$109_key$$]));$i$$109_key$$++);return $format$$}var $classes_formatList$$=$get$$($format$$15_name$$),
$i$$;if($classes_formatList$$&&$node$$0$$)for($i$$=0;$i$$<$classes_formatList$$.length;$i$$++)if($format$$15_name$$=$classes_formatList$$[$i$$],$matchName$$($node$$0$$,$format$$15_name$$)&&$matchItems$$($node$$0$$,$format$$15_name$$,"attributes")&&$matchItems$$($node$$0$$,$format$$15_name$$,"styles")){if($classes_formatList$$=$format$$15_name$$.classes)for($i$$=0;$i$$<$classes_formatList$$.length;$i$$++)if(!$dom$$.hasClass($node$$0$$,$classes_formatList$$[$i$$]))return;return $format$$15_name$$}}
function $match$$($name$$,$vars$$,$node$$1$$){function $matchParents$$($node$$0$$){$node$$0$$=$dom$$.getParent($node$$0$$,function($node$$){return!!$matchNode$$($node$$,$name$$,$vars$$,!0)});return $matchNode$$($node$$0$$,$name$$,$vars$$)}var $startNode$$;if($node$$1$$)return $matchParents$$($node$$1$$);$node$$1$$=$selection$$.getNode();if($matchParents$$($node$$1$$))return $TRUE$$;$startNode$$=$selection$$.getStart();return $startNode$$!=$node$$1$$&&$matchParents$$($startNode$$)?$TRUE$$:$FALSE$$}
function $matchName$$($node$$,$format$$){if($isEq$$($node$$,$format$$.inline)||$isEq$$($node$$,$format$$.block))return $TRUE$$;if($format$$.selector)return $dom$$.is($node$$,$format$$.selector)}function $isEq$$($str1$$,$str2$$){$str1$$=$str1$$||"";$str2$$=$str2$$||"";$str1$$=""+($str1$$.nodeName||$str1$$);$str2$$=""+($str2$$.nodeName||$str2$$);return $str1$$.toLowerCase()==$str2$$.toLowerCase()}function $getStyle$$($node$$,$name$$){var $styleVal$$=$dom$$.getStyle($node$$,$name$$);if("color"==$name$$||
"backgroundColor"==$name$$)$styleVal$$=$dom$$.toHex($styleVal$$);"fontWeight"==$name$$&&700==$styleVal$$&&($styleVal$$="bold");return""+$styleVal$$}function $replaceVars$$($value$$,$vars$$){"string"!=typeof $value$$?$value$$=$value$$($vars$$):$vars$$&&($value$$=$value$$.replace(/%(\w+)/g,function($str$$,$name$$){return $vars$$[$name$$]||$str$$}));return $value$$}function $isWhiteSpaceNode$$($node$$){return $node$$&&3===$node$$.nodeType&&/^([\t \r\n]+|)$/.test($node$$.nodeValue)}function $wrap$$($node$$,
$name$$141_wrapper$$,$attrs$$){$name$$141_wrapper$$=$dom$$.create($name$$141_wrapper$$,$attrs$$);$node$$.parentNode.insertBefore($name$$141_wrapper$$,$node$$);$name$$141_wrapper$$.appendChild($node$$);return $name$$141_wrapper$$}function $expandRng$$($rng$$,$format$$){function $findParentContainer$$($container$$,$child_name$$,$sibling_name$$,$root$$){var $parent$$,$root$$=$root$$||$dom$$.getRoot();if(3==$container$$.nodeType&&!$isWhiteSpaceNode$$($container$$)&&("firstChild"===$child_name$$?0<$startOffset$$:
$endOffset$$<=$container$$.nodeValue.length))return $container$$;for(;;){$parent$$=$container$$.parentNode;if($parent$$==$root$$||!$format$$[0].block_expand&&$isBlock$$($parent$$))break;for($sibling$$=$parent$$[$child_name$$];$sibling$$&&$sibling$$!=$container$$;$sibling$$=$sibling$$[$sibling_name$$])if(1==$sibling$$.nodeType&&!$isBookmarkNode$$($sibling$$)||3==$sibling$$.nodeType&&!$isWhiteSpaceNode$$($sibling$$))return $container$$;$container$$=$container$$.parentNode}return $container$$}function $findLeaf$$($node$$,
$offset$$){for($offset$$===$undefined$$&&($offset$$=3===$node$$.nodeType?$node$$.length:$node$$.childNodes.length);$node$$&&$node$$.hasChildNodes();)($node$$=$node$$.childNodes[$offset$$])&&($offset$$=3===$node$$.nodeType?$node$$.length:$node$$.childNodes.length);return{node:$node$$,offset:$offset$$}}var $startContainer$$=$rng$$.startContainer,$startOffset$$=$rng$$.startOffset,$endContainer$$=$rng$$.endContainer,$endOffset$$=$rng$$.endOffset,$sibling$$,$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$;
1==$startContainer$$.nodeType&&$startContainer$$.hasChildNodes()&&($findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$=$startContainer$$.childNodes.length-1,$startContainer$$=$startContainer$$.childNodes[$startOffset$$>$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$?$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$:$startOffset$$],3==$startContainer$$.nodeType&&($startOffset$$=0));1==$endContainer$$.nodeType&&$endContainer$$.hasChildNodes()&&($findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$=
$endContainer$$.childNodes.length-1,$endContainer$$=$endContainer$$.childNodes[$endOffset$$>$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$?$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$:$endOffset$$-1],3==$endContainer$$.nodeType&&($endOffset$$=$endContainer$$.nodeValue.length));$isBookmarkNode$$($startContainer$$.parentNode)&&($startContainer$$=$startContainer$$.parentNode);$isBookmarkNode$$($startContainer$$)&&($startContainer$$=$startContainer$$.nextSibling||$startContainer$$);
$isBookmarkNode$$($endContainer$$.parentNode)&&($endOffset$$=$dom$$.nodeIndex($endContainer$$),$endContainer$$=$endContainer$$.parentNode);$isBookmarkNode$$($endContainer$$)&&$endContainer$$.previousSibling&&($endContainer$$=$endContainer$$.previousSibling,$endOffset$$=$endContainer$$.length);if($format$$[0].inline&&($findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$=$findLeaf$$($endContainer$$,$endOffset$$),$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$.node)){for(;$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$.node&&
0===$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$.offset&&$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$.node.previousSibling;)$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$=$findLeaf$$($findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$.node.previousSibling);$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$.node&&(0<$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$.offset&&3===$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$.node.nodeType&&" "===$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$.node.nodeValue.charAt($findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$.offset-
1))&&(1<$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$.offset?($endContainer$$=$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$.node,$endContainer$$.splitText($findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$.offset-1)):$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$.node.previousSibling&&($endContainer$$=$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$.node.previousSibling))}if($format$$[0].inline||$format$$[0].block_expand)$startContainer$$=$findParentContainer$$($startContainer$$,
"firstChild","nextSibling"),$endContainer$$=$findParentContainer$$($endContainer$$,"lastChild","previousSibling");$format$$[0].selector&&($format$$[0].expand!==$FALSE$$&&!$format$$[0].inline)&&($findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$=function $$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$$($container$$,$sibling_name$$){var $parents$$,$i$$,$y$$,$curFormat$$;$container$$.nodeType==3&&($container$$.nodeValue.length==0&&$container$$[$sibling_name$$])&&($container$$=$container$$[$sibling_name$$]);
$parents$$=$dom$$.getParents($container$$,void 0,$dom$$.getRoot());for($i$$=0;$i$$<$parents$$.length;$i$$++)for($y$$=0;$y$$<$format$$.length;$y$$++){$curFormat$$=$format$$[$y$$];if(!("collapsed"in $curFormat$$&&$curFormat$$.collapsed!==$rng$$.collapsed)&&$dom$$.is($parents$$[$i$$],$curFormat$$.selector))return $parents$$[$i$$]}return $container$$},$startContainer$$=$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$($startContainer$$,"previousSibling"),$endContainer$$=$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$($endContainer$$,
"nextSibling"));if($format$$[0].block||$format$$[0].selector)$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$=function $$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$$($container$$,$sibling_name$$){var $node$$;$format$$[0].wrapper||($node$$=$dom$$.getParent($container$$,$format$$[0].block));$node$$||($node$$=$dom$$.getParent($container$$.nodeType==3?$container$$.parentNode:$container$$,$isBlock$$));$node$$&&$format$$[0].wrapper&&($node$$=$dom$$.getParents($node$$,"ul,ol",$dom$$.getRoot()).reverse()[0]||
$node$$);if(!$node$$)for($node$$=$container$$;$node$$[$sibling_name$$]&&!$isBlock$$($node$$[$sibling_name$$]);){$node$$=$node$$[$sibling_name$$];if($isEq$$($node$$,"br"))break}return $node$$||$container$$},$startContainer$$=$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$($startContainer$$,"previousSibling"),$endContainer$$=$findBlockEndPoint_findSelectorEndPoint_lastIdx_leaf$$($endContainer$$,"nextSibling"),$format$$[0].block&&($isBlock$$($startContainer$$)||($startContainer$$=$findParentContainer$$($startContainer$$,
"firstChild","nextSibling")),$isBlock$$($endContainer$$)||($endContainer$$=$findParentContainer$$($endContainer$$,"lastChild","previousSibling")));1==$startContainer$$.nodeType&&($startOffset$$=$nodeIndex$$($startContainer$$),$startContainer$$=$startContainer$$.parentNode);1==$endContainer$$.nodeType&&($endOffset$$=$nodeIndex$$($endContainer$$)+1,$endContainer$$=$endContainer$$.parentNode);return{startContainer:$startContainer$$,startOffset:$startOffset$$,endContainer:$endContainer$$,endOffset:$endOffset$$}}
function $removeFormat$$($format$$,$vars$$,$node$$,$compare_node$$){var $i$$,$attrs$$,$stylesModified$$;if(!$matchName$$($node$$,$format$$))return $FALSE$$;if("all"!=$format$$.remove){$each$$($format$$.styles,function($value$$,$name$$){$value$$=$replaceVars$$($value$$,$vars$$);"number"===typeof $name$$&&($name$$=$value$$,$compare_node$$=0);(!$compare_node$$||$isEq$$($getStyle$$($compare_node$$,$name$$),$value$$))&&$dom$$.setStyle($node$$,$name$$,"");$stylesModified$$=1});$stylesModified$$&&""==$dom$$.getAttrib($node$$,
"style")&&($node$$.removeAttribute("style"),$node$$.removeAttribute("data-mce-style"));$each$$($format$$.attributes,function($value$$,$name$$){var $valueOut$$,$value$$=$replaceVars$$($value$$,$vars$$);if(typeof $name$$==="number"){$name$$=$value$$;$compare_node$$=0}if(!$compare_node$$||$isEq$$($dom$$.getAttrib($compare_node$$,$name$$),$value$$)){if($name$$=="class")if($value$$=$dom$$.getAttrib($node$$,$name$$)){$valueOut$$="";$each$$($value$$.split(/\s+/),function($cls$$){/mce\w+/.test($cls$$)&&($valueOut$$=
$valueOut$$+(($valueOut$$?" ":"")+$cls$$))});if($valueOut$$){$dom$$.setAttrib($node$$,$name$$,$valueOut$$);return}}$name$$=="class"&&$node$$.removeAttribute("className");$MCE_ATTR_RE$$.test($name$$)&&$node$$.removeAttribute("data-mce-"+$name$$);$node$$.removeAttribute($name$$)}});$each$$($format$$.classes,function($value$$){$value$$=$replaceVars$$($value$$,$vars$$);(!$compare_node$$||$dom$$.hasClass($compare_node$$,$value$$))&&$dom$$.removeClass($node$$,$value$$)});$attrs$$=$dom$$.getAttribs($node$$);
for($i$$=0;$i$$<$attrs$$.length;$i$$++)if(0!==$attrs$$[$i$$].nodeName.indexOf("_"))return $FALSE$$}if("none"!=$format$$.remove)return $removeNode$$($node$$,$format$$),$TRUE$$}function $removeNode$$($node$$0$$,$format$$){var $parentNode$$=$node$$0$$.parentNode,$rootBlockElm$$;if($format$$.block)if($forcedRootBlock$$)$parentNode$$==$dom$$.getRoot()&&(!$format$$.list_block||!$isEq$$($node$$0$$,$format$$.list_block))&&$each$$($tinymce$$.grep($node$$0$$.childNodes),function($node$$){$isValid$$($forcedRootBlock$$,
$node$$.nodeName.toLowerCase())?$rootBlockElm$$?$rootBlockElm$$.appendChild($node$$):$rootBlockElm$$=$wrap$$($node$$,$forcedRootBlock$$):$rootBlockElm$$=0});else{var $find$$=function $$find$$$($node$$,$next$$,$inc$$){$node$$=$getNonWhiteSpaceSibling$$($node$$,$next$$,$inc$$);return!$node$$||"BR"==$node$$.nodeName||$isBlock$$($node$$)};$isBlock$$($node$$0$$)&&!$isBlock$$($parentNode$$)&&(!$find$$($node$$0$$,$FALSE$$)&&!$find$$($node$$0$$.firstChild,$TRUE$$,1)&&$node$$0$$.insertBefore($dom$$.create("br"),
$node$$0$$.firstChild),!$find$$($node$$0$$,$TRUE$$)&&!$find$$($node$$0$$.lastChild,$FALSE$$,1)&&$node$$0$$.appendChild($dom$$.create("br")))}(!$format$$.selector||!$format$$.inline||$isEq$$($format$$.inline,$node$$0$$))&&$dom$$.remove($node$$0$$,1)}function $getNonWhiteSpaceSibling$$($node$$,$next$$,$inc$$){if($node$$){$next$$=$next$$?"nextSibling":"previousSibling";for($node$$=$inc$$?$node$$:$node$$[$next$$];$node$$;$node$$=$node$$[$next$$])if(1==$node$$.nodeType||!$isWhiteSpaceNode$$($node$$))return $node$$}}
function $isBookmarkNode$$($node$$){return $node$$&&1==$node$$.nodeType&&"bookmark"==$node$$.getAttribute("data-mce-type")}function $mergeSiblings$$($prev$$,$next$$){function $compareElements$$($node1$$,$node2$$){function $getAttribs$$($node$$){var $attribs$$={};$each$$($dom$$.getAttribs($node$$),function($attr$$9_name$$){$attr$$9_name$$=$attr$$9_name$$.nodeName.toLowerCase();0!==$attr$$9_name$$.indexOf("_")&&"style"!==$attr$$9_name$$&&($attribs$$[$attr$$9_name$$]=$dom$$.getAttrib($node$$,$attr$$9_name$$))});
return $attribs$$}function $compareObjects$$($obj1$$,$obj2$$){var $value$$,$name$$;for($name$$ in $obj1$$)if($obj1$$.hasOwnProperty($name$$)){$value$$=$obj2$$[$name$$];if($value$$===$undefined$$||$obj1$$[$name$$]!=$value$$)return $FALSE$$;delete $obj2$$[$name$$]}for($name$$ in $obj2$$)if($obj2$$.hasOwnProperty($name$$))return $FALSE$$;return $TRUE$$}return $node1$$.nodeName!=$node2$$.nodeName||!$compareObjects$$($getAttribs$$($node1$$),$getAttribs$$($node2$$))||!$compareObjects$$($dom$$.parseStyle($dom$$.getAttrib($node1$$,
"style")),$dom$$.parseStyle($dom$$.getAttrib($node2$$,"style")))?$FALSE$$:$TRUE$$}var $sibling$$,$findElementSibling_tmpSibling$$;if($prev$$&&$next$$&&($findElementSibling_tmpSibling$$=function $$findElementSibling_tmpSibling$$$($node$$,$sibling_name$$){for($sibling$$=$node$$;$sibling$$&&!(3==$sibling$$.nodeType&&0!==$sibling$$.nodeValue.length);$sibling$$=$sibling$$[$sibling_name$$])if(1==$sibling$$.nodeType&&!$isBookmarkNode$$($sibling$$))return $sibling$$;return $node$$},$prev$$=$findElementSibling_tmpSibling$$($prev$$,
"previousSibling"),$next$$=$findElementSibling_tmpSibling$$($next$$,"nextSibling"),$compareElements$$($prev$$,$next$$))){for($sibling$$=$prev$$.nextSibling;$sibling$$&&$sibling$$!=$next$$;)$findElementSibling_tmpSibling$$=$sibling$$,$sibling$$=$sibling$$.nextSibling,$prev$$.appendChild($findElementSibling_tmpSibling$$);$dom$$.remove($next$$);$each$$($tinymce$$.grep($next$$.childNodes),function($node$$){$prev$$.appendChild($node$$)});return $prev$$}return $next$$}function $isBlockContainer$$($name$$){return/^(td|th|li|body)$/.test($name$$)}
function $getContainer$$($rng$$,$start$$){var $container$$,$offset$$,$lastIdx$$;$container$$=$rng$$[$start$$?"startContainer":"endContainer"];$offset$$=$rng$$[$start$$?"startOffset":"endOffset"];1==$container$$.nodeType&&($lastIdx$$=$container$$.childNodes.length-1,!$start$$&&$offset$$&&$offset$$--,$container$$=$container$$.childNodes[$offset$$>$lastIdx$$?$lastIdx$$:$offset$$]);return $container$$}function $performCaretAction$$($type$$,$name$$0$$,$vars$$){function $createCaretContainer$$($fill$$){var $caretContainer$$=
$dom$$.create("span",{id:$caretContainerId$$,"data-mce-bogus":!0,style:$debug$$?"color:red":""});$fill$$&&$caretContainer$$.appendChild($ed$$0$$.getDoc().createTextNode($invisibleChar$$));return $caretContainer$$}function $getParentCaretContainer$$($node$$){for(;$node$$;){if($node$$.id===$caretContainerId$$)return $node$$;$node$$=$node$$.parentNode}}function $findFirstTextNode$$($node$$){var $walker$$;if($node$$){$walker$$=new $TreeWalker$$($node$$,$node$$);for($node$$=$walker$$.current();$node$$;$node$$=
$walker$$.next())if(3===$node$$.nodeType)return $node$$}}function $removeCaretContainer$$($node$$,$move_caret$$){var $child$$,$isBogus_rng$$;if($node$$)$child$$=$findFirstTextNode$$($node$$),$isBogus_rng$$=$selection$$.getRng(!0),!$child$$||$child$$.nodeValue==$invisibleChar$$?(!1!==$move_caret$$&&($isBogus_rng$$.setStartBefore($node$$),$isBogus_rng$$.setEndBefore($node$$)),$dom$$.remove($node$$)):($child$$.deleteData(0,1),$dom$$.remove($node$$,1)),$selection$$.setRng($isBogus_rng$$);else if($node$$=
$getParentCaretContainer$$($selection$$.getStart())){if($child$$=$findFirstTextNode$$($node$$))for($isBogus_rng$$=$child$$.nodeValue==$invisibleChar$$;$child$$&&$child$$!=$node$$;)1===$child$$.nodeType&&$dom$$.setAttrib($child$$,"data-mce-bogus",$isBogus_rng$$?$isBogus_rng$$:null),$child$$=$child$$.parentNode}else for(;$node$$=$dom$$.get($caretContainerId$$);)$removeCaretContainer$$($node$$,!1)}function $applyCaretFormat$$(){var $rng$$,$caretContainer$$,$textNode$$,$offset$$;$rng$$=$selection$$.getRng(!0);
$offset$$=$rng$$.startOffset;($caretContainer$$=$getParentCaretContainer$$($selection$$.getStart()))&&($textNode$$=$findFirstTextNode$$($caretContainer$$));if(!$caretContainer$$||$textNode$$.nodeValue!==$invisibleChar$$)$caretContainer$$=$createCaretContainer$$(!0),$textNode$$=$caretContainer$$.firstChild,$rng$$.insertNode($caretContainer$$),$offset$$=1;$apply$$($name$$0$$,$vars$$,$caretContainer$$);$selection$$.setCursorLocation($textNode$$,$offset$$)}function $removeCaretFormat$$(){var $node$$126_rng$$=
$selection$$.getRng(!0),$container$$14_i$$,$offset$$,$bookmark$$12_parents$$,$caretContainer$$,$formatNode$$;$bookmark$$12_parents$$=[];$container$$14_i$$=$node$$126_rng$$.startContainer;$offset$$=$node$$126_rng$$.startOffset;$node$$126_rng$$=$container$$14_i$$;if(3==$container$$14_i$$.nodeType){if($offset$$!=$container$$14_i$$.nodeValue.length||$container$$14_i$$.nodeValue===$invisibleChar$$)$caretContainer$$=!0;$node$$126_rng$$=$node$$126_rng$$.parentNode}for(;$node$$126_rng$$;){if($matchNode$$($node$$126_rng$$,
$name$$0$$,$vars$$)){$formatNode$$=$node$$126_rng$$;break}$node$$126_rng$$.nextSibling&&($caretContainer$$=!0);$bookmark$$12_parents$$.push($node$$126_rng$$);$node$$126_rng$$=$node$$126_rng$$.parentNode}if($formatNode$$)if($caretContainer$$)$bookmark$$12_parents$$=$selection$$.getBookmark(),$tinymce$$.each($get$$($name$$0$$),function($format$$){$removeFormat$$($format$$,$vars$$,$formatNode$$)}),$selection$$.moveToBookmark($bookmark$$12_parents$$);else{$node$$126_rng$$=$caretContainer$$=$createCaretContainer$$();
for($container$$14_i$$=$bookmark$$12_parents$$.length-1;0<=$container$$14_i$$;$container$$14_i$$--)$node$$126_rng$$.appendChild($bookmark$$12_parents$$[$container$$14_i$$].cloneNode(!1)),$node$$126_rng$$=$node$$126_rng$$.firstChild;$node$$126_rng$$.appendChild($dom$$.doc.createTextNode($invisibleChar$$));$node$$126_rng$$=$node$$126_rng$$.firstChild;$dom$$.insertAfter($caretContainer$$,$formatNode$$);$selection$$.setCursorLocation($node$$126_rng$$,1)}}var $invisibleChar$$,$caretContainerId$$="_mce_caret",
$debug$$=$ed$$0$$.settings.caret_debug;$invisibleChar$$=$tinymce$$.isGecko?"\u200b":$INVISIBLE_CHAR$$;$tinymce$$.each(["onMouseUp","onKeyUp","onBeforeGetContent"],function($name$$){$ed$$0$$[$name$$].addToTop(function(){$removeCaretContainer$$()})});$ed$$0$$.onKeyDown.addToTop(function($ed$$,$e$$){var $keyCode$$=$e$$.keyCode;(8==$keyCode$$||37==$keyCode$$||39==$keyCode$$||13==$keyCode$$)&&$removeCaretContainer$$($getParentCaretContainer$$($selection$$.getStart()))});"apply"==$type$$?$applyCaretFormat$$():
$removeCaretFormat$$()}var $formats$$={},$each$$=$tinymce$$.each,$dom$$=$ed$$0$$.dom,$selection$$=$ed$$0$$.selection,$TreeWalker$$=$tinymce$$.dom.TreeWalker,$rangeUtils$$=new $tinymce$$.dom.RangeUtils($dom$$),$isValid$$=$ed$$0$$.schema.isValidChild,$isBlock$$=$dom$$.isBlock,$forcedRootBlock$$=$ed$$0$$.settings.forced_root_block,$nodeIndex$$=$dom$$.nodeIndex,$INVISIBLE_CHAR$$="\ufeff",$MCE_ATTR_RE$$=/^(src|href|style)$/,$FALSE$$=!1,$TRUE$$=!0,$undefined$$,$getTextDecoration$$=function $$getTextDecoration$$$($node$$){var $decoration$$;
$ed$$0$$.dom.getParent($node$$,function($n$$){return($decoration$$=$ed$$0$$.dom.getStyle($n$$,"text-decoration"))&&"none"!==$decoration$$});return $decoration$$},$processUnderlineAndColor$$=function $$processUnderlineAndColor$$$($node$$){var $textDecoration$$;1===$node$$.nodeType&&($node$$.parentNode&&1===$node$$.parentNode.nodeType)&&($textDecoration$$=$getTextDecoration$$($node$$.parentNode),$ed$$0$$.dom.getStyle($node$$,"color")&&$textDecoration$$?$ed$$0$$.dom.setStyle($node$$,"text-decoration",
$textDecoration$$):$ed$$0$$.dom.getStyle($node$$,"textdecoration")===$textDecoration$$&&$ed$$0$$.dom.setStyle($node$$,"text-decoration",null))};$tinymce$$.extend(this,{get:$get$$,register:$register$$,apply:$apply$$,remove:$remove$$,toggle:function toggle($name$$,$vars$$,$node$$){var $fmt$$=$get$$($name$$);$match$$($name$$,$vars$$,$node$$)&&(!("toggle"in $fmt$$[0])||$fmt$$[0].toggle)?$remove$$($name$$,$vars$$,$node$$):$apply$$($name$$,$vars$$,$node$$)},match:$match$$,matchAll:function matchAll($names$$,
$vars$$){var $startElement$$,$matchedFormatNames$$=[],$checkedMap$$={};$startElement$$=$selection$$.getStart();$dom$$.getParent($startElement$$,function($node$$){var $i$$,$name$$;for($i$$=0;$i$$<$names$$.length;$i$$++)$name$$=$names$$[$i$$],!$checkedMap$$[$name$$]&&$matchNode$$($node$$,$name$$,$vars$$)&&($checkedMap$$[$name$$]=!0,$matchedFormatNames$$.push($name$$))});return $matchedFormatNames$$},matchNode:$matchNode$$,canApply:function canApply($formatList$$3_name$$){var $formatList$$3_name$$=$get$$($formatList$$3_name$$),
$parents$$1_startNode$$,$i$$,$x$$,$selector$$;if($formatList$$3_name$$){$parents$$1_startNode$$=$selection$$.getStart();$parents$$1_startNode$$=$dom$$.getParents($parents$$1_startNode$$,void 0,$dom$$.getRoot());for($x$$=$formatList$$3_name$$.length-1;0<=$x$$;$x$$--){$selector$$=$formatList$$3_name$$[$x$$].selector;if(!$selector$$)return $TRUE$$;for($i$$=$parents$$1_startNode$$.length-1;0<=$i$$;$i$$--)if($dom$$.is($parents$$1_startNode$$[$i$$],$selector$$))return $TRUE$$}}return $FALSE$$}})}})(tinymce);
tinymce.onAddEditor.add(function($tinymce$$,$ed$$){var $filters$$,$fontSizes$$,$dom$$0$$,$settings$$=$ed$$.settings;if($settings$$.inline_styles){$fontSizes$$=$tinymce$$.explode($settings$$.font_size_style_values);var $replaceWithSpan$$=function $$replaceWithSpan$$$($node$$,$styles$$){$tinymce$$.each($styles$$,function($value$$,$name$$){$value$$&&$dom$$0$$.setStyle($node$$,$name$$,$value$$)});$dom$$0$$.rename($node$$,"span")};$filters$$={font:function $$filters$$$font$($dom$$,$node$$){$replaceWithSpan$$($node$$,
{backgroundColor:$node$$.style.backgroundColor,color:$node$$.color,fontFamily:$node$$.face,fontSize:$fontSizes$$[parseInt($node$$.size)-1]})},u:function $$filters$$$u$($dom$$,$node$$){$replaceWithSpan$$($node$$,{textDecoration:"underline"})},strike:function $$filters$$$strike$($dom$$,$node$$){$replaceWithSpan$$($node$$,{textDecoration:"line-through"})}};var $convert$$=function $$convert$$$($editor$$,$params$$){$dom$$0$$=$editor$$.dom;$settings$$.convert_fonts_to_spans&&$tinymce$$.each($dom$$0$$.select("font,u,strike",
$params$$.node),function($node$$){$filters$$[$node$$.nodeName.toLowerCase()]($ed$$.dom,$node$$)})};$ed$$.onPreProcess.add($convert$$);$ed$$.onSetContent.add($convert$$);$ed$$.onInit.add(function(){$ed$$.selection.onSetContent.add($convert$$)})}});
(function(){function $isTextPos$$($treePos$$){return $treePos$$.c&&3==$treePos$$.c.nodeType}function $isBody$$($treePos$$){return $treePos$$&&$treePos$$.c&&1==$treePos$$.c.nodeType&&"body"==$treePos$$.c.nodeName.toLowerCase()}function $isTerminal$$($treePos$$){return $isTextPos$$($treePos$$)?$treePos$$.off==$treePos$$.c.nodeValue.length:$treePos$$.off==$treePos$$.c.childNodes.length}function $isNonTerminalTextPos$$($treePos$$){var $n$$=$nodeAt$$($treePos$$);return $isTextPos$$($treePos$$)&&!$isTerminal$$($treePos$$)||
$n$$&&"br"==$n$$.nodeName.toLowerCase()}function $getIsNodeNameAt$$($nodeName$$){$nodeName$$=$nodeName$$.toLowerCase();return function($n$$113_treePos$$){return($n$$113_treePos$$=$nodeAt$$($n$$113_treePos$$))&&$n$$113_treePos$$.nodeName&&$n$$113_treePos$$.nodeName.toLowerCase()==$nodeName$$}}function $getIsContainerName$$($elementName$$){$elementName$$=$elementName$$.toLowerCase();return function($treePos$$){return $treePos$$&&1==$treePos$$.c.nodeType&&$treePos$$.c.nodeName.toLowerCase()==$elementName$$}}
function $getSameContainer$$($targetNode$$){return function sameContainer($treePos$$){return $treePos$$.c==$targetNode$$}}function $nodeAt$$($treePos$$){return $treePos$$.c&&0<=$treePos$$.off&&$treePos$$.c.childNodes&&$treePos$$.c.childNodes.length>$treePos$$.off?$treePos$$.c.childNodes[$treePos$$.off]:null}function $posFor$$($node$$){return{c:$node$$.parentNode,off:tinymce.activeEditor.dom.nodeIndex($node$$)}}function $setRangeStart$$($rng$$,$treePos$$){$rng$$.setStart($treePos$$.c,$treePos$$.off)}
function $setRangeEnd$$($rng$$,$treePos$$){$rng$$.setEnd($treePos$$.c,$treePos$$.off)}function $startPos$$($rng$$){return{c:$rng$$.startContainer,off:$rng$$.startOffset}}function $endPos$$($rng$$){return{c:$rng$$.endContainer,off:$rng$$.endOffset}}tinymce.SelectionUtil=function $tinymce$SelectionUtil$($editor$$){this.ed=$editor$$;tinymce.extend(this,{startPos:$startPos$$,endPos:$endPos$$,nodeAt:$nodeAt$$,logSelection:function($msg$$){var $rng$$=this.ed.selection.getRng(!0).cloneRange();$msg$$||($msg$$=
"");var $sel$$=this.ed.selection.getSel();if(0==$sel$$.rangeCount)console.log($msg$$+"No selection.");else{var $direction$$=this.isForwardSelection()?"->":"<-";console.log($msg$$+"current selection range: "+this.posStr($rng$$.startContainer,$rng$$.startOffset)+" - "+this.posStr($rng$$.endContainer,$rng$$.endOffset)+" Direction "+$direction$$,$rng$$);$sel$$.anchorNode&&console.log("Anchor-focus"+(null!=$sel$$.baseNode?", base-extent: ":": ")+this.posStr($sel$$.anchorNode,$sel$$.anchorOffset)+" - "+
this.posStr($sel$$.focusNode,$sel$$.focusOffset)+(null!=$sel$$.baseNode?", "+this.posStr($sel$$.baseNode,$sel$$.baseOffset)+" - "+this.posStr($sel$$.extentNode,$sel$$.extentOffset):""))}},posStr:function posStr($n$$,$off$$){var $nodeIndex$$2_ret$$=tinymce.activeEditor.dom.nodeIndex,$pstr$$="";$n$$.parentNode&&"HTML"!=$n$$.parentNode.nodeName&&($pstr$$=posStr($n$$.parentNode,$nodeIndex$$2_ret$$($n$$))+"/");$nodeIndex$$2_ret$$=$n$$.nodeName;"#text"==$nodeIndex$$2_ret$$&&($nodeIndex$$2_ret$$="#"+$n$$.nodeValue);
return $pstr$$+$nodeIndex$$2_ret$$+(null!=$off$$?"["+$off$$+"]":"")},logRange:function($msg$$,$rng$$){$msg$$||($msg$$="");console.log($msg$$+": range: "+this.posStr($rng$$.startContainer,$rng$$.startOffset)+" - "+this.posStr($rng$$.endContainer,$rng$$.endOffset),$rng$$)},normalizeSelection:function(){if(!tinymce.isIE||tinymce.isIE9){var $origRng_selection$$=this.ed.selection,$isForward_sel$$=$origRng_selection$$.getSel();if($isForward_sel$$&&0!=$isForward_sel$$.rangeCount){var $isForward_sel$$=this.isForwardSelection($isForward_sel$$),
$fooRng_newRng$$=$origRng_selection$$=$origRng_selection$$.getRng(!0);if($fooRng_newRng$$.startContainer==$fooRng_newRng$$.endContainer&&$fooRng_newRng$$.startOffset==$fooRng_newRng$$.endOffset&&"body"==$fooRng_newRng$$.startContainer.nodeName.toLowerCase()){var $newNode$$4_offset$$=$fooRng_newRng$$.startOffset;$newNode$$4_offset$$<$fooRng_newRng$$.startContainer.childNodes.length&&($newNode$$4_offset$$=$fooRng_newRng$$.startContainer.childNodes[$newNode$$4_offset$$],$fooRng_newRng$$=this.ed.dom.createRng(),
$fooRng_newRng$$.setStart($newNode$$4_offset$$,0),$fooRng_newRng$$.setEnd($newNode$$4_offset$$,0))}$fooRng_newRng$$=this.normalizeRange($fooRng_newRng$$);(0!=$fooRng_newRng$$.compareBoundaryPoints($fooRng_newRng$$.START_TO_START,$origRng_selection$$)||0!=$fooRng_newRng$$.compareBoundaryPoints($fooRng_newRng$$.END_TO_END,$origRng_selection$$))&&this.setSelection($fooRng_newRng$$,$isForward_sel$$)}}},isForwardSelection:function($sel$$){$sel$$||($sel$$=this.ed.selection.getSel());if(null==$sel$$.anchorNode||
null==$sel$$.focusNode)return!0;try{var $anchorRange$$=this.ed.dom.createRng();$anchorRange$$.setStart($sel$$.anchorNode,$sel$$.anchorOffset);$anchorRange$$.collapse(!0);var $focusRange$$=this.ed.dom.createRng();$focusRange$$.setStart($sel$$.focusNode,$sel$$.focusOffset);$focusRange$$.collapse(!0);return 0>=$anchorRange$$.compareBoundaryPoints($anchorRange$$.START_TO_START,$focusRange$$)}catch($e$$){return!0}},setSelection:function($rng$$,$isForward$$){var $sel$$=this.ed.selection.getSel();null!=
$sel$$.collapse&&null!=$sel$$.extend?$isForward$$?($sel$$.collapse($rng$$.startContainer,$rng$$.startOffset),$sel$$.extend($rng$$.endContainer,$rng$$.endOffset)):($sel$$.collapse($rng$$.endContainer,$rng$$.endOffset),$sel$$.extend($rng$$.startContainer,$rng$$.startOffset)):this.ed.selection.setRng($rng$$)},getInfo:function(){return{longname:"Jive Selection",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}},
isBookmark:function($n$$){return($n$$=this.ed.dom.get($n$$))&&"span"==$n$$.nodeName.toLowerCase()&&"bookmark"==this.ed.dom.getAttrib($n$$,"data-mce-type")},removeBookmark:function($bookmark$$){if(null!=$bookmark$$.id){var $dom$$=this.ed.dom,$removeMarker$$=function $$removeMarker$$$($markerId$$){for(var $marker$$;$marker$$=$dom$$.get($markerId$$);)tinymce.each(tinymce.grep($marker$$.childNodes),function($node$$){3==$node$$.nodeType&&($node$$.nodeValue=$node$$.nodeValue.replace(/\uFEFF/g,""))}),$dom$$.remove($marker$$,
1)};$removeMarker$$($bookmark$$.id+"_start");$removeMarker$$($bookmark$$.id+"_end")}},adjustForBookmark:function($rng$$,$includeMarkers$$){function $findMark$$($pos$$){var $mark$$=$nodeAt$$($pos$$);if($self$$.isBookmark($mark$$))return $mark$$;$mark$$=$pos$$.c;if($self$$.isBookmark($mark$$))return $mark$$;$mark$$=$pos$$.c.parentNode;return $self$$.isBookmark($mark$$)?$mark$$:null}null==$includeMarkers$$&&($includeMarkers$$=!0);var $self$$=this,$changed$$=!1,$mark$$=$findMark$$($startPos$$($rng$$));
$mark$$&&($includeMarkers$$?$setRangeStart$$($rng$$,$posFor$$($mark$$)):$setRangeStart$$($rng$$,{c:$mark$$.parentNode,off:tinymce.activeEditor.dom.nodeIndex($mark$$)+1}),$changed$$=!0);if($mark$$=$findMark$$($endPos$$($rng$$)))$includeMarkers$$?$setRangeEnd$$($rng$$,{c:$mark$$.parentNode,off:tinymce.activeEditor.dom.nodeIndex($mark$$)+1}):$setRangeEnd$$($rng$$,$posFor$$($mark$$)),$changed$$=!0;return $changed$$},adjustForAnchorEdges:function($rng$$){var $changed$$=!1,$collapsed$$=$rng$$.collapsed,
$startA$$=this.ed.dom.getParent($rng$$.startContainer,"a");$startA$$&&(this.atStartOf($startA$$,$startPos$$($rng$$))?($rng$$.setStartBefore($startA$$),$changed$$=!0):this.atEndOf($startA$$,$startPos$$($rng$$))&&($rng$$.setStartAfter($startA$$),$changed$$=!0));if($collapsed$$)$changed$$&&$rng$$.collapse(!0);else if($collapsed$$=this.ed.dom.getParent($rng$$.endContainer,"a"))this.atStartOf($collapsed$$,$endPos$$($rng$$))?($rng$$.setEndBefore($collapsed$$),$changed$$=!0):this.atEndOf($collapsed$$,$endPos$$($rng$$))&&
($rng$$.setEndAfter($collapsed$$),$changed$$=!0);return $changed$$},isEffectivelyEmpty:function($c$$53_n$$){if($c$$53_n$$.childNodes&&0<$c$$53_n$$.childNodes.length)for($c$$53_n$$=$c$$53_n$$.firstChild;$c$$53_n$$;){if(3!=$c$$53_n$$.nodeType&&"br"!=$c$$53_n$$.nodeName.toLowerCase()||3==$c$$53_n$$.nodeType&&0<tinymce.trim($c$$53_n$$.nodeValue).length)return!1;$c$$53_n$$=$c$$53_n$$.nextSibling}return!0},isEffectivelyEmptyList:function($c$$54_n$$){var $listRe$$=/^(?:ul|ol|li)$/i;if($listRe$$.test($c$$54_n$$.nodeName)){for($c$$54_n$$=
$c$$54_n$$.firstChild;$c$$54_n$$;){if($listRe$$.test($c$$54_n$$.nodeName)){if(!this.isEffectivelyEmptyList($c$$54_n$$))return!1}else if(3!=$c$$54_n$$.nodeType&&"br"!=$c$$54_n$$.nodeName.toLowerCase()||3==$c$$54_n$$.nodeType&&0<tinymce.trim($c$$54_n$$.nodeValue).length)return!1;$c$$54_n$$=$c$$54_n$$.nextSibling}return!0}return!1},splitAtEndpoints:function($rng$$,$stopPredicate$$){function $placeNewMarker$$($pos$$){$isTextPos$$($pos$$)&&(0==$pos$$.off?$pos$$=$posFor$$($pos$$.c):$pos$$.off==$pos$$.c.nodeValue.length?
($pos$$=$posFor$$($pos$$.c),$pos$$.off+=1):$pos$$=$posFor$$($pos$$.c.splitText($pos$$.off)));var $marker$$=$dom$$.create("br",{id:$dom$$.uniqueId()}),$refNode$$=$nodeAt$$($pos$$);$pos$$.c.insertBefore($marker$$,$refNode$$);return $marker$$}function $deepSplit$$($targetContainer$$,$splitOn$$){for(;$splitOn$$.parentNode!=$targetContainer$$&&!$stopPredicate$$($splitOn$$.parentNode);)$dom$$.split($splitOn$$.parentNode,$splitOn$$);$splitOn$$.nextSibling&&(1==$splitOn$$.nextSibling.nodeType&&($that$$.isEffectivelyEmpty($splitOn$$.nextSibling)||
$that$$.isEffectivelyEmptyList($splitOn$$.nextSibling)))&&$dom$$.remove($splitOn$$.nextSibling)}var $ed$$=this.ed,$dom$$=$ed$$.dom,$that$$=this,$endMarker$$=$placeNewMarker$$($endPos$$($rng$$)),$startMarker$$=null;$rng$$.collapsed||($startMarker$$=$placeNewMarker$$($startPos$$($rng$$)));$rng$$=$dom$$.createRng();$startMarker$$?($rng$$.setStartBefore($startMarker$$),$rng$$.setEndAfter($endMarker$$)):$rng$$.selectNode($endMarker$$);$stopPredicate$$||($stopPredicate$$="body, pre, td");if("string"==typeof $stopPredicate$$)var $selector$$=
$stopPredicate$$,$stopPredicate$$=function $$stopPredicate$$$($n$$){return $ed$$.dom.is($n$$,$selector$$)};var $pos$$0$$=null,$pos$$0$$="li"==$rng$$.commonAncestorContainer.nodeName.toLowerCase()?$rng$$.commonAncestorContainer:"ul"==$rng$$.commonAncestorContainer.parentNode.nodeName.toLowerCase()||"ol"==$rng$$.commonAncestorContainer.parentNode.nodeName.toLowerCase()?$rng$$.commonAncestorContainer.parentNode.parentNode:$rng$$.commonAncestorContainer.parentNode;$deepSplit$$($pos$$0$$,$endMarker$$);
$startMarker$$&&$deepSplit$$($pos$$0$$,$startMarker$$);$startMarker$$?($pos$$0$$=$posFor$$($startMarker$$),$dom$$.remove($startMarker$$),$setRangeStart$$($rng$$,$pos$$0$$),$pos$$0$$=$posFor$$($endMarker$$),$dom$$.remove($endMarker$$),$setRangeEnd$$($rng$$,$pos$$0$$)):($pos$$0$$=$posFor$$($endMarker$$),$dom$$.remove($endMarker$$),$setRangeStart$$($rng$$,$pos$$0$$),$rng$$.collapse(!0));return $rng$$},getExpandedBlockRange:function($rng$$,$blockSelector$$,$blockContainerSelector_endBlockContainer$$){var $dom$$=
this.ed.dom,$ret$$=$dom$$.createRng(),$rng$$=this.normalizeRange($rng$$);this.adjustForBookmark($rng$$,!0);null==$blockSelector$$&&($blockSelector$$=function $$blockSelector$$$($n$$){return $dom$$.isBlock($n$$)});null==$blockContainerSelector_endBlockContainer$$&&($blockContainerSelector_endBlockContainer$$="body, td, pre");var $startBlockContainer$$=$dom$$.getParent($rng$$.startContainer,$blockContainerSelector_endBlockContainer$$),$blockContainerSelector_endBlockContainer$$=$dom$$.getParent($rng$$.endContainer,
$blockContainerSelector_endBlockContainer$$);if(!$startBlockContainer$$||!$blockContainerSelector_endBlockContainer$$||$startBlockContainer$$!=$blockContainerSelector_endBlockContainer$$)return null;try{var $startBlock$$;$startBlock$$=$startBlockContainer$$==$rng$$.startContainer?$rng$$.startContainer.childNodes[$rng$$.startOffset]:$dom$$.getParent($rng$$.startContainer,$blockSelector$$);var $endBlock$$;$endBlock$$=$blockContainerSelector_endBlockContainer$$==$rng$$.endContainer?$rng$$.endContainer.childNodes[Math.max(0,
$rng$$.endOffset-1)]:$dom$$.getParent($rng$$.endContainer,$blockSelector$$);if(null==$startBlock$$&&null==$endBlock$$&&$rng$$.collapsed)return $ret$$.setStart($rng$$.startContainer,$rng$$.startOffset),$ret$$.setEnd($rng$$.endContainer,$rng$$.endOffset),$ret$$;if($startBlock$$.parentNode!=$endBlock$$.parentNode)return null;$ret$$.setStart($startBlock$$.parentNode,$dom$$.nodeIndex($startBlock$$));$ret$$.setEnd($endBlock$$.parentNode,$dom$$.nodeIndex($endBlock$$)+1);return $ret$$}catch($ex$$){return console.log("error expanding range: ",
$ex$$,$rng$$),null}},getShrunkenBlockRange:function getShrunkenBlockRange($rng$$,$blockSelector$$){var $dom$$=this.ed.dom,$ret$$=$rng$$.cloneRange(),$rng$$=this.normalizeRange($rng$$);this.adjustForBookmark($rng$$,!0);null==$blockSelector$$&&($blockSelector$$=function $$blockSelector$$$($n$$){return $dom$$.isBlock($n$$)});if($rng$$.startContainer==$rng$$.endContainer&&$rng$$.startOffset+1==$rng$$.endOffset){var $selectedNode$$=$nodeAt$$($startPos$$($rng$$));$dom$$.is($selectedNode$$,$blockSelector$$)&&
($ret$$.surroundContents($selectedNode$$),$ret$$=getShrunkenBlockRange($ret$$,$blockSelector$$))}return $ret$$},dfsNext:function($treePos$$0$$,$isForward$$,$isRoot$$){function $hasNullParent$$($treePos$$){return null==$treePos$$.c.parentNode}function $siblingOf$$($ret$$15_treePos$$){if($isTextPos$$($ret$$15_treePos$$))return $ret$$15_treePos$$={c:$ret$$15_treePos$$.c,off:$isForward$$?$ret$$15_treePos$$.off+1:$ret$$15_treePos$$.off-1},0<=$ret$$15_treePos$$.off&&$ret$$15_treePos$$.off<=$ret$$15_treePos$$.c.nodeValue.length?
$ret$$15_treePos$$:null;$ret$$15_treePos$$={c:$ret$$15_treePos$$.c,off:$isForward$$?$ret$$15_treePos$$.off+1:$ret$$15_treePos$$.off-1};return 0<=$ret$$15_treePos$$.off&&$ret$$15_treePos$$.off<=$ret$$15_treePos$$.c.childNodes.length?$ret$$15_treePos$$:null}var $dom$$=this.ed.dom;$isRoot$$||($isRoot$$=$hasNullParent$$);var $ret$$=function childOf($n$$122_treePos$$){if($isTextPos$$($n$$122_treePos$$)||!$isForward$$&&($n$$122_treePos$$=$siblingOf$$($n$$122_treePos$$),!$n$$122_treePos$$))return null;$n$$122_treePos$$=
$nodeAt$$($n$$122_treePos$$);return!$n$$122_treePos$$?null:$n$$122_treePos$$&&3==$n$$122_treePos$$.nodeType?{c:$n$$122_treePos$$,off:$isForward$$?0:$n$$122_treePos$$.nodeValue.length}:{c:$n$$122_treePos$$,off:$isForward$$?0:$n$$122_treePos$$.childNodes.length}}($treePos$$0$$);return $ret$$?$ret$$:($ret$$=$siblingOf$$($treePos$$0$$))?$ret$$:$isRoot$$($treePos$$0$$)||!$treePos$$0$$.c||!$treePos$$0$$.c.parentNode?null:{c:$treePos$$0$$.c.parentNode,off:$dom$$.nodeIndex($treePos$$0$$.c)+($isForward$$?
1:0)}},atStartOf:function($n$$,$treePos$$){if(null==$treePos$$)var $JSCompiler_inline_result$$80_rng$$55_treePos$$=this.ed.selection.getRng(!0),$treePos$$=$startPos$$($JSCompiler_inline_result$$80_rng$$55_treePos$$);a:{for(var $JSCompiler_inline_result$$80_rng$$55_treePos$$=$treePos$$,$pred$$=$getSameContainer$$($n$$),$lastTreePos$$=null;$JSCompiler_inline_result$$80_rng$$55_treePos$$&&0==$JSCompiler_inline_result$$80_rng$$55_treePos$$.off&&(!$lastTreePos$$||$lastTreePos$$.c.parentNode==$JSCompiler_inline_result$$80_rng$$55_treePos$$.c);){$lastTreePos$$=
$JSCompiler_inline_result$$80_rng$$55_treePos$$;if($pred$$($JSCompiler_inline_result$$80_rng$$55_treePos$$))break a;$JSCompiler_inline_result$$80_rng$$55_treePos$$=this.dfsNext($JSCompiler_inline_result$$80_rng$$55_treePos$$,!1,$isBody$$)}$JSCompiler_inline_result$$80_rng$$55_treePos$$=null}return!!$JSCompiler_inline_result$$80_rng$$55_treePos$$},atEndOf:function($n$$0$$,$treePos$$1$$){var $self$$=this;if(null==$treePos$$1$$)var $rng$$=this.ed.selection.getRng(!0),$treePos$$1$$=$startPos$$($rng$$);
return!!function terminalTraverse($treePos$$0$$,$pred$$){function $isBr$$($treePos$$){var $n$$=$nodeAt$$($treePos$$);return"br"==$treePos$$.c.nodeName.toLowerCase()||$n$$&&"br"==$n$$.nodeName.toLowerCase()}function $isET$$($treePos$$){var $n$$=$nodeAt$$($treePos$$);return $isTextPos$$($treePos$$)&&0==$treePos$$.c.nodeValue.length||$n$$&&3==$n$$.nodeType&&""==$n$$.nodeValue}for(var $lastTreePos$$=null;$isBr$$($treePos$$0$$)||$isET$$($treePos$$0$$);)$treePos$$0$$=$self$$.dfsNext($treePos$$0$$,!0,$isBody$$);
for(;$treePos$$0$$&&$isTerminal$$($treePos$$0$$)&&(!$lastTreePos$$||$lastTreePos$$.c.parentNode==$treePos$$0$$.c);){$lastTreePos$$=$treePos$$0$$;if($pred$$($treePos$$0$$))return $treePos$$0$$;do $treePos$$0$$=$self$$.dfsNext($treePos$$0$$,!0,$isBody$$);while($isBr$$($treePos$$0$$)||$isET$$($treePos$$0$$))}return null}($treePos$$1$$,$getSameContainer$$($n$$0$$))},safeNormalize:function($rng$$,$n$$){var $self$$=this;null==$n$$&&($n$$=$rng$$.commonAncestorContainer);if(3==$n$$.nodeType)return $rng$$;
$rng$$=$rng$$.cloneRange();if(!tinymce.isGecko&&!tinymce.isIE9){var $selRng_start$$=this.ed.selection.getRng(!0),$end$$7_isForward$$=this.isForwardSelection();$n$$.normalize&&$n$$.normalize();0===this.ed.selection.getSel().rangeCount&&this.setSelection($selRng_start$$,$end$$7_isForward$$)}else{var $normalizedPos$$=function $$normalizedPos$$$($off$$1_treePos$$){var $ret$$16_text$$=$nodeAt$$($off$$1_treePos$$);if($ret$$16_text$$){if($ret$$16_text$$&&$ret$$16_text$$.nodeType==3){if($off$$1_treePos$$.off==
0)return $off$$1_treePos$$;if($ret$$16_text$$.nodeValue.length==0)return $normalizedPos$$({c:$off$$1_treePos$$.c,off:$off$$1_treePos$$.off+1});if($ret$$16_text$$.previousSibling&&$ret$$16_text$$.previousSibling.nodeType==3)return $normalizedPos$$({c:$ret$$16_text$$,off:0})}}else if($isTextPos$$($off$$1_treePos$$)){$ret$$16_text$$=$off$$1_treePos$$.c;for($off$$1_treePos$$=$off$$1_treePos$$.off;$ret$$16_text$$.previousSibling&&$ret$$16_text$$.previousSibling.nodeType==3;){$ret$$16_text$$=$ret$$16_text$$.previousSibling;
$off$$1_treePos$$=$off$$1_treePos$$+$ret$$16_text$$.nodeValue.length}$ret$$16_text$$={c:$ret$$16_text$$,off:$off$$1_treePos$$,cPrevSib:$ret$$16_text$$.previousSibling,cParent:$ret$$16_text$$.parentNode}}else $ret$$16_text$$={c:$off$$1_treePos$$.c,off:-1};return $ret$$16_text$$},$normalizedPosToTreePos$$=function $$normalizedPosToTreePos$$$($nPos_off$$){var $c$$;if($nPos_off$$.c!=null&&$nPos_off$$.off!=null){if($nPos_off$$.c.parentNode!=null)$c$$=$nPos_off$$.c;else{$c$$=$nPos_off$$.cPrevSib!=null?
$nPos_off$$.cPrevSib.nextSibling:$nPos_off$$.cParent.firstChild;if($c$$==null){$c$$=$nPos_off$$.cParent;$nPos_off$$.off=-1}else if($c$$.nodeType!=3)return $normalizedPosToTreePos$$($c$$)}$nPos_off$$=$nPos_off$$.off==-1?$c$$.childNodes.length:$nPos_off$$.off}else{$c$$=$nPos_off$$.parentNode;$nPos_off$$=$self$$.ed.dom.nodeIndex($nPos_off$$)}return{c:$c$$,off:$nPos_off$$}},$selRng_start$$=$normalizedPos$$({c:$rng$$.startContainer,off:$rng$$.startOffset}),$end$$7_isForward$$=$normalizedPos$$({c:$rng$$.endContainer,
off:$rng$$.endOffset});$n$$!=$rng$$.commonAncestorContainer&&$rng$$.commonAncestorContainer.normalize();$n$$.normalize();$selRng_start$$=$normalizedPosToTreePos$$($selRng_start$$);$end$$7_isForward$$=$normalizedPosToTreePos$$($end$$7_isForward$$);$setRangeStart$$($rng$$,$selRng_start$$);$setRangeEnd$$($rng$$,$end$$7_isForward$$)}return $rng$$},normalizeRange:function($rng$$0$$){function $isBlockNode$$($disp_n$$){return $disp_n$$&&1==$disp_n$$.nodeType?($disp_n$$=$dom$$.getStyle($disp_n$$,"display",
!0),"inline"!=$disp_n$$&&"none"!=$disp_n$$):!1}function $isBlocklike$$($treePos$$){var $n$$=$nodeAt$$($treePos$$);return $isBlockNode$$($n$$)||$isBlockNodeTerminalChild$$($treePos$$)}function $isInBlock$$($treePos$$){return $isBlockNode$$($treePos$$.c)}function $isBlockNodeTerminalChild$$($treePos$$){return $isBlockNode$$($treePos$$.c)&&!$nodeAt$$($treePos$$)}function $isNodeType$$($n$$,$elementName$$){$elementName$$=$elementName$$.toLowerCase();return $n$$.nodeName.toLowerCase()==$elementName$$}
function $rangeDepthFirst$$($treePos$$,$pred$$,$isForward$$,$stopPredicate$$,$isRoot$$){for(;$treePos$$&&!$stopPredicate$$($treePos$$);){if($pred$$($treePos$$))return $treePos$$;$treePos$$=$self$$.dfsNext($treePos$$,$isForward$$,$isRoot$$)}return null}function $lookBothWays$$($treePos$$,$forwardPred$$,$backwardPred$$,$forwardFirst$$,$stop$$,$isRoot$$){var $ret$$=$rangeDepthFirst$$($treePos$$,$forwardFirst$$?$forwardPred$$:$backwardPred$$,$forwardFirst$$,$stop$$,$isRoot$$);$ret$$||($ret$$=$rangeDepthFirst$$($treePos$$,
!$forwardFirst$$?$forwardPred$$:$backwardPred$$,!$forwardFirst$$,$stop$$,$isRoot$$));return $ret$$}function $isNonEdgeTextPos$$($treePos$$){return $isTextPos$$($treePos$$)&&0<$treePos$$.off}function $predicateAnd$$(){var $preds$$=Array.prototype.slice.apply(arguments);return function andPred($treePos$$){for(var $result$$=!0,$i$$=0;$result$$&&$i$$<$preds$$.length;++$i$$)$result$$=$result$$&&$preds$$[$i$$]($treePos$$);return $result$$}}function $predicateOr$$(){var $preds$$=Array.prototype.slice.apply(arguments);
return function orPred($treePos$$){for(var $result$$=!1,$i$$=0;!$result$$&&$i$$<$preds$$.length;++$i$$)$result$$=$result$$||$preds$$[$i$$]($treePos$$);return $result$$}}function $predicateNot$$($pred$$){return function notPred($treePos$$){return!$pred$$($treePos$$)}}function $adjustCursorPosition$$($c$$,$off$$){var $n$$inline_90_treePos$$=$lookBothWays$$({c:$c$$,off:$off$$},$isNonTerminalTextPos$$,$isNonEdgeTextPos$$,!1,$predicateOr$$($isBlockOrNullOrA$$,$isInBr$$,$isInImg$$),$isBodyOrA$$);if($n$$inline_90_treePos$$||
($n$$inline_90_treePos$$=$lookBothWays$$({c:$c$$,off:$off$$},$predicateOr$$($isInBlock$$,$isBlocklike$$),$predicateOr$$($isInBlock$$,$isBlockNodeTerminalChild$$),!1,$predicateOr$$($isBodyOrA$$,$isInImg$$),$isBodyOrA$$))&&($n$$inline_90_treePos$$.c!=$c$$||$n$$inline_90_treePos$$.off!=$off$$))return $n$$inline_90_treePos$$;if(0<$off$$&&1==$c$$.childNodes[$off$$-1].nodeType&&!$isBlockNode$$($c$$.childNodes[$off$$-1])&&!$isNodeType$$($c$$.childNodes[$off$$-1],"img")&&!$isNodeType$$($c$$.childNodes[$off$$-
1],"br")){for($n$$inline_90_treePos$$=$c$$.childNodes[$off$$-1];$n$$inline_90_treePos$$.lastChild;)$n$$inline_90_treePos$$=$n$$inline_90_treePos$$.lastChild;return{c:$n$$inline_90_treePos$$,off:$n$$inline_90_treePos$$.childNodes.length}}return{c:$c$$,off:$off$$}}var $dom$$=this.ed.dom,$isCollapsed$$2_treePos$$=$rng$$0$$.collapsed,$self$$=this,$rng$$0$$=$rng$$0$$.cloneRange(),$isAnchor$$=$getIsContainerName$$("a"),$isBodyOrA$$=$predicateOr$$($isBody$$,$isAnchor$$),$isBlockOrNullOrA$$=$predicateOr$$(function isBlockOrNull($treePos$$){return null==
$treePos$$||$isBlocklike$$($treePos$$)},$isAnchor$$),$isInBr$$=$getIsContainerName$$("br"),$isInImg$$=$getIsContainerName$$("img"),$rng$$0$$=this.safeNormalize($rng$$0$$);$isCollapsed$$2_treePos$$?1==$rng$$0$$.startContainer.nodeType&&!$isBlockNode$$($rng$$0$$.startContainer)&&0==$rng$$0$$.startContainer.childNodes.length||($isCollapsed$$2_treePos$$=$adjustCursorPosition$$($rng$$0$$.startContainer,$rng$$0$$.startOffset),$setRangeStart$$($rng$$0$$,$isCollapsed$$2_treePos$$),$rng$$0$$.collapse(!0)):
function($rng$$){function $shrinkEndpoint$$($treePos$$,$isForward$$){for(;;){var $nextPos$$=$self$$.dfsNext($treePos$$,$isForward$$,$isBody$$);if(null==$nextPos$$||$nextPos$$.c==$treePos$$.c.parentNode&&$dom$$.isBlock($treePos$$.c)||$isForward$$&&$isInlineContent$$($treePos$$)||!$isForward$$&&$isInlineContent$$($nextPos$$))return $treePos$$;$treePos$$=$nextPos$$}}var $isInlineContent$$=$predicateOr$$($predicateAnd$$($isTextPos$$,$predicateNot$$($isTerminal$$)),$isInImg$$,$getIsNodeNameAt$$("img"),
$isInBr$$,$getIsNodeNameAt$$("br"));$setRangeStart$$($rng$$,$shrinkEndpoint$$($startPos$$($rng$$),!0));$setRangeEnd$$($rng$$,$shrinkEndpoint$$($endPos$$($rng$$),!1))}($rng$$0$$);return $rng$$0$$}})}})();
;
tinyMCE.addI18n({en:{common:{edit_confirm:"Do you want to use the WYSIWYG mode for this textarea?",apply:"Apply",insert:"Insert",update:"Update",cancel:"Cancel",close:"Close",browse:"Browse",class_name:"Class",not_set:"-- Not set --",clipboard_msg:"Copy/Cut/Paste is not available in Mozilla and Firefox.\nDo you want more information about this issue?",clipboard_no_support:"Currently not supported by your browser, use keyboard shortcuts instead.",popup_blocked:"Sorry, but we have noticed that your popup-blocker has disabled a window that provides application functionality. You will need to disable popup blocking on this site in order to fully utilize this tool.",invalid_data:"Error: Invalid values entered, these are marked in red.",more_colors:"More colors"},contextmenu:{align:"Alignment",left:"Left",center:"Center",right:"Right",full:"Full"},insertdatetime:{date_fmt:"%Y-%m-%d",time_fmt:"%H:%M:%S",insertdate_desc:"Insert date",inserttime_desc:"Insert time",months_long:"January,February,March,April,May,June,July,August,September,October,November,December",months_short:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",day_long:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday",day_short:"Sun,Mon,Tue,Wed,Thu,Fri,Sat,Sun"},print:{print_desc:"Print"},preview:{preview_desc:"Preview"},directionality:{ltr_desc:"Direction left to right",rtl_desc:"Direction right to left"},layer:{insertlayer_desc:"Insert new layer",forward_desc:"Move forward",backward_desc:"Move backward",absolute_desc:"Toggle absolute positioning",content:"New layer..."},save:{save_desc:"Save",cancel_desc:"Cancel all changes"},nonbreaking:{nonbreaking_desc:"Insert non-breaking space character"},advhr:{advhr_desc:"Horizontal rule"},emotions:{emotions_desc:"Emotions"},searchreplace:{search_desc:"Find",replace_desc:"Find/Replace"},advimage:{image_desc:"Insert/edit image"},advlink:{link_desc:"Insert/edit link"},xhtmlxtras:{cite_desc:"Citation",abbr_desc:"Abbreviation",acronym_desc:"Acronym",del_desc:"Deletion",ins_desc:"Insertion",attribs_desc:"Insert/Edit Attributes"},style:{desc:"Edit CSS Style"},paste:{paste_text_desc:"Paste as Plain Text",paste_word_desc:"Paste from Word",selectall_desc:"Select All"},paste_dlg:{text_title:"Use CTRL+V on your keyboard to paste the text into the window.",text_linebreaks:"Keep linebreaks",word_title:"Use CTRL+V on your keyboard to paste the text into the window."},table:{desc:"Inserts a new table",row_before_desc:"Insert row before",row_after_desc:"Insert row after",delete_row_desc:"Delete row",col_before_desc:"Insert column before",col_after_desc:"Insert column after",delete_col_desc:"Remove column",split_cells_desc:"Split merged table cells",merge_cells_desc:"Merge table cells",row_desc:"Table row properties",cell_desc:"Table cell properties",props_desc:"Table properties",paste_row_before_desc:"Paste table row before",paste_row_after_desc:"Paste table row after",cut_row_desc:"Cut table row",copy_row_desc:"Copy table row",del:"Delete table",row:"Row",col:"Column",cell:"Cell"},autosave:{unload_msg:"The changes you made will be lost if you navigate away from this page."},fullscreen:{desc:"Toggle fullscreen mode"},media:{desc:"Insert / edit embedded media",edit:"Edit embedded media"},fullpage:{desc:"Document properties"},template:{desc:"Insert predefined template content"},visualchars:{desc:"Visual control characters on/off."},spellchecker:{desc:"Toggle spellchecker",menu:"Spellchecker settings",ignore_word:"Ignore word",ignore_words:"Ignore all",langs:"Languages",wait:"Please wait...",sug:"Suggestions",no_sug:"No suggestions",no_mpell:"No misspellings found."},pagebreak:{desc:"Insert page break."}}});
;
tinyMCE.addI18n('en.table',{
    desc:"Insert Table",
    row_up:"Move Row Up",
    row_down:"Move Row Down",
    col_left:"Move Column Left",
    col_right:"Move Column Right"
});
tinyMCE.addI18n('en.common',{
    edit_confirm:"Do you want to use the WYSIWYG mode for this form?",
    apply:"Apply",
    insert:"Insert",
    update:"Update",
    cancel:"Cancel",
    close:"Close",
    browse:"Browse",
    class_name:"Class",
    not_set:"-- Not set --",
    clipboard_msg:"Copy/Cut/Paste is not available in Mozilla and Firefox.\nDo you want more information about this issue?",
    clipboard_no_support:"Currently not supported by your browser, use keyboard shortcuts instead.",
    popup_blocked:"Sorry, but we have noticed that your popup-blocker has disabled a window that provides application functionality. You will need to disable popup blocking on this site in order to fully utilize this tool.",
    invalid_data:"Error: Invalid values entered, these are marked in red.",
    more_colors:"More colors",
    close_modal:"Close Popup"
});
tinyMCE.addI18n('en.spellchecker',{
    desc:"Toggle Spell Checker",
    menu:"Spell Checker Settings",
    ignore_word:"Ignore Word",
    ignore_words:"Ignore All",
    langs:"Languages",
    wait:"Please wait...",
    sug:"Suggestions",
    no_sug:"No Suggestions",
    no_mpell:"No misspellings found.",
    learn_word:"Learn word"
});
tinyMCE.addI18n('en.aria', {
    rich_text_area: "Rich Text Area."
});

;
(function(){function a(){var b=tinymce.activeEditor.dom;return b.create("br",{_moz_dirty:"",type:"_moz"})}tinymce.create("tinymce.plugins.JiveListsPlugin",{lastList:null,lastPrevSib:null,fixLists:function(d){var i,c,h,e,b;function g(){var j=tinymce.activeEditor.dom;return j.create("p",{},"<br _moz_dirty='' type='_moz' />")}this.onBeforeFixLists.dispatch(d);var f=this;d.undoManager.transparentChange(function(){i=d.selection.getNode();if(i.ownerDocument!==d.getDoc()){return}var k=d.dom.getParent(i,"ol,ul");if(k!=null&&k.nodeType==1&&(k.nodeName.toLowerCase()=="ul"||k.nodeName.toLowerCase()=="ol")){b=k.parentNode;if(b.nodeName.toLowerCase()=="li"){h=b.parentNode;h.insertBefore(k,b.nextSibling);if(d.selectionUtil.isEffectivelyEmpty(b)){h.removeChild(b)}d.selectionUtil.normalizeSelection();d.selection.select();d.selection.collapse(true)}f.mergeConsecutiveLists(k)}i=d.dom.getParent(i,"li");if(i!=null&&i.nodeType==1&&i.nodeName.toLowerCase()=="li"){c=d.dom.getParent(i,"ol,ul");if(c!=null){if(tinymce.isGecko){for(var j=0;j<c.childNodes.length;j++){b=c.childNodes[j];if(b.nodeType==1&&b.nodeName.toLowerCase()=="li"&&(!b.lastChild||b.lastChild.nodeName.toLowerCase()!="br")){b.appendChild(a())}}}if(c.parentNode.nodeName.toLowerCase()=="p"){h=c.parentNode;d.dom.split(h,c);d.selection.select(i).collapse(true)}}}if(f.lastList!=null&&f.lastList.parentNode!=null){i=f.lastList.nextSibling;if(i!=null){if(i.nodeType==1&&i.nodeName.toLowerCase()=="br"){h=g();i.parentNode.insertBefore(h,i);i.parentNode.removeChild(i);e=h.childNodes[h.childNodes.length-1];d.selection.select(e);d.selection.collapse(true)}}}else{if(f.lastPrevSib!=null){i=f.lastPrevSib.nextSibling;if(i!=null){if(i.nodeType==1&&i.nodeName.toLowerCase()=="br"){h=g();i.parentNode.insertBefore(h,i);i.parentNode.removeChild(i);e=h.childNodes[h.childNodes.length-1];d.selection.select(e);d.selection.collapse(true)}}}}f.fixListTypes()});this.onAfterFixLists.dispatch(d)},fixListTypes:function(){var b=this.ed;$j("ul[type], ol[type]",b.getBody()).each(function(){b.plugins.jivelists.listTypeToStyle(this)})},mergeConsecutiveLists:function(d){while(true){var b=d.previousSibling;while(b!=null&&b.nodeType!=1){b=b.previousSibling}if(b!=null&&b.nodeName==d.nodeName){d=b}else{break}}var e=null;while(true){b=d.nextSibling;while(b!=null&&b.nodeType!=1){b=b.nextSibling}if(b!=null&&b.nodeName==d.nodeName){if(!e){try{e=this.ed.selection.getBookmark()}catch(c){console.log("Failed to set bookmark before reparenting.  Hopefully it doesn't matter.",c)}}this.reparentChildren(d,b);b.parentNode.removeChild(b)}else{break}}if(e){this.ed.selection.moveToBookmark(e)}return d},reparentChildren:function(c,b){while(b.firstChild){c.appendChild(b.firstChild)}return c},indentSelectedItems:function(){var b=this.getExpandedLiRange(this.ed.selection.getRng(true));if(b){var d=this.ed.selection.getBookmark();var c=this.ed.getDoc().createElement(b.commonAncestorContainer.nodeName);b.surroundContents(c);this.ed.selection.moveToBookmark(d)}else{throw new Error("Unable to indent selection; probably not a list selection.")}},getExpandedLiRange:function(b){return this.ed.selectionUtil.getExpandedBlockRange(b,"li","ul,ol")},rangeSplit:function(d){var b=d.commonAncestorContainer;if(b.nodeType==3){b=b.parentNode}var f=d.extractContents();var e=[];for(var h=f.firstChild;h!=null;h=h.nextSibling){e.push(h)}var c=this.ed.getDoc().createElement("br");c.className="splitMarker";if(d.startContainer.nodeType==3){var g=d.startContainer.splitText(d.startOffset);g.parentNode.insertBefore(c,g)}else{d.insertNode(c)}this.ed.dom.split(b,c,f);return e},shimIfIE:function(b,c){if(tinymce.isIE){$j('<p class="ieShim"> </p>',b.getDoc()).insertBefore(c)}},removeIEShims:function(b){$j(b.getBody()).find(".ieShim").remove()},execCommand:function(g,p,f){var h=tinyMCE.activeEditor;var i=this;function s(t){var v=t.selection.getNode();v=t.dom.getParent(v,"ol,ul");var b=t.dom.getParent(v,"blockquote");if(b!=null){var u=t.getDoc().createElement(v.nodeName);b.parentNode.insertBefore(u,b);while(b.childNodes.length){u.appendChild(b.childNodes[0])}b.parentNode.removeChild(b);t.selection.select(v)}}var e=h.selection.getNode();var l=null;while(e!=null&&e.parentNode!=null&&(e=h.dom.getParent(e.parentNode,"ol,ul"))!=null){l=e}e=l;if(e!=null){this.lastList=e;this.lastPrevSib=e.previousSibling}else{this.lastList=null;this.lastPrevSib=null}function r(v,u){u=u||tinyMCE.activeEditor;var n=u.selection.getBookmark(),t=v();if(tinymce.isWebKit){window.focus();u.focus()}u.selection.moveToBookmark(n);return t}function q(v){v=v.toLowerCase();var b=parseInt(g.substr("mceOLListStyle".length));var w=h.plugins.jivelists[v+"_styles"];var u=w[b];var x=h.selection.getNode();var t=h.dom.getParent(x,v);h.dom.setStyle(t,"listStyleType",u[1])}function d(B,D,x){var b=h.selectionUtil.getExpandedBlockRange(h.selection.getRng(true).cloneRange(),D,x);var t;try{t=h.selection.getBookmark();function v(F){var I=h.dom.create(B);F.surroundContents(I);var H=[];for(var G=0;G<I.childNodes.length;++G){var J=I.childNodes[G];if(h.selectionUtil.isBookmark(J)){H.push(J)}else{var E=h.dom.create("li");if(h.dom.isBlock(J)){h.dom.replace(E,J,true);if($j(J).css("text-align")!="left"&&$j(J).css("text-align")!="start"){$j(E).css("text-align",$j(J).css("text-align"))}}else{F.setStart(I,G);F.setEnd(I,I.childNodes.length);F.surroundContents(E);G=I.childNodes.length}while(H.length>0){E.insertBefore(H.pop(),E.firstChild);--G}}}if(I.childNodes.length==0){I.appendChild(h.dom.create("li"))}I=i.mergeConsecutiveLists(I);return I}function y(G,F){var E=h.dom.createRng();var H=G;while(H!=null){G=H;if(G!=F){H=G.nextSibling}else{H=null}E.selectNodeContents(G);v(E)}}function C(E,F){var G=E;while(G){y(G.firstChild,G.lastChild);if(G==F){G=null}else{G=G.nextSibling}}}if(b.collapsed){var n=v(b);h.selectionUtil.removeBookmark(t);var A=h.dom.createRng();A.setStart(n.firstChild,0);A.collapse(true);h.selection.setRng(A)}else{var w=b.startContainer.childNodes[b.startOffset];var u=b.endContainer.childNodes[b.endOffset-1];if(w.nodeName.toLowerCase()=="td"){y(w,u)}else{if(w.nodeName.toLowerCase()=="tr"){C(w,u)}else{v(b)}}i.shimIfIE(h,w);h.selection.moveToBookmark(t)}}catch(z){console.log("failing over to execCommand",z);if(t){h.selectionUtil.removeBookmark(t)}B=B.toLowerCase();if(B=="ul"){h.execCommand("InsertUnorderedList")}else{h.execCommand("InsertOrderedList")}}i.fixLists(h);i.removeIEShims(h)}var l=this.getSelectionParent("ol,ul");if(g.indexOf("mceOLListStyle")==0){h.undoManager.add();q("ol");h.undoManager.add();return true}else{if(g.indexOf("mceULListStyle")==0){h.undoManager.add();q("ul");h.undoManager.add();return true}else{if(g=="mceOutdent"){h.undoManager.add();var c=h.selection;r(function(){try{var b=i.getExpandedLiRange(c.getRng(true));var v=i.rangeSplit(b);i.shimIfIE(h,v[0]);for(var u=0;u<v.length;++u){var x=v[u];if(x.parentNode.nodeName.toLowerCase()!="ul"&&x.parentNode.nodeName.toLowerCase()!="ol"){if(!h.selectionUtil.isBookmark(x)){var w=h.getDoc().createElement("p");x.parentNode.insertBefore(w,x);if($j(x).css("text-align")!="left"&&$j(x).css("text-align")!="start"){$j(w).css("text-align",$j(x).css("text-align"))}if(x.nodeType==1){i.reparentChildren(w,x);x.parentNode.removeChild(x)}else{w.appendChild(x)}if(tinymce.isIE&&!tinymce.isIE9){w.appendChild(h.getDoc().createTextNode("\ufeff"))}}}}}catch(t){console.log("failing over to execCommand('Outdent')");i.shimIfIE(h,c.getNode());h.execCommand("Outdent");try{h.execCommand("mceOutdentComplete")}catch(t){if(console&&console.log){console.log("Outdent Complete failed",t)}}}i.fixLists(h)},h);i.removeIEShims(h);h.undoManager.add();return true}else{if(g=="mceIndent"){h.undoManager.add();try{this.indentSelectedItems();this.fixLists(h)}catch(k){console.log("failing over to execCommand('Indent')");h.execCommand("Indent");this.fixLists(h);s(h)}h.execCommand("mceIndentComplete");h.undoManager.add();return true}else{if(g.indexOf("mceInsertUnorderedList")==0){h.undoManager.add();if($j(l).is("ul")){h.execCommand("mceOutdent")}else{if($j(l).is("ol")){var o=h.selection.getBookmark(BOOKMARKTYPE);var j=this.getSelectionParent("ol");var m=h.getDoc().createElement("ul");$j(m).append($j(j).contents());j.parentNode.insertBefore(m,j);j.parentNode.removeChild(j);h.selection.moveToBookmark(o)}else{d("ul")}}h.undoManager.add();return true}else{if(g.indexOf("mceInsertOrderedList")==0){h.undoManager.add();if($j(l).is("ol")){h.execCommand("mceOutdent")}else{if($j(l).is("ul")){var o=h.selection.getBookmark(BOOKMARKTYPE);var j=this.getSelectionParent("ul");var m=h.getDoc().createElement("ol");$j(m).append($j(j).contents());j.parentNode.insertBefore(m,j);j.parentNode.removeChild(j);h.selection.moveToBookmark(o)}else{d("ol")}}h.undoManager.add();return true}}}}}}return false},getRangeParent:function(c,b){return this.ed.dom.getParent(c.commonAncestorContainer,b)},getSelectionParent:function(b){return this.getRangeParent(this.ed.selection.getRng(true),b)},cleanList:function(b,d){var c=this;this._stripStyleAndMetaTags(b,d);this._wrapListChildren(b,d);if(d.nodeType!=1){return}$j.each(d.childNodes,function(){c.cleanList(b,this)})},_stripStyleAndMetaTags:function(b,c){if(c.nodeType!=1){return}$j.each(c.childNodes,function(){if(this.nodeType&&this.nodeType!=1&&this.nodeType!=3||this.nodeType==1&&(this.nodeName.toLowerCase()=="meta"||this.nodeName.toLowerCase()=="style")){c.removeChild(this)}})},_wrapListChildren:function(b,c){$j(c).filter("ul, ol").each(function(){var d=this;$j.each(this.childNodes,function(){var e;if(this.nodeType==3&&$j.trim(this.nodeValue)===""){d.removeChild(this)}else{if(this.nodeType==3||(this.nodeType==1&&!$j(this).is("li, ul, ol"))){e=b.getDoc().createElement("li");d.insertBefore(e,this);e.appendChild(this)}}})})},listTypeToStyle:function(b){if(!b||!b.nodeName||!/[uo]l/i.test(b.nodeName)){return}var c=tinyMCE.activeEditor;var e=b.getAttribute("type");var d=null;switch(e){case"1":d="decimal";break;case"A":d="upper-alpha";break;case"a":d="lower-alpha";break;case"I":d="upper-roman";break;case"i":d="lower-roman";break;default:if(e&&typeof(e)=="string"){e=e.toLowerCase();switch(e){case"circle":case"disc":case"square":d=e;break}}break}if(d){c.dom.setStyle(b,"listStyleType",d)}b.removeAttribute("type")},init:function(b,c){this.url=c;this.ed=b;var d=this;this.index=0;this.ol_styles=new Array();this.ol_styles.push(["default","",0]);this.ol_styles.push(["d","decimal",1]);if(!tinymce.isIE){this.ol_styles.push(["dz","decimal-leading-zero",2])}this.ol_styles.push(["ur","upper-roman",3]);this.ol_styles.push(["lr","lower-roman",4]);this.ol_styles.push(["ua","upper-alpha",5]);this.ol_styles.push(["la","lower-alpha",6]);if(!tinymce.isIE){this.ol_styles.push(["lg","lower-greek",7]);this.ol_styles.push(["ki","katakana-iroha",8]);this.ol_styles.push(["k","katakana",9]);this.ol_styles.push(["hii","hiragana-iroha",10]);this.ol_styles.push(["hi","hiragana",11]);this.ol_styles.push(["ci","cjk-ideographic",12]);this.ol_styles.push(["g","georgian",13]);this.ol_styles.push(["a","armenian",14]);this.ol_styles.push(["he","hebrew",15])}this.ul_styles=new Array();this.ul_styles.push(["default","",0]);this.ul_styles.push(["di","disc",1]);this.ul_styles.push(["c","circle",2]);this.ul_styles.push(["s","square",3]);b.onBeforeSetContent.add(function(e,f){if(tinymce.isIE){f.content=f.content.replace(/<br\/><\/li>/g,"</li>")}});b.onSetContent.add(function(){d.fixListTypes()});b.onNodeChange.add(function(e){if(this.initialized){var g=e.selection.getNode();var h=e.dom.getParent(g,"ul,ol");if(h){this.fixLists(e);var f=this;e.undoManager.transparentChange(function(){f.cleanList(e,h)})}}},this);this.onBeforeFixLists=new tinymce.util.Dispatcher();this.onAfterFixLists=new tinymce.util.Dispatcher();this.initialized=false;b.onBeforeGetContent.add(function(){if(this.initialized){this.fixLists(tinymce.activeEditor)}},this);b.onInit.add(function(){this.initialized=true;if(b.plugins.paste){b.plugins.paste.onPostProcess.add(function(){this.fixLists(b)},this)}if(b.plugins.jivecontextmenu){var h=b.plugins.jivecontextmenu;function f(w,v){v=v.toUpperCase();var q,p,r,n;if(v=="UL"){q=288;p=0;r=81;n=158}else{if(v=="OL"){q=260;p=0;r=81;n=135}}var s=[];for(var o=0;o<w.length;++o){var m=w[o][0];var u=o==0?q:r+(w[o][2]-1)*28;var t=o==0?p:n;s.push(new h.MenuItem(m+"ListStyle",null,b.getLang("jivelists."+m),{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/iconmaster.gif",xOffset:u,yOffset:t,width:28,height:23},"mce"+v+"ListStyle"+o))}return s}var l=f(this.ul_styles,"UL");var e=new h.Menu(l,true,true,b.getLang("jivelists.list_style_hdr"));var k=new h.MenuItem("ulItem",/ul/i,null,{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/iconmaster.gif",xOffset:288,yOffset:0,width:28,height:23},e);h.addRootItem(k);var j=f(this.ol_styles,"OL");var i=new h.Menu(j,true,true,b.getLang("jivelists.list_style_hdr"));var g=new h.MenuItem("olItem",/ol/i,null,{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/iconmaster.gif",xOffset:260,yOffset:0,width:28,height:23},i);h.addRootItem(g)}if(b.plugins.contextmenu){b.plugins.contextmenu.onContextMenu.add(function(n,p,r){var o,u,v,s,q,t;u=b.dom.getParent(r,"ol, ul");if(u&&u.nodeName.toLowerCase()=="ol"){v=b.dom.getParent(r,function(m){return $def(m.tagName)&&m.tagName.toLowerCase()=="ol"&&m!=u});p.addSeparator();o=p.addMenu({title:"jivelists.list_style",max_height:"200","class":"mceDropDown defaultSkin mceMacroMenu mceListBoxMenu"});s=b.plugins.jivelists.ol_styles;for(q=0;q<s.length;q++){if(v!=null||v==null&&s[q][0]!="inherit"){t="";if(u.style.listStyleType==s[q][1]){t="mceMenuItemSelected"}else{t=""}o.add({title:"jivelists."+s[q][0],cmd:"mceOLListStyle"+q,"class":t})}if(q==2){o.addSeparator()}}}else{if(u&&u.nodeName.toLowerCase()=="ul"){v=b.dom.getParent(r,function(m){return $def(m.tagName)&&m.tagName.toLowerCase()=="ul"&&m!=u});p.addSeparator();o=p.addMenu({title:"jivelists.list_style",max_height:"200","class":"mceDropDown defaultSkin mceMacroMenu mceListBoxMenu"});s=b.plugins.jivelists.ul_styles;for(q=0;q<s.length;q++){if(v!=null||v==null&&s[q][0]!="inherit"){t="";if(u.style.listStyleType==s[q][1]){t="mceMenuItemSelected"}else{t=""}o.add({title:"jivelists."+s[q][0],cmd:"mceULListStyle"+q,"class":t})}if(q==2){o.addSeparator()}}}}})}},this);this.prepForEnter=false;this.prepForDel=false;b.onKeyDown.addToTop(function(i,x){this.prepForEnter=false;this.prepForDel=false;this.prepForDelB=false;var j=i.selectionUtil.isEffectivelyEmpty;var k;var t=i.selection;var n=i.dom.getParent(t.getNode(),"li");var w=i.dom.getParent(t.getNode(),"ul,ol");if(x.keyCode==8&&t.isCollapsed()&&n){var q=i.selectionUtil.atStartOf(n)||j(n);if(n!=null&&n.nodeType==1&&w!=null&&q){this.prepForDel=true;i.execCommand("mceOutdent");if(w.parentNode&&!w.firstChild){w.parentNode.removeChild(w)}tinymce.dom.Event.cancel(x);return false}}else{if(x.keyCode==46&&t.isCollapsed()){function u(A){var p=A.nextSibling;while(p){var e=p.nodeName.toLowerCase();if(e=="ul"||e=="ol"){p=p.firstChild}else{if(e=="table"){return null}else{if(i.dom.isBlock(p)){return p}else{return null}}}}if(A.nodeName.toLowerCase()!="body"){return u(A.parentNode)}return null}function s(e){while(e.lastChild&&e.lastChild.nodeName.toLowerCase()=="br"){e.removeChild(e.lastChild)}}if(n!=null){var f=i.selectionUtil.atEndOf(n)||j(n);if(n.nodeType==1&&w!=null&&f){i.undoManager.add();var m=u(n);if(m){s(n);this.reparentChildren(n,m);m.parentNode.removeChild(m)}this.prepForDel=true;i.undoManager.add();tinymce.dom.Event.cancel(x);return false}}else{var y=i.dom.getParent(t.getNode(),function(e){return i.dom.isBlock(e)});if(y){m=u(y);if(m&&(i.selectionUtil.atEndOf(y)||j(y))){i.undoManager.add();var h=i.selection.getBookmark();s(y);this.reparentChildren(y,m);var o=m.parentNode;m.parentNode.removeChild(m);while(j(o)){var g=o;o=o.parentNode;o.removeChild(g)}this.prepForDel=true;i.selection.moveToBookmark(h);i.undoManager.add();tinymce.dom.Event.cancel(x);return false}}}}else{if(x.keyCode==13&&x.shiftKey){var l=n?n:i.dom.getParent(t.getNode(),function(e){return i.dom.isBlock(e)});k=t.getRng(true);if(k.collapsed){this.prepForEnter=true;i.undoManager.add();var z=i.getDoc().createElement("br");k.insertNode(z);k.setStart(l,i.dom.nodeIndex(z)+1);k.collapse(true);t.setRng(k);if(tinymce.isWebKit&&i.selectionUtil.atEndOf(l)){l.appendChild(i.getDoc().createElement("br"))}i.undoManager.add();tinymce.dom.Event.cancel(x);return false}}else{if(x.keyCode==9&&!x.ctrlKey&&!x.altKey){var r=i.dom.getParent(i.selection.getNode(),"table,ul,ol");if(r!=null&&r.nodeName.toLowerCase()!="table"){try{if(x.shiftKey){i.execCommand("mceOutdent")}else{i.execCommand("mceIndent")}}catch(v){}return tinymce.dom.Event.cancel(x)}}}}}},this);b.onKeyPress.add(function(f,h){if((h.keyCode==8||h.keyCode==46)&&this.prepForDel){tinymce.dom.Event.cancel(h);return false}if(h.keyCode==13&&this.prepForEnter){tinymce.dom.Event.cancel(h);return false}if(h.keyCode==9&&!h.ctrlKey&&!h.altKey){var g=f.dom.getParent(f.selection.getNode(),"table,ul,ol");if(g!=null&&g.nodeName.toLowerCase()!="table"){tinymce.dom.Event.cancel(h);return false}}},this);b.onKeyUp.add(function(f,g){if((g.keyCode==8||g.keyCode==46)&&this.prepForDel){tinymce.dom.Event.cancel(g);return false}if(g.keyCode==13&&this.prepForEnter){tinymce.dom.Event.cancel(g);return false}},this)},getInfo:function(){return{longname:"Jive Lists",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}},createControl:function(c,b){return null}});tinymce.PluginManager.add("jivelists",tinymce.plugins.JiveListsPlugin)})();
;
tinyMCE.addI18n('en.jivelists',{
    list_style : 'List Style',
    list_style_hdr : 'List Style:',
    inherit : "Inherit",
    none : "None",
    'default' : "Default",
    ur : "Upper Roman",
    lr : "Lower Roman",
    dz : "Decimal with Leading Zero",
    d  : "Decimal",
    ua : "Upper Alpha",
    la : "Lower Alpha",
    lg : "Lower Greek",
    ki : "Katakana-Iroha",
    hii: "Hiragana-Iroha",
    k  : "Katakana",
    hi : "Hiragana",
    ci : "Cjk-Ideographic",
    g  : "Georgian",
    a  : "Armenian",
    he : "Hebrew",
    s  : "Squares",
    c  : "Circles",
    di : "Discs"
});
;
(function(){tinymce.create("tinymce.plugins.JiveStylePlugin",{getInfo:function(){return{longname:"Image Picker",author:"Jive Software",authorurl:"http://www.jivesoftware.com",infourl:"http://www.jivesoftware.com/",version:"1.0"}},init:function(a,b){a.onInit.add(function(d){var c=document.getElementById(d.id+"_jivestyle_action");if(c){var e=c.childNodes[0];while(e.childNodes.length>0){e.removeChild(e.childNodes[0])}e.appendChild(document.createTextNode(d.getLang("jivestyle.title")))}d.plugins.jivebuttons.initToolbar(d.id);setTimeout(function(g,f){return function(){g.plugins.jivebuttons.initToolbar(f)}}(d,d.id),300)});a.onNodeChange.add(function(c){return function(j,m,f){var d=j.dom.getParent(f,j.dom.isBlock);if(d){if(c.buttons.length>0){var e=j.selection;for(var h=0;h<c.buttons.length;h++){var l=window.document;var g=new tinymce.dom.DOMUtils(l);var k=$def(d.tagName)&&d.tagName.toLowerCase()==c.tagNames[h];var q=l.getElementById(c.buttons[h].id);var o=q.cells[0];if(k&&(e.isCollapsed()||e.getStart()==e.getEnd())){g.addClass(o,"mceMenuItemSelected")}else{g.removeClass(o,"mceMenuItemSelected")}}}}}}(this));this.buttons=new Array();this.tagNames=["p","h1","h2","h3","h4","h5","h6"]},execCommand:function(d,c,e){if(d=="mceJiveStyle"){var a=tinyMCE.activeEditor.controlManager;var b=a.get("jivestyle");b.showMenu();return true}return false},isTag:function(b){var c=tinyMCE.activeEditor;var e=c.selection;if(e.isCollapsed()){var f=e.getNode();var d=c.dom.getParent(f,b);var a=$def(d)&&d!=null&&$def(d.tagName)&&d.tagName.toLowerCase()==b;if(a){return"mceMenuItemSelected"}else{return""}}else{return""}},addButton:function(a){this.buttons.push(a)},createControl:function(d,a){switch(d){case"jivestyle":var b=a.createSplitButton("jivestyle",{title:"jivestyle.title",cmd:"mceJiveStyle"});b.onRenderMenu.add(function(j,e){var f=tinyMCE.activeEditor;var h=f.plugins.jivestyle;h.addButton(e.add({title:"jivestyle.paragraph",cmd:"FormatBlock",ui:false,value:"p","class":"mce_formatPreview mce_p "+h.isTag("p")}));for(var g=1;f.settings.max_header_count>=g&&g<=6;++g){h.addButton(e.add({title:f.getLang("jivestyle.header")+" "+g,cmd:"FormatBlock",ui:false,value:"h"+g,"class":"mce_formatPreview mce_h"+g+" "+h.isTag("h"+g)}))}});return b}return null}});tinymce.PluginManager.add("jivestyle",tinymce.plugins.JiveStylePlugin)})();
;
tinyMCE.addI18n('en.jivestyle',{
    title : 'Style',
    paragraph : 'Paragraph',
    header : 'Header'
});

;
(function(){var $reWhiteSpace$$=RegExp(/^[\s\f\n\r\t\v\u00A0\u2028\u2029\u0240]$/);tinymce.create("tinymce.plugins.JiveMacrosPlugin",{_cache:new jive.ext.y.HashTable,cache:function($id$$,$url$$,$title$$,$type$$){var $type_cache$$=this._cache.get($type$$);$type_cache$$||($type_cache$$=new jive.ext.y.HashTable,this._cache.put($type$$,$type_cache$$));$type_cache$$.put($id$$,[$title$$,$url$$])},getTitleFor:function($type$$,$id$$){var $type_cache$$=this._cache.get($type$$);return!$type_cache$$?!1:$type_cache$$.get($id$$)},
deleteMacro:function($ed$$,$node$$){window.jiveRTE&&window.jiveRTE.macroEle&&($node$$=window.jiveRTE.macroEle,window.jiveRTE.macroEle=null);if($def($ed$$)&&$def($node$$)){if($node$$!=$ed$$.getBody()){var $par$$=(new tinymce.dom.DOMUtils($ed$$.getDoc())).getParent($node$$,function($x$$){return $x$$==$ed$$.getBody()||$x$$!=$node$$});if(this.isExactMacro($node$$)){var $kid_macro_str$$=this.getMacroFor($node$$);if("INLINE"==$kid_macro_str$$.getMacroType())for(;0<$node$$.childNodes.length;)$kid_macro_str$$=
$node$$.removeChild($node$$.childNodes[0]),$par$$.insertBefore($kid_macro_str$$,$node$$);else if("TEXT"==$kid_macro_str$$.getMacroType()||"INLINE"==$kid_macro_str$$.getMacroType())for(;0<$node$$.childNodes.length;)if($kid_macro_str$$=$node$$.removeChild($node$$.childNodes[0]),3==$kid_macro_str$$.nodeType){for($kid_macro_str$$=$kid_macro_str$$.nodeValue;0<=$kid_macro_str$$.indexOf("\n");){var $p$$=$ed$$.getDoc().createElement("P");$p$$.appendChild($ed$$.getDoc().createTextNode($kid_macro_str$$.substr(0,
$kid_macro_str$$.indexOf("\n"))));$par$$.insertBefore($p$$,$node$$);$kid_macro_str$$=$kid_macro_str$$.length>$kid_macro_str$$.indexOf("\n")+1?$kid_macro_str$$.substr($kid_macro_str$$.indexOf("\n")+1):""}0<$kid_macro_str$$.length&&($p$$=$ed$$.getDoc().createElement("P"),$p$$.appendChild($ed$$.getDoc().createTextNode($kid_macro_str$$)),$par$$.insertBefore($p$$,$node$$))}else $par$$.insertBefore($kid_macro_str$$,$node$$);$par$$.removeChild($node$$)}else this.deleteMacro($ed$$,$par$$)}}else $ed$$=tinyMCE.activeEditor,
this.deleteMacro($ed$$,$ed$$.selection.getNode())},getNextSibling:function($ed$$,$node$$){return null==$node$$?$node$$:null!=$node$$.nextSibling?$node$$.nextSibling:$node$$==$ed$$.getBody()&&null==$node$$.nextSibling?null:this.getNextSibling($ed$$,this.getParentNode($ed$$,$node$$))},getParentNode:function($ed$$,$node$$){return(new tinymce.dom.DOMUtils($ed$$.getDoc())).getParent($node$$,function($x$$){return $x$$==$ed$$.getBody()||$x$$!=$node$$})},ageTheNodes:function($start$$,$end$$){function $auntOf$$($niece$$,
$daughter$$){return $j($daughter$$).parents().andSelf().filter(function(){var $isAunt$$=0<$j(this).parent().has($niece$$).length,$isCommonAncestor$$=0<$j(this).has($niece$$).length;return $isAunt$$&&!$isCommonAncestor$$}).get(0)}var $leftAunt$$=$auntOf$$($end$$,$start$$),$rightAunt$$=$auntOf$$($start$$,$end$$);return[$leftAunt$$,$rightAunt$$]},shouldEndLine:function($node$$){return 3!=$node$$.nodeType&&("div"==$node$$.tagName.toLowerCase()||"p"==$node$$.tagName.toLowerCase()||"pre"==$node$$.tagName.toLowerCase()||
"br"==$node$$.tagName.toLowerCase())?!0:!1},applyParameterSet:function($node$$,$macro$$,$paramSet$$){if(this.isMacro($node$$)){if($paramSet$$.deleteAll)for(var $macro$$=$macro$$.getAllowedParameters(),$i$$=0;$i$$<$macro$$.length;$i$$++)$node$$.removeAttribute("_"+$macro$$[$i$$].name);for($i$$=0;$i$$<$paramSet$$.params.length;$i$$++)$node$$.setAttribute("_"+$paramSet$$.params[$i$$].name,$paramSet$$.params[$i$$].value);this.removeDuplicateMacros(tinyMCE.activeEditor,!1,this.isMacro($node$$))}},buildMacro:function($macro$$,
$paramSet$$,$customImage_rng$$){$def($paramSet$$)||($paramSet$$=0);var $ed$$=tinyMCE.activeEditor,$sel$$=$ed$$.selection,$doc$$1_src$$=$ed$$.getDoc(),$name$$=$macro$$.getName(),$pre$$,$collapsed$$=$sel$$.isCollapsed();"TEXT"==$macro$$.getMacroType()?($pre$$=$doc$$1_src$$.createElement("pre"),$pre$$.setAttribute("class","jive_text_macro jive_macro_"+$name$$),$pre$$.className="jive_text_macro jive_macro_"+$name$$):"INLINE"==$macro$$.getMacroType()?($pre$$=$doc$$1_src$$.createElement("span"),$pre$$.appendChild($doc$$1_src$$.createTextNode($name$$)),
$pre$$.setAttribute("class","jive_macro jive_macro_"+$name$$),$pre$$.className="jive_macro jive_macro_"+$name$$):($pre$$=$doc$$1_src$$.createElement("img"),$pre$$.setAttribute("class","jive_macro jive_macro_"+$name$$),$pre$$.className="jive_macro jive_macro_"+$name$$,$doc$$1_src$$=window.parent.CS_RESOURCE_BASE_URL+"/images/tiny_mce3/plugins/jiveemoticons/images/spacer.gif",$customImage_rng$$?($pre$$.setAttribute("src",$customImage_rng$$),$pre$$.setAttribute("data-mce-src",$customImage_rng$$)):($pre$$.setAttribute("src",
$doc$$1_src$$),$pre$$.setAttribute("data-mce-src",$doc$$1_src$$)));$pre$$.setAttribute("jivemacro",$name$$);!$collapsed$$&&"TEXT"==$macro$$.getMacroType()?($customImage_rng$$=$sel$$.getRng(!0),$customImage_rng$$=$ed$$.selectionUtil.splitAtEndpoints($customImage_rng$$),$customImage_rng$$.surroundContents($pre$$)):(this.getParentNode($ed$$,$sel$$.getNode()),$sel$$.getNode());"TEXT"==$macro$$.getMacroType()&&0==$pre$$.childNodes.length&&($pre$$.appendChild(this.createEmptyPara()),tinymce.isIE&&!tinymce.isIE9&&
($pre$$.firstChild.innerHTML="\ufeff",$sel$$.setNode($pre$$.firstChild),$sel$$.collapse(!0)));null!=$paramSet$$&&0<=$paramSet$$&&($ed$$=$macro$$.getParameterSets(),$paramSet$$<$ed$$.length&&($paramSet$$=$ed$$[$paramSet$$],this.applyParameterSet($pre$$,$macro$$,$paramSet$$)));return $pre$$},insertMacro:function($ed$$,$lastNode_macro$$,$paramSet$$2_pre$$,$customImage$$){var $collapsed$$1_rng$$=$ed$$.selection.isCollapsed(),$paramSet$$2_pre$$=this.buildMacro($lastNode_macro$$,$paramSet$$2_pre$$,$customImage$$);
$ed$$.selection.getNode();if($collapsed$$1_rng$$)if("text"==$lastNode_macro$$.getMacroType().toLowerCase()){for($collapsed$$1_rng$$=$ed$$.selection.getRng(!0);!$ed$$.dom.is($collapsed$$1_rng$$.startContainer,"body, td, th, pre, li");)$collapsed$$1_rng$$=$ed$$.selectionUtil.splitAtEndpoints($collapsed$$1_rng$$,"body, td, th, pre, li");$collapsed$$1_rng$$.surroundContents($paramSet$$2_pre$$);0==$paramSet$$2_pre$$.childNodes.length&&$paramSet$$2_pre$$.appendChild(this.createEmptyPara());$collapsed$$1_rng$$.setStart($paramSet$$2_pre$$,
0);$collapsed$$1_rng$$.collapse(!0);$ed$$.selection.setRng($collapsed$$1_rng$$)}else $paramSet$$2_pre$$.setAttribute("id","__sel_me__"),$ed$$.selection.setNode($paramSet$$2_pre$$),$paramSet$$2_pre$$=$ed$$.getDoc().getElementById("__sel_me__"),$paramSet$$2_pre$$.removeAttribute("id");this.removeDuplicateMacros($ed$$,!1,$paramSet$$2_pre$$);this.fixBodyParagraphs();if($paramSet$$2_pre$$.childNodes.length&&$paramSet$$2_pre$$.parentNode&&"text"==$lastNode_macro$$.getMacroType().toLowerCase()){$collapsed$$1_rng$$=
$ed$$.dom.createRng();$lastNode_macro$$=$paramSet$$2_pre$$;do $lastNode_macro$$=$lastNode_macro$$.childNodes[$lastNode_macro$$.childNodes.length-1];while(1==$lastNode_macro$$.nodeType&&$lastNode_macro$$.childNodes.length);$collapsed$$1_rng$$.setStart($lastNode_macro$$.parentNode,$lastNode_macro$$.childNodes.length);$collapsed$$1_rng$$.collapse(!0);$ed$$.selection.setRng($collapsed$$1_rng$$);$ed$$.selectionUtil.normalizeSelection();window.focus();$ed$$.focus()}return $paramSet$$2_pre$$},execCommand:function($cmd_index$$43_macro$$){var $ed$$=
tinyMCE.activeEditor,$indexes_param$$3_paramSet$$;if(0==$cmd_index$$43_macro$$.indexOf("mceMacroParamSet")){$ed$$.undoManager.add();$indexes_param$$3_paramSet$$=$cmd_index$$43_macro$$.substr(16);$cmd_index$$43_macro$$=parseInt($indexes_param$$3_paramSet$$.substr(0,$indexes_param$$3_paramSet$$.indexOf("_")));$indexes_param$$3_paramSet$$=parseInt($indexes_param$$3_paramSet$$.substr($indexes_param$$3_paramSet$$.indexOf("_")+1));$indexes_param$$3_paramSet$$=jive.rte.macros[$cmd_index$$43_macro$$].getParameterSets()[$indexes_param$$3_paramSet$$];
var $macroEle_n$$=$ed$$.selection.getNode(),$macroEle_n$$=$ed$$.dom.getParent($macroEle_n$$,function($ele$$){return $def($ele$$.attributes.jivemacro)});null!=$macroEle_n$$&&(this.applyParameterSet($macroEle_n$$,jive.rte.macros[$cmd_index$$43_macro$$],$indexes_param$$3_paramSet$$),$ed$$.selection.select($macroEle_n$$));return!0}return 0==$cmd_index$$43_macro$$.indexOf("mceAddJiveMacro")?($ed$$.undoManager.add(),$cmd_index$$43_macro$$=$cmd_index$$43_macro$$.substr(15),$indexes_param$$3_paramSet$$=0,
$macroEle_n$$=$cmd_index$$43_macro$$.indexOf("_"),0<=$macroEle_n$$?($indexes_param$$3_paramSet$$=parseInt($cmd_index$$43_macro$$.substr($macroEle_n$$+1)),$cmd_index$$43_macro$$=parseInt($cmd_index$$43_macro$$.substr(0,$macroEle_n$$))):$cmd_index$$43_macro$$=parseInt($cmd_index$$43_macro$$),$cmd_index$$43_macro$$=jive.rte.macros[$cmd_index$$43_macro$$],0<$cmd_index$$43_macro$$.getUrl().length?(window.jiveRTE={macro:$cmd_index$$43_macro$$,paramSet:$indexes_param$$3_paramSet$$},$ed$$.windowManager.open({url:CS_BASE_URL+
$cmd_index$$43_macro$$.getUrl(),width:500,height:400,inline:1},window.jiveRTE)):$ed$$.plugins.jivemacros.insertMacro($ed$$,$cmd_index$$43_macro$$,$indexes_param$$3_paramSet$$),$ed$$.undoManager.add(),!0):!1},isFirst:function($par$$,$ele$$){return 0==$par$$.childNodes.length?!1:$par$$.childNodes[0]==$ele$$||this.isFirst($par$$.childNodes[0],$ele$$)},isLink:function($ele$$){return null==$ele$$||"body"==$ele$$.nodeName.toLowerCase()?!1:$def($ele$$)&&$obj($ele$$)&&null!=$ele$$&&$def($ele$$.nodeType)&&
3!=$ele$$.nodeType?"a"==$ele$$.nodeName.toLowerCase()?$ele$$:this.isLink($ele$$.parentNode):!1},isMacro:function($ele$$){for(;null!=$ele$$&&$obj($ele$$)&&"body"!=$ele$$.nodeName.toLowerCase();){if($def($ele$$.nodeType)&&1==$ele$$.nodeType&&$def($ele$$.attributes.jivemacro))return $ele$$;$ele$$=$ele$$.parentNode}return!1},isExactMacro:function($ele$$){return null==$ele$$||"body"==$ele$$.nodeName.toLowerCase()?!1:null!=$ele$$&&($obj($ele$$)&&$def($ele$$.nodeType)&&1==$ele$$.nodeType)&&("pre"==$ele$$.nodeName.toLowerCase()||
$def($ele$$.attributes.jivemacro))?$ele$$:!1},getMacroFor:function($ele$$){var $mac$$=this.isMacro($ele$$);return $mac$$?tinymce.activeEditor.plugins.jiveutil.findMacro($mac$$.attributes.jivemacro.nodeValue):"pre"==$ele$$.nodeName.toLowerCase()?tinymce.activeEditor.plugins.jiveutil.findMacro("quote"):null},createMozBR:function(){return tinymce.activeEditor.dom.create("br",{_moz_dirty:"",type:"_moz"})},createEmptyPara:function(){var $ed$$=tinymce.activeEditor,$p$$=$ed$$.dom.create("p",{},tinymce.isIE?
"":"<br _moz_dirty='' type='_moz' />");tinymce.isIE9&&$p$$.appendChild($ed$$.getDoc().createTextNode(""));return $p$$},findLastKid:function($ele$$){return 3==$ele$$.nodeType||0==$ele$$.childNodes.length?null:this.isMacro($ele$$)||$def($ele$$.tagName)&&"table"==$ele$$.tagName.toLowerCase()||$def($ele$$.tagName)&&"pre"==$ele$$.tagName.toLowerCase()?$ele$$:this.findLastKid($ele$$.childNodes[$ele$$.childNodes.length-1])},isBR:function($ele$$){return 3==$ele$$.nodeType?!1:"br"==$ele$$.nodeName.toLowerCase()},
convertDoubleLineBreaksToParagraphs:function($ed$$,$ele$$){if(1==$ele$$.nodeType&&($ed$$.dom.isBlock($ele$$)||"body"==$ele$$.nodeName.toLowerCase())&&"pre"!=$ele$$.nodeName.toLowerCase()&&!this.isExactMacro($ele$$)){var $br2$$;0<$ele$$.childNodes.length&&($br2$$=$ele$$.childNodes[$ele$$.childNodes.length-1]);for(var $i$$=0;$i$$<$ele$$.childNodes.length-1;$i$$++){var $br1$$=$ele$$.childNodes[$i$$];$br2$$=$ele$$.childNodes[$i$$+1];if(1==$br1$$.nodeType&&("title"==$br1$$.nodeName.toLowerCase()||"meta"==
$br1$$.nodeName.toLowerCase()||"colgroup"==$br1$$.nodeName.toLowerCase()))$ele$$.removeChild($br1$$),$i$$--;else if(1==$br1$$.nodeType&&("ol"==$br1$$.nodeName.toLowerCase()||"ul"==$br1$$.nodeName.toLowerCase()))0==$br1$$.childNodes.length&&($ele$$.removeChild($br1$$),$i$$--);else if(1==$br2$$.nodeType&&("ol"==$br2$$.nodeName.toLowerCase()||"ul"==$br2$$.nodeName.toLowerCase()))0==$br2$$.childNodes.length&&($ele$$.removeChild($br2$$),$i$$--);else if(this.isBR($br1$$)&&this.isBR($br2$$)){if(null==$ed$$.dom.getParent($br1$$,
"li")){var $par$$=$br1$$.parentNode,$body$$=$par$$.parentNode;$i$$--;if("p"!=$par$$.nodeName.toLowerCase()){var $par$$=$br1$$,$body$$=$par$$.parentNode,$newp_newpar$$=this.createEmptyPara();this.insertAfter($body$$,$newp_newpar$$,$par$$)}else{for($newp_newpar$$=$ed$$.getDoc().createElement("p");null!=$br2$$.nextSibling;)$newp_newpar$$.appendChild($br2$$.nextSibling);this.insertAfter($body$$,$newp_newpar$$,$par$$);this.insertAfter($body$$,this.createEmptyPara(),$par$$)}$br1$$.parentNode.removeChild($br1$$);
$br2$$.parentNode.removeChild($br2$$);$br2$$=$newp_newpar$$}}else this.convertDoubleLineBreaksToParagraphs($ed$$,$br1$$)}$def($br2$$)&&this.convertDoubleLineBreaksToParagraphs($ed$$,$br2$$)}},toXML:function($n$$,$indent$$){if(3==$n$$.nodeType)return $n$$.nodeValue+"\n";var $ret$$="";if("br"==$n$$.nodeName.toLowerCase()){for(var $i$$=0;$i$$<$indent$$;$i$$++)$ret$$+="  ";return $ret$$+"<BR>\n"}for($i$$=0;$i$$<$indent$$;$i$$++)$ret$$+="  ";$ret$$+="<"+$n$$.nodeName+">\n";for($i$$=0;$i$$<$n$$.childNodes.length;$i$$++){var $invalidParent$$=
$n$$!=$n$$.childNodes[$i$$].parentNode;$invalidParent$$&&($ret$$+="<error>\n");$ret$$+=this.toXML($n$$.childNodes[$i$$],$indent$$+1);$invalidParent$$&&($ret$$+="</error>\n")}for($i$$=0;$i$$<$indent$$;$i$$++)$ret$$+="  ";return $ret$$+="</"+$n$$.nodeName+">\n"},cloneNodeWithoutKids:function($n$$){for(var $ret$$=$n$$.ownerDocument.createElement($n$$.nodeName),$i$$=0;$i$$<$n$$.attributes.length;$i$$++)null!=$n$$.attributes[$i$$].value&&$ret$$.setAttribute($n$$.attributes[$i$$].name,$n$$.attributes[$i$$].value);
return $ret$$},sanitizeXML:function($n$$){if(1==$n$$.nodeType){for(var $realKids$$=[],$i$$=0;$i$$<$n$$.childNodes.length;$i$$++)$n$$==$n$$.childNodes[$i$$].parentNode&&($realKids$$.push($n$$.childNodes[$i$$]),this.sanitizeXML($n$$.childNodes[$i$$]));if("body"!=$n$$.nodeName.toLowerCase())try{for(var $temp$$=this.cloneNodeWithoutKids($n$$),$i$$=0;$i$$<$realKids$$.length;$i$$++)$temp$$.appendChild($realKids$$[$i$$]);$n$$.parentNode.insertBefore($temp$$,$n$$);$n$$.parentNode.removeChild($n$$)}catch($e$$){console.log("error in fixIt: "+
$e$$.message)}}},fixBodyParagraphs:function(){var $ed$$=tinyMCE.activeEditor,$body$$=$ed$$.getBody(),$se$$=$ed$$.selection,$$appleStyleSpan_doc$$3_i$$=$ed$$.getDoc();if(tinymce.isIE&&"<p>&nbsp;</p>"==$body$$.innerHTML.toLowerCase()){var $that$$=this;$ed$$.undoManager.transparentChange(function(){$body$$.appendChild($that$$.createEmptyPara());$body$$.removeChild($body$$.firstChild)})}else{this.convertDoubleLineBreaksToParagraphs($ed$$,$body$$);var $bm_ele$$=this.findLastKid($body$$);(0<$body$$.childNodes.length&&
$bm_ele$$||0==$body$$.childNodes.length)&&$body$$.appendChild(this.createEmptyPara());$j("p .Apple-style-span:only-child",$$appleStyleSpan_doc$$3_i$$).filter(function(){return null==this.nextSibling&&null==this.previousSibling}).removeClass("Apple-style-span");$$appleStyleSpan_doc$$3_i$$=$j(".Apple-style-span",$$appleStyleSpan_doc$$3_i$$);0<$$appleStyleSpan_doc$$3_i$$.length&&($bm_ele$$=$se$$.getBookmark(),$$appleStyleSpan_doc$$3_i$$.contents().unwrap(),$se$$.moveToBookmark($bm_ele$$));for($$appleStyleSpan_doc$$3_i$$=
0;$$appleStyleSpan_doc$$3_i$$<$body$$.childNodes.length;$$appleStyleSpan_doc$$3_i$$++){var $bm_ele$$=$body$$.childNodes[$$appleStyleSpan_doc$$3_i$$],$referenceNode_tagName$$=$bm_ele$$.tagName;if(5<=$bm_ele$$.nodeType)$bm_ele$$.parentNode.removeChild($bm_ele$$);else if("undefined"!=typeof $referenceNode_tagName$$&&($referenceNode_tagName$$=$referenceNode_tagName$$.toLowerCase(),tinymce.isIE||1==$bm_ele$$.nodeType&&"p"==$referenceNode_tagName$$&&0==$bm_ele$$.childNodes.length&&$bm_ele$$.appendChild(this.createMozBR($ed$$.getDoc()))),
3==$bm_ele$$.nodeType||"inline"==$j($bm_ele$$).css("display"))if(3==$bm_ele$$.nodeType&&(0==$bm_ele$$.nodeValue.length||$reWhiteSpace$$.test($bm_ele$$.nodeValue)))$bm_ele$$.parentNode.removeChild($bm_ele$$),$$appleStyleSpan_doc$$3_i$$--;else if(3==$bm_ele$$.nodeType&&!$reWhiteSpace$$.test($bm_ele$$.nodeValue)||3!=$bm_ele$$.nodeType&&!$ed$$.selectionUtil.isBookmark($bm_ele$$)){var $refNodeOffset$$=$referenceNode_tagName$$=null,$refNodeMoved$$=!1;if(this.typingInBody){var $p$$2_rng$$=$se$$.getRng(!0);
$p$$2_rng$$.collapsed&&($referenceNode_tagName$$=$p$$2_rng$$.startContainer,$referenceNode_tagName$$==$body$$&&0<$p$$2_rng$$.startOffset?$referenceNode_tagName$$=$body$$.childNodes[$p$$2_rng$$.startOffset-1]:$refNodeOffset$$=$p$$2_rng$$.startOffset)}$p$$2_rng$$=$ed$$.getDoc().createElement("p");$ed$$.getBody().insertBefore($p$$2_rng$$,$bm_ele$$);$$appleStyleSpan_doc$$3_i$$++;do{this.typingInBody&&$bm_ele$$==$referenceNode_tagName$$&&($refNodeMoved$$=!0);$p$$2_rng$$.appendChild($bm_ele$$);if(1==$bm_ele$$.nodeType&&
"br"==$bm_ele$$.nodeName.toLowerCase())break;$bm_ele$$=null;$$appleStyleSpan_doc$$3_i$$<$body$$.childNodes.length&&($bm_ele$$=$body$$.childNodes[$$appleStyleSpan_doc$$3_i$$]);$$appleStyleSpan_doc$$3_i$$--}while(null!=$bm_ele$$&&(3==$bm_ele$$.nodeType||"inline"==$j($bm_ele$$).css("display")));$refNodeMoved$$&&($p$$2_rng$$=$se$$.getRng(!0),null!=$refNodeOffset$$?($p$$2_rng$$.setStart($referenceNode_tagName$$,$refNodeOffset$$),$p$$2_rng$$.collapse(!0)):($p$$2_rng$$.selectNode($referenceNode_tagName$$),
$p$$2_rng$$.collapse(!1)),$se$$.setRng($p$$2_rng$$))}}"undefined"!=typeof this.typingInBody&&this.typingInBody&&(this.typingInBody=!1)}},lastNodeChanged:null,lastScrollY:0,ensureParaEndsWithBr:function($ed$$,$node$$){if(!tinymce.isIE)if(0==$node$$.childNodes.length)$node$$.appendChild(this.createMozBR($ed$$.getDoc()));else{for(var $endsWithBr$$=!1,$temp$$=$node$$;!$endsWithBr$$&&1==$temp$$.nodeType&&0<$temp$$.childNodes.length;){var $lastKid$$=$temp$$.childNodes[$temp$$.childNodes.length-1];1==$lastKid$$.nodeType&&
"br"==$lastKid$$.nodeName.toLowerCase()?$endsWithBr$$=!0:$temp$$=$lastKid$$}$endsWithBr$$||$node$$.appendChild(this.createMozBR($ed$$.getDoc()))}},nodeChanged:function($ed$$,$cm$$,$node$$){1==$node$$.nodeType&&"p"==$node$$.nodeName.toLowerCase()&&this.ensureParaEndsWithBr($ed$$,$node$$);var $macro$$=this.getMacroFor($node$$);$cm$$.get("justifyleft")&&(null!=$macro$$?($cm$$.get("justifyleft").setDisabled(!0),$cm$$.get("justifycenter").setDisabled(!0),$cm$$.get("justifyright").setDisabled(!0),$cm$$.get("justifyfull").setDisabled(!0)):
($cm$$.get("justifyleft").setDisabled(!1),$cm$$.get("justifycenter").setDisabled(!1),$cm$$.get("justifyright").setDisabled(!1),$cm$$.get("justifyfull").setDisabled(!1)));$ed$$.plugins.jivemacros.removeDuplicateMacros($ed$$,!0,this.isMacro($node$$))},validateMacroElements:function($$ret_node$$){var $macro$$=this.getMacroFor($$ret_node$$);if(!$macro$$||!$macro$$.usesCustomBackground())return null;var $$rteNode$$=$j($$ret_node$$),$rte$$=this.rte,$$me$$=$rte$$.getHiddenContainer(),$uid$$=$rte$$.getUIDForElement($$rteNode$$),
$$elementFor$$=$rte$$.getRTEElementFor($uid$$);(null==$uid$$||$$elementFor$$&&1<$$elementFor$$.length)&&tinymce.activeEditor.undoManager.transparentChange(function(){var $$tofix$$;null==$uid$$?$$tofix$$=$$rteNode$$:($$tofix$$=$$elementFor$$.filter(":gt(0)"),$$tofix$$.removeClass("_jivemacro_uid"+$uid$$));$$tofix$$.each(function(){var $newUid$$=$rte$$.generateUID();$uid$$==null&&($uid$$=$newUid$$);$j(this).addClass("_jivemacro_uid"+$newUid$$).attr("_jivemacro_uid",$newUid$$);$$me$$.append($j("<div id='"+
$newUid$$+"' class='richContent'></div>"))})});$$ret_node$$=$$me$$.children("#"+$uid$$);0==$$ret_node$$.length&&($$ret_node$$=$j("<div id='"+$uid$$+"' class='richContent'></div>"),$$me$$.append($$ret_node$$));return $$ret_node$$},removeDeletedMacros:function($ed$$){var $rte$$=this.rte;if(null!=$rte$$&&"object"==typeof $rte$$){var $$me$$=$rte$$.getHiddenContainer(),$$body$$=$j($ed$$.getBody());$$me$$.children(".richContent").each(function(){var $uid$$=this.id;0==$$body$$.find("._jivemacro_uid"+$uid$$).length&&
$rte$$.removeMacroWithUID($uid$$)})}},fixEmptyTableCells:function($ed$$){var $i$$,$ele$$,$doc$$=$ed$$.getDoc();if(!tinymce.isIE){$ed$$=$doc$$.getElementsByTagName("td");for($i$$=0;$i$$<$ed$$.length;$i$$++)$ele$$=$ed$$[$i$$],0==$ele$$.childNodes.length&&$ele$$.appendChild(this.createMozBR($doc$$));$ed$$=$doc$$.getElementsByTagName("th");for($i$$=0;$i$$<$ed$$.length;$i$$++)$ele$$=$ed$$[$i$$],0==$ele$$.childNodes.length&&$ele$$.appendChild(this.createMozBR($doc$$))}$ed$$=$doc$$.getElementsByTagName("p");
for($i$$=0;$i$$<$ed$$.length;$i$$++)$ed$$[$i$$].style.height=""},removeDuplicateMacros:function($ed$$,$refreshPositionOnly$$,$node$$){this.removeDeletedMacros($ed$$);var $selNode$$=$ed$$.selection.getNode(),$i$$,$ele$$0$$,$rte$$=this.rte;if(null!=$rte$$&&"object"==typeof $rte$$){var $nodesToCheck$$=$j($ed$$.getBody()).find(".jive_text_macro, .jive_macro");for($i$$=$nodesToCheck$$.length;0<=$i$$;$i$$--)if($ele$$0$$=$nodesToCheck$$[$i$$],this.isExactMacro($ele$$0$$)){var $$rteEle$$=$j($ele$$0$$),$macro$$7_offset$$=
$$rteEle$$.offset(),$newRenderedPos_t$$=$macro$$7_offset$$.top,$l$$=$macro$$7_offset$$.left,$h$$=$$rteEle$$.height(),$w$$=$$rteEle$$.width(),$macro$$7_offset$$=this.getMacroFor($ele$$0$$),$newRenderedPos_t$$=$newRenderedPos_t$$+"_"+$l$$+"_"+$w$$+"_"+$h$$;if($$rteEle$$.data("renderedPosition")!=$newRenderedPos_t$$&&null!=$macro$$7_offset$$||null!=$macro$$7_offset$$&&!$refreshPositionOnly$$||null!=$macro$$7_offset$$&&$macro$$7_offset$$.caresAboutChangeTo&&$macro$$7_offset$$.caresAboutChangeTo($rte$$,
$ele$$0$$,$selNode$$))$ele$$0$$.timeout||($macro$$7_offset$$=function($ele$$,$macro$$,$$rteEle$$){return function(){$ele$$.timeout=null;var $offset$$=$$rteEle$$.offset(),$$ele$$=$ed$$.plugins.jivemacros.validateMacroElements($ele$$);!$refreshPositionOnly$$&&$ele$$==$node$$||!$$rteEle$$.data("hasRefreshed")||$macro$$.caresAboutChangeTo&&$macro$$.caresAboutChangeTo($rte$$,$ele$$,$selNode$$)?($macro$$.refresh($rte$$,$ele$$),$$rteEle$$.data("hasRefreshed",!0)):null!=$macro$$&&$macro$$.usesCustomBackground()&&
$macro$$.refreshPosition($rte$$,$ele$$,$$ele$$,$offset$$)}}($ele$$0$$,$macro$$7_offset$$,$$rteEle$$),$ele$$0$$.timeout=$macro$$7_offset$$,setTimeout($macro$$7_offset$$,10),$$rteEle$$.data("renderedPosition",$newRenderedPos_t$$));else break}}},collapseToStart:null,zeroWidthSpace:tinymce.isIE8?"\ufeff":"\u200c",insertAfter:function($par$$,$newNode$$,$refNode$$){return $refNode$$.nextSibling?$par$$.insertBefore($newNode$$,$refNode$$.nextSibling):$par$$.appendChild($newNode$$)},putCursorAfter:function($ed$$,
$node$$){var $rng$$=$ed$$.dom.createRng();if(3==$node$$.nodeType)$rng$$.setStart($node$$,$node$$.nodeValue.length);else if($node$$.nextSibling&&3==$node$$.nextSibling.nodeType)$rng$$.setStart($node$$.nextSibling,0);else{var $text$$=$ed$$.getDoc().createTextNode(this.zeroWidthSpace);$node$$.parentNode.insertBefore($text$$,$node$$.nextSibling);$rng$$.setStart($text$$,this.zeroWidthSpace.length)}$rng$$.collapse(!0);$ed$$.selection.setRng($rng$$)},putCursorBefore:function($ed$$,$node$$){if(null!=$node$$.previousSibling){var $n$$=
$node$$.previousSibling,$indx$$=$ed$$.selection,$range$$;$indx$$.getSel().getRangeAt?$range$$=$indx$$.getSel().getRangeAt(0):($range$$=document.createRange(),$range$$.setStart($indx$$.getSel().anchorNode,$indx$$.getSel().anchorOffset),$range$$.setEnd($indx$$.getSel().focusNode,$indx$$.getSel().focusOffset));for($indx$$=0;3!=$n$$.nodeType&&1==$n$$.nodeType&&$n$$.childNodes&&0!=$n$$.childNodes.length;)$n$$=$n$$.childNodes[$n$$.childNodes.length-1];3==$n$$.nodeType?($indx$$=$n$$.nodeValue.length,$range$$.setStart($n$$,
$indx$$),$range$$.setEnd($n$$,$indx$$),$ed$$.selection.setRng($range$$)):($ed$$.selection.select($n$$),$ed$$.selection.collapse(!0))}},isLastNodeOf:function($sel$$,$node$$,$par$$){return 0<$node$$.childNodes.length&&3==$node$$.childNodes[$node$$.childNodes.length-1].nodeType&&$sel$$.getRng(!0).startContainer!=$node$$.childNodes[$node$$.childNodes.length-1]?!1:$node$$==$par$$?!0:null!=$node$$.nextSibling?!1:this.isLastNodeOf($node$$.parentNode,$par$$)},isFirstNodeOf:function($sel$$,$node$$,$par$$){return 0<
$node$$.childNodes.length&&3==$node$$.childNodes[0].nodeType&&$sel$$.getRng(!0).startContainer!=$node$$.childNodes[0]?!1:$node$$==$par$$?!0:null!=$node$$.previousSibling?!1:this.isLastNodeOf($node$$.parentNode,$par$$)},killYourself:function(){clearInterval(this.intervalId)},setRTE:function($rte$$){this.rte=$rte$$;this.completeInit()},completeInit:function(){if(this.ed&&this.rte&&!this.initialized){this.initialized=!0;var $that$$=this,$ed$$0$$=this.ed;$ed$$0$$.plugins.jivelists&&$ed$$0$$.plugins.jivelists.onBeforeFixLists.add(function(){$that$$.fixBodyParagraphs()});
$ed$$0$$.plugins.paste&&$ed$$0$$.plugins.paste.onPasteComplete.add(function(){$that$$.fixBodyParagraphs()});setTimeout(function(){$that$$.intervalId=setInterval(function(){try{if($ed$$0$$.destroyed)clearInterval($that$$.intervalId);else if($ed$$0$$.selection){var $node$$=$ed$$0$$.selection.getNode(),$y$$=$ed$$0$$.getWin().scrollY,$theNode$$=$that$$.isMacro($node$$);$node$$!=$that$$.lastNodeChanged&&$theNode$$?$that$$.removeDuplicateMacros($ed$$0$$,!1,$theNode$$):$y$$!=$that$$.lastScrollY&&$that$$.removeDuplicateMacros($ed$$0$$,
!0);$that$$.lastNodeChanged=$node$$;$that$$.lastScrollY=$y$$}}catch($e$$){console.log("Error in jivemacros setInterval",$e$$)}},300)},333);$ed$$0$$.onMouseUp.add(function($ed$$,$e$$){var $body$$=$e$$.target;if($ed$$.selection.isCollapsed()&&"html"==$body$$.nodeName.toLowerCase()){if($body$$=$ed$$.getBody())for(0==$body$$.childNodes.length&&$that$$.fixBodyParagraphs();1==$body$$.nodeType&&$body$$.childNodes.length;)$body$$=$body$$.childNodes[$body$$.childNodes.length-1];$ed$$.selection.select($body$$);
1==$body$$.nodeType&&"br"==$body$$.nodeName.toLowerCase()?$ed$$.selection.collapse(!0):$ed$$.selection.collapse()}});if($ed$$0$$.plugins.jivecontextmenu){var $contextMenu$$=$ed$$0$$.plugins.jivecontextmenu,$removeMacroItem_removeMacroMenu_textMacroItem$$=new $contextMenu$$.MenuItem("removeTextMacro",null,$ed$$0$$.getLang("jivemacros.unquote"),{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/iconmaster.gif",xOffset:12,yOffset:86,width:13,height:11},"mceDeleteJiveMacro"),$removeMacroItem_removeMacroMenu_textMacroItem$$=
new $contextMenu$$.Menu([$removeMacroItem_removeMacroMenu_textMacroItem$$],!0,!1,$ed$$0$$.getLang("jivemacros.macro.quote")),$removeMacroItem_removeMacroMenu_textMacroItem$$=new $contextMenu$$.MenuItem("textMacroItem",/pre/i,null,{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/iconmaster.gif",xOffset:58,yOffset:0,width:25,height:22},$removeMacroItem_removeMacroMenu_textMacroItem$$);$contextMenu$$.addRootItem($removeMacroItem_removeMacroMenu_textMacroItem$$)}$ed$$0$$.plugins.contextmenu&&
$ed$$0$$.plugins.contextmenu.onContextMenu.add(function($th$$,$m$$){var $isHTML_sm$$,$el$$1_macro$$=$ed$$0$$.selection.getNode()||$ed$$0$$.getBody(),$macroEle$$1_paramSets$$=$ed$$0$$.dom.getParent($el$$1_macro$$,function($ele$$){return $ele$$==$ed$$0$$.getBody()||$that$$.isExactMacro($ele$$)});$that$$.isExactMacro($macroEle$$1_paramSets$$)||($macroEle$$1_paramSets$$=null);var $el$$1_macro$$=null,$index$$=-1;$isHTML_sm$$=!1;if(null!=$macroEle$$1_paramSets$$)for(var $i$$=0;$i$$<jive.rte.macros.length;$i$$++)jive.rte.macros[$i$$].getName()==
$macroEle$$1_paramSets$$.attributes.jivemacro.value&&($el$$1_macro$$=jive.rte.macros[$i$$],$index$$=$i$$,"code"==$el$$1_macro$$.getName()&&"html"==$macroEle$$1_paramSets$$.attributes.___default_attr.value&&($isHTML_sm$$=!0));window.jiveRTE={};window.jiveRTE.macroEle=$macroEle$$1_paramSets$$;if(null!=$el$$1_macro$$)if($that$$.macro=$el$$1_macro$$,$m$$.removeAll(),"a"==$macroEle$$1_paramSets$$.nodeName.toLowerCase()&&("document"==$el$$1_macro$$.getName()||"blogpost"==$el$$1_macro$$.getName()||"thread"==
$el$$1_macro$$.getName()||"message"==$el$$1_macro$$.getName()||"blog"==$el$$1_macro$$.getName()||"community"==$el$$1_macro$$.getName()||"space"==$el$$1_macro$$.getName()||"user"==$el$$1_macro$$.getName()||"project"==$el$$1_macro$$.getName()||"task"==$el$$1_macro$$.getName()||"group"==$el$$1_macro$$.getName()))$m$$.add({title:"jivemacros.unlink",cmd:"mceDeleteJiveMacro"});else{$macroEle$$1_paramSets$$=$el$$1_macro$$.getParameterSets();if(1<$macroEle$$1_paramSets$$.length&&("code"!=$el$$1_macro$$.getName()||
!$isHTML_sm$$)){$i$$=$ed$$0$$.getLang("jivemacros.macro."+$el$$1_macro$$.getName()+".presets","jivemacros.presets");$isHTML_sm$$=$m$$.addMenu({title:$i$$,max_height:"200","class":"mceDropDown defaultSkin mceMacroMenu mceListBoxMenu",icon:"jiveMacroPreset"});for($i$$=0;$i$$<$macroEle$$1_paramSets$$.length;$i$$++)if("code"!=$el$$1_macro$$.getName()||"html"!=$macroEle$$1_paramSets$$[$i$$].name){var $preset_name$$=$ed$$0$$.getLang("jivemacros.macro."+$el$$1_macro$$.getName()+".preset."+$macroEle$$1_paramSets$$[$i$$].name,
$macroEle$$1_paramSets$$[$i$$].name);$isHTML_sm$$.add({title:$preset_name$$,cmd:"mceMacroParamSet"+$index$$+"_"+$i$$,icon:"jiveMacro_"+$el$$1_macro$$.getName()+"_"+$macroEle$$1_paramSets$$[$i$$].name})}}0<$el$$1_macro$$.getAllowedParameters().length&&$el$$1_macro$$.isShowSettings()&&$m$$.add({title:"jivemacros.properties",icon:"jiveMacroProperties",cmd:"mceEditJiveMacro",ui:!0});$m$$.add({title:"jivemacros.remove",icon:"jiveMacroDelete",cmd:"mceDeleteJiveMacro",ui:!0})}else this.macro=null})}},init:function($ed$$0$$,
$url$$){this.url=$url$$;this.ed=$ed$$0$$;this.emoticon=$ed$$0$$.plugins.jiveutil.findMacro("emoticon");var $t$$=this,$textIsSelected$$=!1;$ed$$0$$.onKeyUp.addToTop(function($ed$$){$textIsSelected$$=!$ed$$.selection.isCollapsed()},this);$ed$$0$$.onMouseUp.addToTop(function($ed$$){$textIsSelected$$=!$ed$$.selection.isCollapsed()},this);$ed$$0$$.onKeyUp.addToTop(function($ed$$,$e$$){$textIsSelected$$&&(8==$e$$.keyCode||46==$e$$.keyCode)&&$ed$$.undoManager.add(!1,!0)},this);$ed$$0$$.addCommand("mceJiveMacros",
function(){this.controlManager.get("jivemacros").showMenu()});var $scrollHander$$=function $$scrollHander$$$($scrollX$$,$scrollY$$){$t$$.rte&&$t$$.rte.scrollRichContent($scrollX$$,$scrollY$$)};$ed$$0$$.onScroll&&$ed$$0$$.onScroll.addToTop($scrollHander$$,this);$ed$$0$$.plugins.jivescroll&&$ed$$0$$.onInit.add(function($ed$$){$scrollHander$$($ed$$.plugins.jivescroll.lastScrollX,$ed$$.plugins.jivescroll.lastScrollY)},this);$ed$$0$$.addCommand("mceEditJiveMacro",function(){var $ed$$=tinyMCE.activeEditor,
$macro$$=$ed$$.plugins.jivemacros.macro,$height$$=28*$macro$$.getAllowedParameters().length+88;0<$macro$$.getUrl().length?(window.jiveRTE={},window.jiveRTE.macro=$macro$$,window.jiveRTE.node=$ed$$.dom.getParent($ed$$.selection.getNode(),$ed$$.plugins.jivemacros.isExactMacro),$ed$$.windowManager.open({url:CS_BASE_URL+$macro$$.getUrl(),width:500,height:400,inline:1},{macro:$macro$$})):$ed$$.windowManager.open({url:CS_BASE_URL+"/resources/scripts/tiny_mce3/plugins/jivemacros/macro.htm",width:400,height:$height$$,
inline:1},{plugin_url:$url$$,macro:$macro$$,cs_resource_base_url:CS_RESOURCE_BASE_URL})});$ed$$0$$.addCommand("mceDeleteJiveMacro",function(){var $ed$$=tinyMCE.activeEditor;this.deleteMacro($ed$$,$ed$$.selection.getNode())},this);this.initialized=!1;$ed$$0$$.onSetContent.add(function($ed$$){this.initialized&&(this.fixBodyParagraphs(),this.fixEmptyTableCells($ed$$),$ed$$.nodeChanged())},this);$ed$$0$$.onInit.add(this.completeInit,this);$ed$$0$$.onEvent.add(function($ed$$){return function(){$ed$$.plugins.jivemacros.removeDeletedMacros($ed$$)}}($ed$$0$$));
$ed$$0$$.onNodeChange.add(this.nodeChanged,this);$ed$$0$$.onPostProcess.add($ed$$0$$.nodeChanged);$ed$$0$$.onExecCommand.add(function($ed$$,$cmd$$){switch($cmd$$){case "mceTableSplitCells":case "mceTableMergeCells":case "mceTableInsertRowBefore":case "mceTableInsertRowAfter":case "mceTableDeleteRow":case "mceTableInsertColBefore":case "mceTableInsertColAfter":case "mceTableDeleteCol":case "mceTableCutRow":case "mceTablePasteRowBefore":case "mceTablePasteRowAfter":case "mceTableRowUp":case "mceTableRowDown":case "mceTableColLeft":case "mceTableColRight":$ed$$.plugins.jivemacros.lastNodeChanged=
null}});$ed$$0$$.onKeyPress.addToTop(function($ed$$,$evt$$){(null!=this.collapseToEnd||null!=this.collapseToStart)&&tinymce.dom.Event.cancel($evt$$);if(null==$evt$$.which||0!=$evt$$.which||8==$evt$$.keyCode||46==$evt$$.keyCode){var $mac$$=this.isMacro($ed$$.selection.getNode());$mac$$&&$ed$$.dom.setAttrib($mac$$,"_modifiedtitle","true")}$ed$$.selection.lastSelected=$ed$$.selection.getNode()},this);$ed$$0$$.onKeyDown.addToTop(function($ed$$,$evt$$){(8==$evt$$.keyCode||46==$evt$$.keyCode)&&!$ed$$.selection.isCollapsed()&&
$ed$$.undoManager.add(!1,!0);var $rng$$4_sel$$=$ed$$.selection,$pre$$=$ed$$.dom.getParent($rng$$4_sel$$.getNode(),"pre");if(8==$evt$$.keyCode&&($rng$$4_sel$$.isCollapsed()&&$pre$$)&&($ed$$.selectionUtil.atStartOf($pre$$)||$ed$$.selectionUtil.isEffectivelyEmpty($pre$$))){$ed$$.undoManager.add(!1,!0);var $bm$$=$rng$$4_sel$$.getBookmark();$ed$$.dom.remove($pre$$,!0);$rng$$4_sel$$.moveToBookmark($bm$$);$ed$$.undoManager.add(!1,!0);tinymce.dom.Event.cancel($evt$$)}$rng$$4_sel$$.lastSelected=$rng$$4_sel$$.getNode();
0<$ed$$.getBody().childNodes.length&&(this.before=$rng$$4_sel$$.getNode(),13==$evt$$.keyCode&&$pre$$&&(tinymce.isIE&&!tinymce.isIE9)&&(tinymce.dom.Event.cancel($evt$$),$rng$$4_sel$$=$rng$$4_sel$$.getSel().createRange(),$rng$$4_sel$$.text="\n ",$rng$$4_sel$$.select()))},this);$ed$$0$$.onKeyUp.add(function($ed$$,$evt$$){var $p$$3_sel$$=$ed$$.selection,$br_node$$=$p$$3_sel$$.getNode();$br_node$$&&("body"==$br_node$$.nodeName.toLowerCase()&&!$evt$$.ctrlKey&&!$evt$$.altKey&&!$evt$$.shiftKey&&!$evt$$.metaKey&&
91!=$evt$$.keyCode&&92!=$evt$$.keyCode&&17!=$evt$$.keyCode&&18!=$evt$$.keyCode)&&(this.typingInBody=!0,this.fixBodyParagraphs());if(8==$evt$$.keyCode||46==$evt$$.keyCode){var $after_isFirst_mac$$=this.isMacro($br_node$$);$after_isFirst_mac$$&&$ed$$.dom.setAttrib($after_isFirst_mac$$,"_modifiedtitle","true")}$ed$$.plugins.jivemacros.removeDuplicateMacros($ed$$,!1,this.isMacro($br_node$$));if(90==$evt$$.keyCode&&($evt$$.ctrlKey||$evt$$.metaKey)&&$br_node$$&&"body"==$br_node$$.nodeName.toLowerCase()&&
$ed$$.selection.lastSelected&&"body"!=$ed$$.selection.lastSelected.nodeName.toLowerCase())$after_isFirst_mac$$=$ed$$.selection.lastSelected,$after_isFirst_mac$$.childNodes.length?($after_isFirst_mac$$=$after_isFirst_mac$$.childNodes[$after_isFirst_mac$$.childNodes.length-1],$ed$$.selection.select($after_isFirst_mac$$),$ed$$.selection.collapse(!0)):($ed$$.selection.select($after_isFirst_mac$$),$ed$$.selection.collapse());if(null!=this.collapseToStart)this.putCursorBefore($ed$$,this.collapseToStart),
tinymce.dom.Event.cancel($evt$$),this.collapseToStart=null;else if(null!=this.collapseToEnd)this.putCursorAfter($ed$$,this.collapseToEnd),tinymce.dom.Event.cancel($evt$$),this.collapseToEnd=null;else{if(null!=this.before&&(39==$evt$$.keyCode||40==$evt$$.keyCode))if($after_isFirst_mac$$=$ed$$.dom.getParent($br_node$$,"PRE"),"PRE"!=this.before.tagName&&$after_isFirst_mac$$&&1==this.before.childNodes.length&&"BR"==this.before.childNodes[0].tagName){var $isMacro_par$$=$ed$$.dom.getParent(this.before,
function($node$$){return function($x$$){return $x$$==$ed$$.getBody()||$x$$!=$node$$}}(this.before));$isMacro_par$$.childNodes[0]==this.before&&($isMacro_par$$.removeChild(this.before),this.before=$after_isFirst_mac$$,$ed$$.nodeChanged(!1,!0))}$ed$$.plugins.jiveemoticons.encodeSmileys($ed$$,$br_node$$);if(37==$evt$$.keyCode||38==$evt$$.keyCode)if($br_node$$=$ed$$.dom.getParent($p$$3_sel$$.getNode(),function($ele$$){return $ed$$.plugins.jivemacros.isExactMacro($ele$$)},$ed$$.getBody())){var $after_isFirst_mac$$=
this.isFirst($ed$$.getBody(),$br_node$$),$isMacro_par$$=this.isMacro($br_node$$),$isFrontOfPre$$=0==$p$$3_sel$$.getBookmark(BOOKMARKTYPE).start||0==$p$$3_sel$$.getRng(!0).startOffset;if($after_isFirst_mac$$&&$isMacro_par$$&&$isFrontOfPre$$&&$p$$3_sel$$.isCollapsed())return 37==$evt$$.keyCode&&!$ed$$.dom.isBlock($br_node$$)?$br_node$$.parentNode.insertBefore($ed$$.getDoc().createTextNode(""),$br_node$$):($p$$3_sel$$=$ed$$.getDoc().createElement("P"),$br_node$$=$ed$$.getDoc().createElement("BR"),$p$$3_sel$$.appendChild($br_node$$),
$ed$$.getBody().insertBefore($p$$3_sel$$,$ed$$.getBody().childNodes[0]),$ed$$.nodeChanged(!1,!0)),!0}}},this)},getInfo:function(){return{longname:"Jive Macros",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}},generateMacroMenu:function($m$$,$index$$){var $ed$$=tinyMCE.activeEditor,$macro$$=jive.rte.macros[$index$$],$paramSets$$=$macro$$.getParameterSets(),$macro_name_sm$$=$ed$$.getLang("jivemacros.macro."+
$macro$$.getName(),$macro$$.getName());if(1<$paramSets$$.length)for(var $macro_name_sm$$=$m$$.addMenu({title:$macro_name_sm$$,max_height:"200","class":"mceDropDown defaultSkin mceMacroMenu mceListBoxMenu",icon:"jiveMacro_"+$macro$$.getName()}),$i$$=0;$i$$<$paramSets$$.length;$i$$++){var $preset_name$$=$ed$$.getLang("jivemacros.macro."+$macro$$.getName()+".preset."+$paramSets$$[$i$$].name,$paramSets$$[$i$$].name);"html"==$paramSets$$[$i$$].name&&"code"==$macro$$.getName()?$m$$.add({cmd:"mceAddJiveMacro"+
$index$$+"_"+$i$$,title:$preset_name$$,max_height:"200",icon:"jiveMacro_"+$macro$$.getName()}):$macro_name_sm$$.add({title:$preset_name$$,cmd:"mceAddJiveMacro"+$index$$+"_"+$i$$,icon:$macro$$.getName()+"_"+$paramSets$$[$i$$].name})}else 1==$paramSets$$.length?($preset_name$$=$ed$$.getLang("jivemacros.macro."+$macro$$.getName()+".preset."+$paramSets$$[0].name,$paramSets$$[0].name),$m$$.add({cmd:"mceAddJiveMacro"+$index$$,title:$preset_name$$,max_height:"200",icon:"jiveMacro_"+$macro$$.getName()})):
$m$$.add({cmd:"mceAddJiveMacro"+$index$$,title:$macro_name_sm$$,max_height:"200",icon:"jiveMacro_"+$macro$$.getName()})},createControl:function($n$$,$cm$$){switch($n$$){case "jivemacros":for(var $c_macro_name$$=$cm$$.createSplitButton("jivemacros",{title:"jivemacros.add",cmd:"mceJiveMacros"}),$j$$0$$=0;$j$$0$$<jive.rte.macros.length;$j$$0$$++)jive.rte.macros[$j$$0$$].isShowInMacroList()&&("emoticon"!=jive.rte.macros[$j$$0$$].getName()&&!jive.rte.macros[$j$$0$$].isButton())&&$c_macro_name$$.onRenderMenu.add(function($j$$){return function($c$$,
$m$$){tinyMCE.activeEditor.plugins.jivemacros.generateMacroMenu($m$$,$j$$)}}($j$$0$$));return $c_macro_name$$;case "extra":for(var $ed$$=tinyMCE.activeEditor,$j$$0$$=0;$j$$0$$<jive.rte.macros.length;$j$$0$$++)if(jive.rte.macros[$j$$0$$].isShowInMacroList()&&"emoticon"!=jive.rte.macros[$j$$0$$].getName()&&jive.rte.macros[$j$$0$$].isButton()){var $macro$$=jive.rte.macros[$j$$0$$],$paramSets$$=$macro$$.getParameterSets(),$c_macro_name$$=$ed$$.getLang("jivemacros.macro."+$macro$$.getName(),$macro$$.getName());
1<$paramSets$$.length?($c_macro_name$$=$cm$$.createSplitButton("extra",{title:$c_macro_name$$,image:"../jscripts/tiny_mce/plugins/example/img/example.gif",icon:"jiveMacro_"+$macro$$.getName(),cmd:"mceAddJiveMacro"+$j$$0$$}),$c_macro_name$$.onRenderMenu.add(function($j$$){return function($c$$,$m$$){for(var $i$$=0;$i$$<$paramSets$$.length;$i$$++){var $preset_name$$=$ed$$.getLang("jivemacros.macro."+$macro$$.getName()+".preset."+$paramSets$$[$i$$].name,$paramSets$$[$i$$].name);$m$$.add({title:$preset_name$$,
cmd:"mceAddJiveMacro"+$j$$+"_"+$i$$,icon:$macro$$.getName()+"_"+$paramSets$$[$i$$].name})}}}($j$$0$$))):$c_macro_name$$=$cm$$.createButton("extra",{title:$c_macro_name$$,cmd:"mceAddJiveMacro"+$j$$0$$,icon:"jiveMacro_"+$macro$$.getName()});return $c_macro_name$$}}return null}});tinymce.PluginManager.add("jivemacros",tinymce.plugins.JiveMacrosPlugin)})();
;
tinyMCE.addI18n('en.jivemacros',{
    unlink : "Unlink",
    add : 'Insert',
    remove : 'Remove',
    unquote : 'Unquote',
    properties : 'Settings',
    title : 'Settings',
    presets : 'Presets',
    save: "Save",
    params : 'Parameters',
    'macro.toc': "Table of Contents",
    'macro.quote': "Quote",
    'macro.user': "User",
    'macro.youtube': "YouTube",
    'macro.youtube.attr.__default_attr': "URL or Video ID",
    'macro.youtube.attr.width': "Width",
    'macro.youtube.attr.height': "Height",
    'macro.code': "Syntax Highlighting",
    'macro.code.presets': "Format",
    'macro.code.attr.__default_attr': "Format",
    'macro.code.preset.plain': "Plain",
    'macro.code.preset.sql': "SQL",
    'macro.code.preset.java': "Java",
    'macro.code.preset.html': "Insert Raw HTML",
    'macro.code.preset.xml': "XML",
    'macro.emoticon.presets': "Emoticons",
    'macro.emoticon.preset.angry': "Angry",
    'macro.emoticon.preset.blush': "Blush",
    'macro.emoticon.preset.confused': "Confused",
    'macro.emoticon.preset.cool': "Cool",
    'macro.emoticon.preset.cry': "Cry",
    'macro.emoticon.preset.devil': "Devil",
    'macro.emoticon.preset.grin': "Grin",
    'macro.emoticon.preset.happy': "Happy",
    'macro.emoticon.preset.laugh': "Laugh",
    'macro.emoticon.preset.love': "Love",
    'macro.emoticon.preset.mischief': "Mischief",
    'macro.emoticon.preset.plain': "Plain",
    'macro.emoticon.preset.sad': "Sad",
    'macro.emoticon.preset.shocked': "Shocked",
    'macro.emoticon.preset.silly': "Silly",
    'macro.emoticon.preset.wink': "Wink",
    'macro.emoticon.preset.info': "Info",
    'macro.emoticon.preset.plus': "Plus",
    'macro.emoticon.preset.minus': "Minus",
    'macro.emoticon.preset.alert': "Alert",
    'macro.emoticon.preset.check': "Check",
    'macro.emoticon.preset.x': "X"
});

;
tinyMCE.addI18n('en.jivemacros',{
    add : 'Insert',
    remove : 'Remove',
    properties : 'Settings',
    title : 'Settings',
    params : 'Parameters',
    presets : 'Presets',
    save: "Save"
});

;
(function(){var b=tinymce.DOM;var a={pdf:"acrobat",zip:"compressed",tgz:"compressed",tar:"compressed",gz:"compressed",bz2:"compressed",jar:"compressed",doc:"document",docx:"document",htm:"document",html:"document",rtf:"document",odt:"document",png:"image",gif:"image",jpg:"image",tiff:"image",ppt:"presentation",pptx:"presentation",odp:"presentation",xls:"spreadsheet",xlsx:"spreadsheet",ods:"spreadsheet",txt:"text",swf:"video",wmv:"video",mov:"video"};tinymce.create("tinymce.plugins.JiveAttachmentPlugin",{rte:null,initialized:false,button:null,attachmentBlock:null,setRTE:function(c){this.rte=c;this.completeInit()},completeInit:function(){if(this.rte&&this.ed&&!this.initialized&&this.rte.getAttachmentService()){this.initialized=true;var c=this.ed,d=this;this.button=b.create("div",{"class":"gutterButton attachmentButton",tabindex:"0"});var e=b.create("label",{style:"height: 12px;"},c.getLang("jiveattachment.button_label"));e.insertBefore(b.create("span",{"class":"jive-icon-med jive-icon-attachment"}),e.firstChild);this.button.appendChild(e);this.attachmentBlock=b.create("div",{"class":"js-attachment-block jive-attachments"});this.rte.getGutter().appendChild(this.button);this.rte.getBelowEditorArea().appendChild(this.attachmentBlock);this._refresh()}},init:function(c){this.ed=c},_setHasAttachments:function(c){if(c){$j(".jive-icon-attachment",this.button).addClass("green");$j(this.attachmentBlock).show();$j(this.attachmentBlock).find(".js-attachment-button-label").focus()}else{$j(".jive-icon-attachment",this.button).removeClass("green");$j(this.attachmentBlock).hide()}this.rte.autoReposition()},_refresh:function(){function c(e){if(e){var g=e.substr(e.lastIndexOf(".")+1).toLowerCase();var f=a[g]}return f||"generic"}var d=this;this.rte.getAttachmentService().getRestrictions().addCallback(function(e){d.getAttachments().addCallback(function(f){for(var g=0;g<f.length;++g){f[g].doctype=c(f[g].filename)}d.attachmentBlock.innerHTML=jive.rte.attachment.attachmentBlock({restrictions:e,attachments:f});d._setHasAttachments(f.length>0);$j("a.js-attachment-remove",d.attachmentBlock).each(function(j,i){$j(i).click(function(){d.removeAttachment(f[j]).addCallback(function(){d._refresh()});return false})});$j(".js-attachment-button-label",d.attachmentBlock).click(function(){$j(".js-attachment-list",d.attachmentBlock).toggle();return false});if(e.hasAttachPerms&&f.length<e.maxFiles){var h=$j(d.button).show();d._initAttachmentButton();h.css("position","static");setTimeout(function(){h.css("position","")},0)}else{$j(d.button).hide()}})})},_initAttachmentButton:function(){var d=this;var c=$j("input[type='file']",this.button);if(c.length==0){c=$j(this._createFileInput())}else{this.button.innerHTML=this.button.innerHTML;c=$j("input[type='file']",this.button)}var e=$j("label",this.button);e.append(c);c.unbind("change");c.attr("id",this.ed.id+"_attach").css({position:"fixed",opacity:0,display:"block",top:0,left:0,width:"100%",height:"100%","z-index":1}).change(function(f){d.addAttachment({elem:c}).always(function(){d._refresh()})}).focus(function(){c.parent().addClass("focused")}).blur(function(){c.parent().removeClass("focused")});if(tinymce.isIE7){c.css({width:"60px",height:"19px"})}if(this.exists){c.focus()}else{this.exists=true}c.css("position","absolute")},_createFileInput:function(){return b.create("input",{type:"file"})},getAttachments:function(){return this.rte.getAttachmentService().findAll()},addAttachment:function(d){var c=this.rte.getAttachmentService();return c.save(d)},removeAttachment:function(d){var c=this.rte.getAttachmentService();return c.destroy(d)},getInfo:function(){return{longname:"Jive Attachment",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}}});tinymce.PluginManager.add("jiveattachment",tinymce.plugins.JiveAttachmentPlugin)})();
;
tinyMCE.addI18n('en.jiveattachment',{
    button_label : 'Attach',
    removeAttachmentButton : 'Remove'
});
;
(function(){tinymce.create("tinymce.plugins.JiveEmoticonsPlugin",{before:null,encodeSmileys:function(c,b){var d=this;var h=c.getDoc();var e=null;function g(m){var n=h.createElement("IMG");n.setAttribute("class","jive_macro jive_emote");n.setAttribute("jivemacro","emoticon");n.setAttribute("___jive_emoticon_name",m);n.setAttribute("src",window.CS_RESOURCE_BASE_URL+"/images/emoticons/"+m+".png");n.setAttribute("data-mce-src",window.CS_RESOURCE_BASE_URL+"/images/emoticons/"+m+".png");n.removeAttribute("width");n.removeAttribute("height");return n}var j=new RegExp("^(?:[^\\S]|\\xA0)?$");function l(n){function m(u,t,p){var o=u.length;if(j.test(p.substring(t-1,t))&&j.test(p.substring(t+o,t+o+1))){var q=d.emoticonMap[u];var r=p.substring(m.lastIndex,t);m.lastIndex=t+o;n.appendChild(h.createTextNode(r));n.appendChild(g(q[1]));return""}return u}m.lastIndex=0;return m}var k=false;function a(t){var s=c.plugins.jivemacros.isMacro(t);if(s&&$j(s).attr("jivemacro")=="code"){return 1}if(t.nodeType==1){for(var p=0;p<t.childNodes.length;){p+=a(t.childNodes[p])}}else{if(t.nodeType==3){var r=h.createDocumentFragment();d.testForAnyEmoticon.lastIndex=0;var o=l(r);t.nodeValue.replace(d.testForAnyEmoticon,o);if(r.childNodes.length>0){var q=t.nodeValue.substr(o.lastIndex);r.appendChild(h.createTextNode(q));var m=r.childNodes.length;t.parentNode.replaceChild(r,t);k=true;return m}}}return 1}if(b!=null&&this.testForAnyEmoticon.test(b.innerHTML)){var i=true;try{if(!tinymce.isIE||c.selection.isCollapsed()){i=c.selectionUtil.isForwardSelection();e=c.selection.getBookmark()}}catch(f){console.log("could not bookmark selection for emoticon",f)}c.selection.setRng(c.selectionUtil.safeNormalize(c.selection.getRng(true),b));a(b);if(e!=null){c.selection.moveToBookmark(e);if(!i){c.selectionUtil.setSelection(c.selection.getRng(true),i)}}}},nodeChanged:function(a){if(this.before==null){this.before=a.selection.getNode()}this.encodeSmileys(a,this.before);this.before=a.selection.getNode()},init:function(a,b){var d=[[":)","happy",":\\)"],[":^0","laugh",":^0"],[":0","laugh",":0"],[":p","silly",":p"],[":P","silly",":P"],[";)","wink",";\\)"],[":|","plain",":\\|"],["X-(","angry","X\\-\\("],[":8}","blush",":8}"],[":?","confused",":\\?"],["B-)","cool","B-\\)"],[":'(","cry",":'\\("],["]:)","devil","\\]:\\)"],[":D","grin",":D"],[":x","love",":x"],[";\\","mischief",";\\\\"],[":(","sad",":\\("],[":o","shocked",":o"],["(i)","info","\\(i\\)"],["(+)","plus","\\(\\+\\)"],["(-)","minus","\\(\\-\\)"],["(!)","alert","\\(!\\)"],["(/)","check","\\(/\\)"],["(x)","x","\\(x\\)"]];var e={};d.forEach(function(f){e[f[0]]=f});this.emoticonMap=e;var c=d.map(function(f){return f[f.length-1]}).join("|");this.testForAnyEmoticon=new RegExp("(?:"+c+")","g");if(tinymce.isOpera||/Firefox\/2/.test(navigator.userAgent)){a.onKeyDown.add(function(f,g){if(((tinymce.isMac?g.metaKey:g.ctrlKey)&&g.keyCode==86)||(g.shiftKey&&g.keyCode==45)){setTimeout(function(i,h){return function(){i.encodeSmileys(h,h.getBody())}}(this,f),33)}},this)}else{a.onPaste.addToTop(function(f,g){setTimeout(function(i,h){return function(){i.encodeSmileys(h,h.getBody())}}(this,f),33)},this)}},execCommand:function(e,d,f){if(e=="mceJiveEmoticon"){var a=tinyMCE.activeEditor.controlManager;var c=a.get("jiveemoticons");c.showMenu();return true}if(e=="insertHTML"||e=="mceInsertContent"){var b=tinyMCE.activeEditor;setTimeout(function(h,g){return function(){h.encodeSmileys(g,g.getBody())}}(this,b),0)}return false},getInfo:function(){return{longname:"Emoticons",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}},createControl:function(d,a){switch(d){case"jiveemoticons":var b=a.createSplitButton("jiveemoticons",{title:"jiveemoticons.desc",cmd:"mceJiveEmoticon"});b.onRenderMenu.add(function(o,e){var f=tinyMCE.activeEditor;for(var g=0;g<jive.rte.macros.length;g++){var l=jive.rte.macros[g];if(l.isShowInMacroList()&&l.getName()=="emoticon"){var n=l.getParameterSets();for(var h=0;h<n.length;h++){var k=f.getLang("jivemacros.macro."+l.getName()+".preset."+n[h].name,n[h].name);e.add({title:k,cmd:"mceAddJiveMacro"+g+"_"+h,icon:"jiveMacro_"+l.getName()+"_"+n[h].name})}break}}});return b}return null}});tinymce.PluginManager.add("jiveemoticons",tinymce.plugins.JiveEmoticonsPlugin)})();
;
(function(){var f=$j;function i(m,l){return m.substr(0,l.length)==l}function a(m,n){var l=f.Deferred(),o=m.getDoc();require(["apps/microblogging/link_builder"],function(v){var s=v.objectRef(n,Function.prototype.bind.call(o.createElement,o,"a"));var u=s.attr("data-id");var t=s.attr("data-type");var q=s.data("type")==="tag"?u:null;var p=q?"tag":e(t);var r=h(t);s.attr("href","javascript:;");s.attr("data-objectType",r);s.attr("jivemacro",p);s.addClass("jive_macro jive_macro_"+p);if(!q){s.attr("___default_attr",u)}if(q){s.attr("_tag",q)}l.resolve(s.get(0))});return l.promise()}function e(l){return jive.global.typeToMacroName[l]}function h(l){return jive.global.typeToNumeric[l]}function c(l,n,m,o){require(["jive/promise_util"],function(p){n._actionQueue.push(p.whenAll(n._data.defaultData())).then(function(r){var q=n.positionThePopUp(l,m,o);n._lastData=r;n._dd.renderDefaultList({sections:r.filter(function(s){return s.list.length>0})},{contextBox:q})})})}function j(l,p,n,q,o){var m=p._data.search(o);p._dataGroup=(p._dataGroup||0)+1;m.forEach(function(r){p._actionQueue.push(r,p._dataGroup).then(g.bind(null,p)).then(function(t){var s=p.positionThePopUp(l,n,q);p._dd.renderSearchData(t,{contextBox:s})})})}function g(m,l){if(!m._lastData){m._lastData=[{type:"people",list:[]},{type:"places",list:[]},{type:"content",list:[]}]}m._lastData=m._lastData.map(function(n){return n.type===l.type?l:n});return{sections:m._lastData.filter(function(n){return n.list.length>0})}}var d={triggerChar:"@",search:function k(l,p,n,q,o){var m=o.length<2?c:j;m(l,p,n,q,o)},select:function(m,o,n){var l=o.ed;if(m.data("command")==="more"){o._dd.expand(m);l.focus()}else{a(l,m).then(function(p){o.replaceSearchText(l,o.lastInfo.node,o.lastInfo.offset,p,n);l.focus()})}}};var b={triggerChar:"#",search:function k(l,p,n,q,o){var m=p._data.tags(o);p._actionQueue.push(m).then(function(s){var r=p.positionThePopUp(l,n,q);p._dd.renderTagsData(s,f.trim(o),{contextBox:r})})},select:function(m,o,n){var l=o.ed;a(l,m).then(function(p){o.replaceSearchText(l,o.lastInfo.node,o.lastInfo.offset,p,n);l.focus()})}};tinymce.create("tinymce.plugins.JiveMentionsPlugin",{rte:null,lastInfo:null,lastPosition:null,cancelTheKey:false,ajax:null,outerDom:null,searchTextRegex:null,beforeMentionRegex:null,mentionTypes:null,allTriggerChars:"",setRTE:function(l){this.rte=l;this.completeInit()},positionThePopUp:function(u,p,q){var t=$j(p.parentNode).offset();var z=$j("<div></div>");z.css("position","absolute");z.css("left",t.left);z.css("top",t.top);var v;if(p.parentNode.nodeName.toLowerCase()=="body"){v=$j("<div></div>").text($j(p.parentNode).text())}else{v=u.plugins.jiveutil.clone($j(p.parentNode),window.parent.document)}v.css("visibility","hidden");v.css("margin","0");v.width($j(p.parentNode).width());z.append(v);this.rte.getHiddenContainer().append(z);var l=u.dom.createRng();l.setStart(p.parentNode,0);l.setEnd(p,q);var r=l.toString().replace(/(\s|\u00a0)+$/,"");var y=v.get(0);var x=this.outerDom.createRng();x.setStart(y,0);var o=y.firstChild;while(o){x.setEndAfter(o);var w=x.toString().replace(/(\s|\u00a0)+$/,"");if(i(w,r)){while(x.toString().replace(/(\s|\u00a0)+$/,"")!=r){var n=this._prevCharPos(u.selectionUtil.endPos(x));x.setEnd(n.c,n.off)}x.collapse(false);var m=this.outerDom.create("span",null,"|");x.insertNode(m);v.width($j(p.parentNode).width()+$j(m).width()+10);this.lastPosition=t;var s=f.extend({},$j(m).offset(),{width:$j(m).outerWidth(),height:$j(m).outerHeight()});z.remove();return s}o=o.nextSibling}z.remove();return this.lastPosition},hideThePopup:function(){this._dd.hide()},showingPopover:function(){return this._dd.isVisible()},completeInit:function(){if(this.rte&&this.ed&&!this.initialized){this.initialized=true;var m=this.ed;var o=this.outerDom;m.onPopupClose=new tinymce.util.Dispatcher();if(this.rte.getGutter){var n=o.create("div",{"class":"gutterButton mentionButton",tabindex:0},m.getLang("jivemention.mention_button_lbl"));var l=null;o.bind(n,"mousedown",function(){l=tinyMCE.getSel().getRng(true)});o.bind(n,"click",function(){m.execCommand("jiveAtMention",true,l)});this.rte.getGutter().appendChild(n)}}},execCommand:function(p,o,q){var l=this.ed;if(p=="jiveAtMention"){if(q){l.selection.setRng(q)}l.undoManager.add();var n="@"+l.selection.getContent();l.selection.setContent(n);l.selection.collapse(false);l.focus();l.undoManager.add();var m=this;setTimeout(function(){m.checkForMentionPopup(l)},1);return true}return false},addMentionType:function(m){var l=m.triggerChar;if(l&&l.length==1&&(typeof l=="string")){this.mentionTypes[l]=m;this.allTriggerChars+=l;this.searchTextRegex=new RegExp("[^\\s\u00a0"+this.allTriggerChars+",/]");this.beforeMentionRegex=new RegExp("\\s|\u00a0|\u200c")}else{throw new Error("invalid trigger character: "+l)}},_getMentionObj:function(l){var m=this.mentionTypes[l];if(m&&l.length==1){return m}return null},init:function(r){this.ed=r;this.outerDom=new tinymce.dom.DOMUtils(document);this.mentionTypes=[];this.cachedRng=[];this.addMentionType(d);this.addMentionType(b);var s=this;function n(){var u=r.selection.getRng(true);return s._mentionSearch(u)!=null}function l(u){return[13,32,188,191].indexOf(u.keyCode)>=0}function t(u){return[27,38,40,9].indexOf(u.keyCode)>=0}function q(v,x){var w;cancelTheKey=false;if(n()){var u=s.showingPopover();var y=new $j.Event(x.type,{keyCode:x.keyCode,shiftKey:x.shiftKey});if(l(x)){if(s.typeAheadProxy.data("typeAhead").getSelected().length>0){cancelTheKey=true;w=tinymce.dom.Event.cancel(x)}}else{if(t(x)){tinymce.dom.Event.cancel(x);if(x.keyCode!=27||u){w=false}}}s.typeAheadProxy.trigger(y)}else{s.hideThePopup()}return w}function o(u,v){if(cancelTheKey&&l(v)){return tinymce.dom.Event.cancel(v)}}this.typeAheadProxy=$j("<input type='text' />").typeAhead({hasFocus:function m(){return $j("iframe",r.getContentAreaContainer()).is(":focus")&&r.getDoc().activeElement==r.getBody()},itemSelector:".j-autocomplete-results li:visible, .j-results li:visible",chooseOnSpace:true,focusWait:0,keystrokeWait:400,tabSelector:".js-tab:visible"}).on("focus",function(){r.focus()}).on("selectionChosen",function p(w,v,u,x){x.preventDefault();s.select(u.find("a").get(0),x.keyCode==32)}).on("keystroke",function(){s.checkForMentionPopup(r)}).on("focusWaitFinished",function(){s.checkForMentionPopup(r)}).on("close blurWaitFinished",function(){s.hideThePopup()}).on("otherClick",function(w,v,u,x){if(v.getTabs().index(u.get(0))>=0){s.select(u.get(0),false)}x.preventDefault()}).on("selectionMousedown",function(){s.cachedRng.push(s.ed.selection.getRng(true))});r.onKeyDown.addToTop(q,this);r.onKeyUp.addToTop(q,this);r.onKeyPress.addToTop(o,this);r.onScroll.add(function(w,v){if(this.lastPopover){if((this.lastPosition.top+20)-v<=0){this.hideThePopup()}var u=$j(r.getContainer()).children("table:first tr.mceIframeRow").height();if((this.lastPosition.top+20)-v>=u){this.hideThePopup()}}},this);require(["apps/status_input/data_source","apps/microblogging/status_input_drop_down","jive/fresh_action_queue"],function(u,w,v){s._data=u;s._actionQueue=v();s._dd=new w(f(),s.typeAheadProxy.data("typeAhead"));s._dd.addListener("close",function(){s.ed.onPopupClose.dispatch();delete s.lastInfo});u.warmCache()})},select:function(p,o){this.cachedRng.push(this.ed.selection.getRng(true));while(this.cachedRng.length&&this.cachedRng.length>0){var l=this.cachedRng.pop();var n=this._mentionSearch(l);if(n!==null){this.cachedRng=[];break}}this.lastInfo=n;var m=this._getMentionObj(n.type);if(m){m.select($j(p),this,o)}},checkForMentionPopup:function(m){try{var l=m.selection.getRng(true);var o=this._mentionSearch(l);if(!o||(o.type=="#"&&o.searchText.length>55)){this.hideThePopup();return}this.lastInfo=o;var n=this._getMentionObj(o.type);if(n){n.search(m,this,o.node,o.offset,o.searchText)}}catch(p){console.log("error while checking for mention",p);this.hideThePopup()}},_getSearchText:function(n,p){var o="";while(n.nodeType==3){var l=0;while(p+l<n.nodeValue.length){var m=n.nodeValue.substr(p+l,1);if(this.searchTextRegex.test(m)){o+=m}else{return o}l++}if(n.nextSibling&&n.nextSibling.nodeType==3){n=n.nextSibling;p=0}else{return o}}return o},destroySearchText:function(l,m,n){this.replaceSearchText(l,m,n,l.getDoc().createTextNode(""),false)},replaceSearchText:function(q,A,r,B,E){var u=this;var m=A.nodeValue.substr(r,1);if(this._getMentionObj(m)==null){return}var t=true;var C="";var s=0;var w=false;while(A.nodeType==3){s=0;while(r+s<A.nodeValue.length){var v=A.nodeValue.substr(r+s,1);if(t||this.searchTextRegex.test(v)){C+=v}else{w=true;break}s++;t=false}if(!w&&A.nextSibling&&A.nextSibling.nodeType==3){var y=A.nextSibling;if(r==0){A.parentNode.removeChild(A)}else{A.nodeValue=A.nodeValue.substr(0,r)}A=y;r=0}else{break}}if(r==0&&s==0){A.parentNode.insertBefore(B,A)}else{if(A.nodeValue.length==s&&r==0){A.parentNode.insertBefore(B,A);A.parentNode.removeChild(A)}else{if(r==0){A.parentNode.insertBefore(B,A);A.nodeValue=A.nodeValue.substr(s)}else{var z=A.nodeValue;A.nodeValue=z.substr(0,r);var x=z.substr(r+s);if(x.length>0){var l=q.getDoc().createTextNode(x);A.parentNode.insertBefore(l,A);A.parentNode.insertBefore(B,l);A.parentNode.insertBefore(A,B)}else{A.parentNode.insertBefore(B,A);A.parentNode.insertBefore(A,B)}}}}if(E){var D=q.getDoc().createTextNode(" ");B.parentNode.insertBefore(D,B);B.parentNode.insertBefore(B,D);B=D}q.plugins.jivemacros.putCursorAfter(q,B);q.nodeChanged();var n=u.rte.getEntitlementService();var o=undefined;var p=$j("div.jive-compose-section-visibility");if(p.length&&p.is(":visible")&&!p.find("li.anyone input").is(":checked")){o=p.find(".j-people-list li").map(function(){return $j(this).data("user-id")+""}).get()}if(n&&B.getAttribute&&B.getAttribute("data-objectType")){n.checkEntitlement(B.getAttribute("data-objectType"),B.getAttribute("___default_attr"),o).addCallback(function(F){if(!F){var G="";if(B.getAttribute("data-objectType")==3){G=q.getLang("jivemention.no_notification")}else{if(B.getAttribute("data-objectType")==700){G=q.getLang("jivemention.secret_group_mention")}else{G=q.getLang("jivemention.restricted_content_mention")}}$j("<p>"+$j(B).text()+" "+G+"</p>").message({style:"warn"})}})}this.hideThePopup()},getInfo:function(){return{longname:"Mentions",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}},_withinCodeMacro:function(o){var m=this.ed.dom.getParent(o,"pre");if(m!=null){var l=this.ed.plugins.jivemacros.isMacro(m);if(l&&this.ed.plugins.jivemacros.getMacroFor(m).getName()=="code"){return true}}return null},_prevCharPos:function(l){if(l.c.nodeType==3){if(l.off>0){return{c:l.c,off:l.off-1}}else{return this._prevCharPos({c:l.c.parentNode,off:this.ed.dom.nodeIndex(l.c)})}}else{if(l.c.nodeType==1){if(l.off>0){var m=l.c.childNodes[l.off-1];if(m.nodeType&&m.nodeType==3){return this._prevCharPos({c:m,off:m.nodeValue.length})}else{return null}}else{return null}}}},_nextCharPos:function(l){if(l.c.nodeType==3){if(l.off<l.c.nodeValue.length-1){return{c:l.c,off:l.off+1}}else{if(l.off==l.c.nodeValue.length-1){return this._nextCharPos({c:l.c,off:l.off+1})}else{return this._nextCharPos({c:l.c.parentNode,off:this.ed.dom.nodeIndex(l.c)+1})}}}else{if(l.c.nodeType==1){if(l.off<l.c.childNodes.length){var m=l.c.childNodes[l.off];if(m.nodeType==3){if(m.nodeValue.length>0){return{c:m,off:0}}else{return this._nextCharPos({c:m,off:0})}}else{return null}}else{return null}}}},_charAt:function(l){if(l&&l.c.nodeType==3){return l.c.nodeValue.substr(l.off,1)}return null},_mentionSearch:function(m){var n=this.ed;if(!m.collapsed){return null}var r=this._prevCharPos(this.ed.selectionUtil.startPos(m));while(r){if(!this.searchTextRegex.test(this._charAt(r))){break}r=this._prevCharPos(r)}if(r==null){return null}var l=this._prevCharPos(r);if(l&&!this.beforeMentionRegex.test(this._charAt(l))){return null}else{if(tinymce.isIE&&!tinymce.isIE9&&!l&&this._charAt(r)=="@"){if(r.c.previousSibling!=null&&!/br|img/i.test(r.c.previousSibling.nodeName)&&!n.dom.isBlock(r.c.previousSibling)){return null}}}if(this._withinCodeMacro(r.c)){return null}if(this._getMentionObj(this._charAt(r))!=null){var p=this;function q(u){var s=n.dom.createRng();var t=p._nextCharPos(u);if(t==null||!p.searchTextRegex.test(p._charAt(t))){return""}s.setStart(t.c,t.off);while(t!=null){s.setEnd(t.c,t.off+1);t=p._nextCharPos(t);if(!p.searchTextRegex.test(p._charAt(t))){break}}return s.toString()}var o={node:r.c,offset:r.off,searchText:q(r),type:this._charAt(r)};return o}return null}});tinymce.PluginManager.add("jivemention",tinymce.plugins.JiveMentionsPlugin)})();
;
tinyMCE.addI18n('en.jiveapps',{
    edit_app : '! App'
});
;
define("AppBang",["jive/app/rte/artifacts","jquery","apps/shared/controllers/localexchange","JAF"],function(c,d,b){return function a(){var g=this;var e;var k=0;var l=0;function i(s,m){var v={htmlBody:$j(s.contentDocument.body).html()};if(m&&m.node){var r=true;var w=false;var o=m.node;var x="";while(o&&o.nodeName!="body"&&o.nodeName!="BODY"){var u=o;while(o){if(r){r=false}else{if(o.outerHTML){if(w){w=false;var q=o.outerHTML;var t=q.indexOf(">");if(t>0){x+=q.substring(0,t+1)}if(o.nodeValue){x+=o.nodeValue}}else{x+=o.outerHTML}}}o=o.previousSibling}o=u.parentNode;w=true}var p=m.offset?m.offset:0;v.offset=p+x.length}return v}jive.switchboard.addListener("app.install.animation.ended",function(){k=k+1;console.log("apps_have_changed",k);if(e){g.search(e.ed,e.bangPlugin,e.node,e.offset,e.searchText);e=null}});jive.switchboard.addListener("apps_market.apps_have_changed",function(){delete g.entries});function f(o){for(var n=0;n<o.length;n++){var m=$j(o[n]);var p=m.css("z-index");if(p){m.attr("data-z-index",p)}m.css({"z-index":"-1"})}}$j.extend(this,{triggerChar:"!",rte:null,init:function(m){this.rte=m;this._handleResults(this._makeRequest(jive.rest.url("/apps/v1/actions/rte"),""))},search:function(s,m,p,q,u){var n=jive.rest.url("/apps/v1/actions/rte");var t=jive.apps.dropdown.ddAppContent;var r=this._makeRequest(n,u);this._handleResults(r,m,t,p,q,u);if($j.browser.msie&&$j.browser.version<8){var o=$j(".j-publishbar");if(o.length>0){f(o)}else{f($j(".jive-content"))}}},select:function(o,p){var n=p.ed,m=this;var r=p.lastInfo;var q=$j.Deferred();q.done(function(u,s,t){p.lastInfo=r;m.insertArtifact(u,t,o,p)});require(["appContainer"],function(s){s.handleRTEActionSelect(o,i(n,p.lastInfo),q);p.hideThePopup()})},insertArtifact:function(r,p,n,o){var m=o.ed;var q=true;if(r.html){o.destroySearchText(m,o.lastInfo.node,o.lastInfo.offset);m.execCommand("mceInsertContent",false,r.html);var t=m.dom;tinymce.each(t.select("a.jive_macro_appEmbeddedView",m.getBody()),function(u){if(!t.getAttrib(u,"jivemacro")){t.setAttrib(u,"jivemacro","appEmbeddedView")}if(!t.getAttrib(u,"jivemacro")){t.setAttrib(u,"__jive_macro_name","appEmbeddedView")}})}else{var s=this._createArtifactFromData(m,n.parent().find("a").attr("data-app-uuid"),n.parent().find("a").attr("data-app-instance-uuid"),n.parent().find("a").attr("data-action-id"),r,p);o.replaceSearchText(m,o.lastInfo.node,o.lastInfo.offset,s,q)}m.focus()},lookupLabel:function(o){if(this.entries){for(var m=0;m<this.entries.length;++m){var n=this.entries[m];if(n.id===o){return(n.label||"")}}}return""},_createArtifactFromData:function(o,t,m,s,r,q){var p=this;var n=new c();return n.createArtifact({ed:o,rte:this.rte,appUUID:t,appInstanceUUID:m,actionId:s,data:r,editedContentBean:q,actionLabel:p.lookupLabel(s)})},handleRTEActionContextEdit:function j(q,o,m,n,p){var r=this._buildArtifact(n);require(["appContainer"],function(s){s.handleRTEActionContextEdit(q,i(o,m),r,p)})},_buildArtifact:function h(n){var m=new c();return m.parseSelectionContextFromArtifact(n)},_makeRequest:function(m,n){if(typeof this.entries==="undefined"||l!=k){return $j.ajax(m,{cache:false,dataType:"json",error:function(p,o){if(o!="abort"){}}})}else{if(n!==""){n=n.replace(/_/g," ");return $j.quickSilverFilter(this.entries,n,7,function(o){return o.filterString})}else{return this.entries}}},_highlightSearchChars:function(n,t){var m=t.toLowerCase().split("");var s="";for(var p=0;p<n.length;p++){var r=n.charAt(p);var q=r;var o=r.toLowerCase();if(m[0]==o){q='<span class="j-app-highlight">'+r+"</span>";m.shift()}s+=q}return{replaced:s,remainingSearchText:m.join("")}},_handleResults:function(m,o,p,q,s,r){var n=this;$j.when(m).then(function(t){if(typeof n.entries==="undefined"||l!=k){l=k;n.entries=$j.map(t,function(x){x.filterString=(x.appName+" : "+x.label).toLowerCase();return x})}var v=n.entries==null||n.entries.length<1;if(v&&!window.appsMarketEnabled){return}if(!p){return}var u=p.call(this,{nonInstalled:v,entries:t,searchText:r,appsMarketEnabled:window.appsMarketEnabled});var w=d(u);if(q!==null&&s!==null){o._dd._render(w,function(){var x=o.positionThePopUp(o.ed,q,s);return{contextBox:x}})}w.find("li").each(function(){var y=$j(this);var C=y.find("em");var A=C.text();var z=y.find("span[class=label]");var B=z.text();var x=n._highlightSearchChars(A,r);C.html(x.replaced);x=n._highlightSearchChars(B,x.remainingSearchText);z.html(x.replaced)});w.find("a.app-action").each(function(){d(this).click(function(y){var z=d(this).data();if(z.actionUrl){var x=z.appUuid+z.actionId;x="A"+x.replace(/\W/g,"_");window.open(z.actionUrl,x,z.actionWindowSpec);return}b.emit("app.action",z);y.preventDefault()})});w.find(".j-apps-market-link").click(function(z){var y=$j(this);var x=y.attr("data-filter")||null;require(["appContainer"],function(A){A.handleMarketContext({experience:"appsCatalog",appFilter:x,actionContributionFilter:"jive/actions/rte"})});o.hideThePopup();e={ed:o.ed,bangPlugin:o,node:q,offset:s,searchText:r};z.preventDefault()});w.find("a").filter(".js-app-action-select-link").click(function(){var x=$j(this);n.select(x,o,false);return false}).attr("href","javascript:;")})}})}});(function(){function a(){return window.top.anyAppsEnabled}tinymce.create("tinymce.plugins.JiveAppsPlugin",{rte:null,appBang:null,setRTE:function(b){this.rte=b;this.completeInit()},init:function(c){this.ed=c;var b=this;if(a()){var e=$j.Deferred();var d=$j.Deferred();$j.when(e,d).then(function(h,j){function l(o){return o.nodeType==1&&$j(o).hasClass("jive_macro_appEmbeddedView")}if(j.plugins.jivecontextmenu){var i=j.plugins.jivecontextmenu;function n(s){var p=$j(s);var r=p.data("actionEntry");if(!r){var v=p.attr("__action_id");var u=p.attr("__appuuid");for(var q=0,o=h.entries.length;q<o;++q){var t=h.entries[q];if(t.appUUID==u&&t.id==v){r=t;break}}if(!r){r={_noResult:false}}p.data("actionEntry",r)}return r._noResult===false?null:r}function g(o){if(!h.entries){return null}var q=o.startContainer.childNodes[o.startOffset];if(!q){q=o.startContainer}while(q&&!l(q)){q=q.parentNode}if(q){var p=n(q);if(p){return q}}return null}function k(s,p){var r=$j(s.findContextNode(p.selection.getRng(true)));var q=$j("<img/>").attr("src",r.data("actionEntry").icon).css({border:"none",width:"16px",height:"16px"});var t=$j("<div/>").css({"background-color":"#fff",width:"16px",height:"16px",padding:"2px 4px"}).append(q);var o=$j("<a/>").addClass("button").attr("href","javascript:;").css({"float":"left",width:"24px","text-align":"center"}).append(t);t.append(q);return o.append(t).get(0)}function f(o,p){$j("img",p).attr("src",$j(o).data("actionEntry").icon)}var m=new i.MenuItem("appEmbeddedView",g,null,k,"jiveAppReEdit",null,null,null,f);i.addRootItem(m)}});c.onInit.add(function(){d.resolve(c)},b);require(["AppBang"],function(f){var g=b.appBang=new f(c);b.completeInit();c.plugins.jivemention.addMentionType(g);e.resolve(g)})}},completeInit:function(){function e(k){for(var j=0;j<k.length;j++){var h=$j(k[j]);var l=h.attr("data-z-index");if(l){h.css({"z-index":l})}}}if(this.rte&&this.ed&&this.appBang&&!this.initialized){this.initialized=true;var c=this.ed;var g=c.dom;var d=new tinymce.dom.DOMUtils(document);this.appBang.init(this.rte);var f=d.create("div",{"class":"gutterButton appButton"},c.getLang("jiveapps.edit_app"));var b=null;d.bind(f,"mousedown",function(){b=c.selection.getRng(true)});d.bind(f,"click",function(h){c.execCommand("jiveAppEdit",true,b);h.stopPropagation()});this.rte.getGutter().appendChild(f);c.plugins.paste.onPasteComplete.add(function(){tinymce.each(g.select("a.jive_macro_appEmbeddedView",c.getBody()),function(h){if(!g.getAttrib(h,"href")){g.setAttrib(h,"href","javascript:;")}});tinymce.each(g.select("a.jive-link-app-icon",c.getBody()),function(h){var i=$j(h);if(i.attr("__icon")){i.css("background-image","url('"+i.attr("__icon")+"')")}})});c.onPopupClose.add(function(){if($j.browser.msie&&$j.browser.version<8){e($j(".j-publishbar"));e($j(".jive-content"))}})}},execCommand:function(e,k,d){var h=this.ed;var i=this;switch(e){case"jiveAppEdit":if(d){h.selection.setRng(d)}h.undoManager.add();var l=/\s/.test(this._charAt(this._prevCharPos(this.ed.selectionUtil.startPos(d))))?"!":" !";var j=l+h.selection.getContent();h.selection.setContent(j);h.selection.collapse(false);h.focus();h.undoManager.add();setTimeout(function(){h.plugins.jivemention.checkForMentionPopup(h)},1);return true;case"jiveAppReEdit":if(d){var c=$j(d.node);var f=c.data("actionEntry");if(f){var g={offset:0};var b=$j.Deferred();b.done(function(m,n,p){var q=d.node;var o=i.appBang._createArtifactFromData(h,f.appUUID,f.appInstanceUUID,f.id,m,p);q.parentNode.insertBefore(o,q);q.parentNode.removeChild(q);$j(o).data("actionEntry",f)});i.appBang.handleRTEActionContextEdit(f,h,g,c,b)}}}return false},getInfo:function(){return{longname:"Jive Apps",author:"Jive Software",authorurl:"http://www.jivesoftware.com",infourl:"http://www.jivesoftware.com/",version:"1.0"}},_charAt:function(b){if(b&&b.c.nodeType==3){return b.c.nodeValue.substr(b.off,1)}return null},_prevCharPos:function(b){if(b.c.nodeType==3){if(b.off>0){return{c:b.c,off:b.off-1}}else{return this._prevCharPos({c:b.c.parentNode,off:this.ed.dom.nodeIndex(b.c)})}}else{if(b.c.nodeType==1){if(b.off>0){var d=b.c.childNodes[b.off-1];if(d.nodeType==3){return this._prevCharPos({c:d,off:d.nodeValue.length})}else{return null}}else{return null}}}}});if(!(window._jive_current_user.anonymous)&&a()){tinymce.PluginManager.add("jiveapps",tinymce.plugins.JiveAppsPlugin)}})();
;
tinyMCE.addI18n('en.jivemention',{
    mention_button_lbl : '@ Mention',
    no_notification : 'will not be notified of this mention, because they do not have access to this content.',
    secret_group_mention : 'is a secret group.  Anyone who can view this content can see the name of the secret group.',
    restricted_content_mention : 'is located in a member-restricted group.  Anyone who can view this content can see the name of the object.'
});

;
tinyMCE.addI18n('en.jivetable',{
    'transparent': "Transparent"
});

;
(function(){function e(q){q=$j.trim(q);var p=/([\d\.])%$/.exec(q);if(p){return(parseFloat(p[1])/100)}return parseFloat(q)/255}var k=/rgb\s*\(([^,\)]+,[^,\)]+,[^,\)]+)\)/;var n=/rgba\s*\(([^,\)]+,[^,\)]+,[^,\)]+,[^,\)]+)\)/;var j=/#[a-fA-F0-9]{6}/;var g=/transparent|rgba\(0,\s*0,\s*0,\s*0\)/;function o(w,x){if(!w){return""}if(j.test(w)){return w}var u=k.exec(w);if(u){return tinymce.activeEditor.plugins.jiveutil.convertRGBToHex(w)}u=g.exec(w);if(u){if(x){return"transparent"}else{return"#FFFFFF"}}u=n.exec(w);if(u){function t(y,z){return y*z+1-z}var s=u[1].split(/\s*,\s*/);var q=e(s[3]);var p=Math.round(t(e(s[0]),q)*255);var r=Math.round(t(e(s[1]),q)*255);var v=Math.round(t(e(s[2]),q)*255);return tinymce.activeEditor.plugins.jiveutil.convertRGBToHex("rgb("+p+", "+r+", "+v+")")}return""}function a(r,p){if(!r.attr("style")){return null}var q=r.attr("style").toLowerCase();q=q.replace(new RegExp("-"+p,"gi"),"nomatch");if(q.indexOf(p+":")>=0){q=q.substr(q.indexOf(p+":"));if(q.indexOf(";")){q=q.substr(0,q.indexOf(";"))}return $j.trim(q.substr(p.length+1))}return null}function f(p){return p.replace(/'/g,"").replace(/, /g,",")}function h(r){r=tinymce.trim(r);if(r=="auto"||r=="inherit"){return{unit:r,magnitude:null}}var q=parseFloat(r);var p=r.substr(String(q).length);if(p=="%"){p="per"}return{unit:p,magnitude:q}}var i=(function(){var p=["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","999999","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"];var q=[];q.push("<div class='colorPicker'>");$j.each(p,function(s,r){q.push("<a href='javascript:;' style='background-color: #");q.push(r);q.push("'></a>")});q.push("</div>");return q.join("")})();function l(p,q,r){p.attr("jive-data-header",$j.JSON.encode(q));p.attr("jive-data-cell",$j.JSON.encode(r))}function m(){for(var p=0;p<arguments.length;++p){if(arguments[p]!=null){if(typeof(arguments[p])=="function"){var q=arguments[p]();if(q!=null){return q}}else{return arguments[p]}}}return null}function c(u,D,w,y,E,B){var F={headerStyle:w.attr("jive-data-header"),cellStyle:w.attr("jive-data-cell"),tableBorderWidth:0,tableAlign:D.attr("align"),tableBorderColor:D.css("border-color"),contextWidthType:"auto",contextWidth:0,contextHeightType:"auto",contextHeight:0};F.tableAlign=F.tableAlign?F.tableAlign.toLowerCase():"none";if(!F.tableBorderColor){F.tableBorderColor=D.css("border-top-color")}F.tableBorderColor=o(F.tableBorderColor);F.tableBorderWidth=m(function(){var G=u.dom.getStyle(D.get(0),"border-width");if(G){return parseFloat(G)}},function(){var G=D.css("border-width");if(G){return parseFloat(G)}},function(){var H=D.css("border");if(H){var G=H.indexOf(" ");if(G){return parseFloat(H.substring(0,G))}}},function(){return D.attr("border")||null},F.tableBorderWidth);var r=h(m(function(){return a(w,"width")},function(){return w.attr("width")||null},function(){return w.width()+"px"}));F.contextWidth=r.magnitude;F.contextWidthType=r.unit;var C=h(m(function(){return a(w,"height")},function(){return w.attr("height")||null},function(){return w.height()+"px"}));F.contextHeight=C.magnitude;F.contextHeightType=C.unit;var A=o(m(function(){return w.attr("bgColor")||null},function(){return y.attr("bgColor")||null},function(){return y.css("background-color")}),true);var z="2";try{z=parseInt(y.get(0).style.padding)+""}catch(v){}var x=f(y.css("fontFamily"));var t=y.css("color");t=o(t);var q=y.css("textAlign");if(q=="justify"){q="full"}var s=w.css("verticalAlign");F.headerStyle=m(function(){if(F.headerStyle){try{return $j.JSON.decode(jive.util.unescapeHTML(F.headerStyle))}catch(G){}}},function(){return $j.extend({},E)});F.cellStyle=m(function(){if(F.cellStyle){try{return $j.JSON.decode(jive.util.unescapeHTML(F.cellStyle))}catch(G){}}},function(){return $j.extend({},B)});var p=y.is("th")?F.headerStyle:F.cellStyle;p.backgroundColor=A;p.padding=z;if(x){p.fontFamily=x}if(t){p.color=t}if(q){p.textAlign=q}if(s){p.verticalAlign=s}return F}function b(q,p){if(q&&q.length){if(p){if(q.is("table")){if(p.tableAlign!=null){if(p.tableAlign=="none"){q.removeAttr("align")}else{q.attr("align",p.tableAlign)}delete p.tableAlign}if(p["border-width"]!=null){q.attr("border",p["border-width"])}if(p.width!=null){q.removeAttr("width")}if(p.height!=null){q.removeAttr("height")}q.find("td,th").css("border-width","").css("border-style","").css("border-top-color","").css("border-left-color","").css("border-bottom-color","").css("border-right-color","")}q.css(p)}q.removeAttr("data-mce-style").removeAttr("bgcolor");if(!q.is("table")){q.closest("table").removeAttr("data-mce-style")}}tinymce.activeEditor.scheduleNodeChanged()}function d(r,q){var p=parseFloat(r);if(isNaN(p)){return q||0}return p}tinymce.create("tinymce.plugins.JiveTablePlugin",{fullPopOverWidth:230,fullPopOverHeight:400,editTableProperties:null,$table:null,$column:null,$row:null,$cell:null,propertyChooserMenu:null,resetTableProperties:null,resetColumnProperties:null,resetRowProperties:null,resetCellProperties:null,minY:0,minX:0,resetMinMaxY:function(p){this.minY=p.plugins.jivescroll.lastScrollY;this.minX=p.plugins.jivescroll.lastScrollX},defaultHeaderStyle:function(){return{color:"#FFFFFF",backgroundColor:"#6690BC",textAlign:"center",padding:"2"}},defaultCellStyle:function(){return{color:"#000000",textAlign:"left",padding:"2"}},forceCellType:function(p,t,r){if(!t.is(r)){var s=$j("<"+r+"></"+r+">",p.getDoc());s.append(t.contents());if(t.get(0)==this.$cell.get(0)){this.$cell=s}t.before(s);t.remove();var q=a(t,"width");if(q){s.css("width",q)}return s}return t},styleAsTH:function(q,r){var s=parseInt(r.padding);if(isNaN(s)){s=0}var t=r.textAlign;q.css($j.extend({},this.defaultHeaderStyle(),r,{padding:s+"px",textAlign:(t=="full"?"justify":t),backgroundColor:(r.backgroundColor?r.backgroundColor:"transparent")}));q.removeAttr("data-mce-style");q.removeAttr("align");q.removeAttr("valign")},styleAsTD:function(q,r){var s=parseInt(r.padding);if(isNaN(s)){s=0}var t=r.textAlign;q.css($j.extend({},this.defaultCellStyle(),r,{padding:s+"px",textAlign:(t=="full"?"justify":t),backgroundColor:(r.backgroundColor?r.backgroundColor:"transparent")}));q.removeAttr("data-mce-style");q.removeAttr("align");q.removeAttr("valign")},createSpinnerInput:function(t,q,p,s,r){t.SpinButton({min:q,max:p,step:s,spinClass:"spin-button",upClass:"up",downClass:"down"});t.keyup(r).change(r).mouseup(r).click(function(){return false})},defaultFont:function(){var q=this.ed.settings.theme_advanced_fonts;var r=q.split(";");var p=r[1].split("=");return p[1]},fontName:function(r){var p=this.ed.settings.theme_advanced_fonts;var q="";$j.each(p.split(";"),function(u,t){var s=t.split("=");if(s[1]==r){q=s[0]}});return q},createFontInput:function(q,r){var p=$j(this.FONT_MENU);function s(){var u=$j(this);var t=u.attr("data-font-info");q.text(u.text()).css("font-family",t).data("font-family",t);r();p.hide()}p.delegate("a","click",s);q.click(function(){p.show();return false}).change(r).keyup(r);q.after(p);q.parents(".properties").click(function(){p.hide()})},createColorInput:function(v,s,u){var q=this.ed;var p=$j("<span style='position:relative;line-height:18px;position: absolute;'></span>");var w=$j("<div class='transparentGridBg'><div class='colorSample'></div></div>");function r(){var x=$j(this).css("background-color");v.val(o(x,u));s();t.hide();return false}var t=$j(i);if(u){t.addClass("transparentAllowed");t.append($j("<a href='javascript:;' class='transparentButton'>"+q.getLang("jivetable.transparent")+"</a>"))}t.delegate("a","click",r);v.click(function(){t.show();return false}).change(s).keyup(s);w.click(function(){t.show();return false});v.after(t).after(w).after(p);p.append(v).append(w);v.parents(".properties").click(function(){t.hide()})},changeHeaderStyle:function(s,r,q,t){var u=this;var p=s.selection.getBookmark(BOOKMARKTYPE);if(q){r.find(q).each(function(v,w){u.forceCellType(s,$j(w),"th")})}if(t){r.find(t).each(function(v,w){u.forceCellType(s,$j(w),"td")})}s.selection.moveToBookmark(p)},resetPropertiesTabs:function(p){p.find("li:not(:first)").removeClass("j-tab-selected");p.find("li:first").addClass("j-tab-selected");p.children("div:not(:first)").hide();p.children("div:first").show();p.find("a:nth(0)").click(function(){p.find("li:not(:nth(0))").removeClass("j-tab-selected");p.find("li:nth(0)").addClass("j-tab-selected");p.find("form").children("div:not(.tableStyle)").hide();p.find("form").children("div:nth(0)").show();return false}).click();p.find("a:nth(1)").click(function(){p.find("li:not(:nth(1))").removeClass("j-tab-selected");p.find("li:nth(1)").addClass("j-tab-selected");p.find("form").children("div:not(.tableHeader)").hide();p.find("form").children("div:nth(1)").show();return false});p.find("a:nth(2)").click(function(){p.find("li:not(:nth(2))").removeClass("j-tab-selected");p.find("li:nth(2)").addClass("j-tab-selected");p.find("form").children("div:not(.tableCell)").hide();p.find("form").children("div:nth(2)").show();return false})},_buildTableProperties:function(q){var r=this;var s=null;function p(){l(r.$table,s.headerStyle,s.cellStyle);var t=r.editTableProperties.find(".tableStyle .formFields");if(s.contextWidthType=="px"){t.find(".widthPer").hide();t.find(".widthPx").show().val(s.contextWidth);t.find(".chooseWidthPer").prop("checked",false);t.find(".chooseWidthPx").prop("checked",true)}else{t.find(".widthPer").show().val(s.contextWidth);t.find(".widthPx").hide();t.find(".chooseWidthPx").prop("checked",false);t.find(".chooseWidthPer").prop("checked",true)}t.find(".heightPx").val(s.contextHeight);if(s.contextHeightType=="px"){t.find(".chooseHeightAuto").prop("checked",false);t.find(".chooseHeightPx").prop("checked",true)}else{t.find(".chooseHeightPx").prop("checked",false);t.find(".chooseHeightAuto").prop("checked",true)}r.editTableProperties.find(".tableStyle input.borderWidth").val(s.tableBorderWidth);t.find(".borderColor").val(s.tableBorderColor);t.find(".colorSample").css("background-color",s.tableBorderColor);r.editTableProperties.find(".tableStyle .formFields:last a.mceButton.mce_justifytable"+s.tableAlign).addClass("mceButtonSelected");r.editTableProperties.find(".tableStyle .formFields:last a.mceButton:not(.mce_justifytable"+s.tableAlign+")").removeClass("mceButtonSelected");r.updateCellInputs(r.editTableProperties.find(".tableHeader"),s.headerStyle,s.tableBorderWidth,s.tableBorderColor,r.styleAsTH);r.updateCellInputs(r.editTableProperties.find(".tableCell"),s.cellStyle,s.tableBorderWidth,s.tableBorderColor,r.styleAsTD)}this.resetPropertiesTabs(this.editTableProperties);(function(){var z=r.editTableProperties.find(".tableStyle .formFields:first");z.find("a.th-t").click(function(){r.changeHeaderStyle(q,r.$table,"tr:first td","tr:not(:first) th");p();r.onTableStyleChange.dispatch(r.$table.find("th"),s.headerStyle);r.onTableStyleChange.dispatch(r.$table.find("td"),s.cellStyle);return false});z.find("a.th-tb").click(function(){r.changeHeaderStyle(q,r.$table,"tr:first td, tr:last td","tr:not(:first,:last) th");p();r.onTableStyleChange.dispatch(r.$table.find("th"),s.headerStyle);r.onTableStyleChange.dispatch(r.$table.find("td"),s.cellStyle);return false});z.find("a.th-tl").click(function(){r.changeHeaderStyle(q,r.$table,"tr:first td, tr td:first-child","tr:not(:first) th:not(:first-child)");p();r.onTableStyleChange.dispatch(r.$table.find("th"),s.headerStyle);r.onTableStyleChange.dispatch(r.$table.find("td"),s.cellStyle);return false});z.find("a.th-n").click(function(){r.changeHeaderStyle(q,r.$table,false,"th");p();r.onTableStyleChange.dispatch(r.$table.find("th"),s.headerStyle);r.onTableStyleChange.dispatch(r.$table.find("td"),s.cellStyle);return false});var u=r.editTableProperties.find(".tableStyle input.borderWidth");r.createSpinnerInput(u,0,100,1,function(){var A=u.val();if(s.tableBorderWidth!=A){s.tableBorderWidth=A;p();r.onTableStyleChange.dispatch(r.$table,{"border-width":d(A)+"px","border-style":"solid"})}});var t=r.editTableProperties.find(".tableStyle input.borderColor");r.createColorInput(t,function(){var A=t.val();if(s.tableBorderColor!=A){s.tableBorderColor=A;p();r.onTableStyleChange.dispatch(r.$table,{"border-top-color":A,"border-left-color":A,"border-bottom-color":A,"border-right-color":A,"border-style":"solid"})}});r.editTableProperties.find(".tableStyle .formFields:last a.mceButton").click(function(){var A=$j(this);if(A.hasClass("mce_justifytablenone")){s.tableAlign="none"}if(A.hasClass("mce_justifytableleft")){s.tableAlign="left"}if(A.hasClass("mce_justifytableright")){s.tableAlign="right"}r.onTableStyleChange.dispatch(r.$table,{tableAlign:s.tableAlign});r.editTableProperties.find(".tableStyle .formFields:last a.mceButton").not(this).removeClass("mceButtonSelected");A.addClass("mceButtonSelected");return false});var w=r.editTableProperties.find(".tableStyle .formFields");var y=w.find(".widthPer");r.createSpinnerInput(y,0,100,1,function(){var A=y.val();if(s.contextWidth!=A){s.contextWidth=A;p();r.onTableStyleChange.dispatch(r.$table,{width:d(A)+"%"})}});var x=w.find(".widthPx");r.createSpinnerInput(x,0,9999,10,function(){var A=x.val();if(s.contextWidth!=A){s.contextWidth=A;p();r.onTableStyleChange.dispatch(r.$table,{width:d(A)+"px"})}});w.find(".chooseWidthPer").click(function(A){if(s.contextWidthType!="per"){s.contextWidth=Math.round(r.$table.width()/r.$table.parents("body").width()*100);s.contextWidthType="per";p();r.onTableStyleChange.dispatch(r.$table,{width:s.contextWidth+"%"});A.stopPropagation()}});w.find(".chooseWidthPx").click(function(A){if(s.contextWidthType!="px"){s.contextWidth=r.$table.width();s.contextWidthType="px";p();r.onTableStyleChange.dispatch(r.$table,{width:s.contextWidth+"px"});A.stopPropagation()}});var v=w.find(".heightPx");r.createSpinnerInput(v,0,9999,10,function(){r.editTableProperties.find(".tableStyle .formFields .chooseHeightAuto").prop("checked",false);r.editTableProperties.find(".tableStyle .formFields .chooseHeightPx").prop("checked",true).click();var A=v.val();if(s.contextHeight!=A){s.contextHeight=A;p();r.onTableStyleChange.dispatch(r.$table,{height:d(A)+"px"})}});w.find(".chooseHeightAuto").click(function(A){if(s.contextHeightType!="auto"){s.contextHeightType="auto";s.contextHeight=r.$table.height();p();r.onTableStyleChange.dispatch(r.$table,{height:""});A.stopPropagation()}});w.find(".chooseHeightPx").click(function(A){if(s.contextHeightType!="px"){s.contextHeight=r.$table.height();s.contextHeightType="px";p();r.onTableStyleChange.dispatch(r.$table,{height:d(s.contextHeight)+"px"});A.stopPropagation()}})}());this.setupCellForm(this.editTableProperties.find(".tableHeader"),function(){return s.headerStyle},function(t){p();r.onTableStyleChange.dispatch(r.$table.find("th"),t)});this.setupCellForm(this.editTableProperties.find(".tableCell"),function(){return s.cellStyle},function(t){p();r.onTableStyleChange.dispatch(r.$table.find("td"),t)});return function(){s=c(q,r.$table,r.$table,r.$cell,r.defaultHeaderStyle(),r.defaultCellStyle());p()}},_buildColumnProperties:function(q){var s=this;var r=null;function p(){l(s.$column,r.headerStyle,r.cellStyle);var t=s.editColumnProperties.find(".columnStyle .formFields");if(r.contextWidthType=="px"){t.find(".widthPx").val(r.contextWidth);t.find(".widthPer").val(Math.round(s.$column.outerWidth()/s.$table.outerWidth()*100));t.find(".chooseWidthAuto").prop("checked",false);t.find(".chooseWidthPer").prop("checked",false);t.find(".chooseWidthPx").prop("checked",true)}else{if(r.contextWidthType=="per"){t.find(".widthPx").val(s.$column.width());t.find(".widthPer").val(r.contextWidth);t.find(".chooseWidthAuto").prop("checked",false);t.find(".chooseWidthPx").prop("checked",false);t.find(".chooseWidthPer").prop("checked",true)}else{t.find(".widthPx").val(s.$column.width());t.find(".widthPer").val(Math.round(s.$column.outerWidth()/s.$table.outerWidth()*100));t.find(".chooseWidthPer").prop("checked",false);t.find(".chooseWidthPx").prop("checked",false);t.find(".chooseWidthAuto").prop("checked",true)}}s.updateCellInputs(s.editColumnProperties.find(".columnHeader"),r.headerStyle,r.tableBorderWidth,r.tableBorderColor,s.styleAsTH);s.updateCellInputs(s.editColumnProperties.find(".columnCell"),r.cellStyle,r.tableBorderWidth,r.tableBorderColor,s.styleAsTD)}this.resetPropertiesTabs(this.editColumnProperties);(function(){function v(z,y){return function(){var B=q.selection.getBookmark(BOOKMARKTYPE);var D=s.$column.filter(z);var E=s.$column.filter(y);D.each(function(F,G){s.forceCellType(q,$j(G),"th")});E.each(function(F,G){s.forceCellType(q,$j(G),"td")});s.$column=q.plugins.jiveutil.findColumnBoundsForCell(s.$cell);var C=s.$column.first();var A=s.$column.last();if(C.length&&A.length){q.plugins.jiveblackout.showBlackout(q,C,A)}q.selection.moveToBookmark(B);p();s.onTableStyleChange.dispatch(s.$column.filter("th"),r.headerStyle);s.onTableStyleChange.dispatch(s.$column.filter("td"),r.cellStyle);return false}}var u=s.editColumnProperties.find(".columnStyle .formFields");var t=u.filter(":first");t.find("a.th-t").click(v(":first",":not(:first)"));t.find("a.th-tb").click(v(":first, :last",":not(:first, :last)"));t.find("a.th-tl").click(v("td, th",false));t.find("a.th-n").click(v(false,"td, th"));var x=u.find(".widthPer");s.createSpinnerInput(x,0,100,1,function(){var y=x.val();r.contextWidthType="per";if(r.contextWidth!=y){r.contextWidth=y;s.onTableStyleChange.dispatch(s.$column.first(),{width:d(y)+"%"});s.onTableStyleChange.dispatch(s.$column.slice(1),{width:""});p()}});var w=u.find(".widthPx");s.createSpinnerInput(w,0,9999,10,function(){var y=w.val();r.contextWidthType="px";if(r.contextWidth!=y){r.contextWidth=y;s.onTableStyleChange.dispatch(s.$column.first(),{width:d(y)+"px"});s.onTableStyleChange.dispatch(s.$column.slice(1),{width:""});p()}});u.find(".chooseWidthAuto").click(function(y){if(r.contextWidthType!="auto"){r.contextWidth=0;r.contextWidthType="auto";s.onTableStyleChange.dispatch(s.$column.first(),{width:""});p();y.stopPropagation()}});u.find(".chooseWidthPer").click(function(y){if(r.contextWidthType!="per"){r.contextWidth=x.val();r.contextWidthType="per";s.onTableStyleChange.dispatch(s.$column.first(),{width:d(r.contextWidth)+"%"});s.onTableStyleChange.dispatch(s.$column.slice(1),{width:""});p();y.stopPropagation()}});u.find(".chooseWidthPx").click(function(y){if(r.contextWidthType!="px"){r.contextWidth=w.val();r.contextWidthType="px";s.onTableStyleChange.dispatch(s.$column.first(),{width:d(r.contextWidth)+"px"});s.onTableStyleChange.dispatch(s.$column.slice(1),{width:""});p();y.stopPropagation()}})}());this.setupCellForm(this.editColumnProperties.find(".columnHeader"),function(){return r.headerStyle},function(t){p();s.onTableStyleChange.dispatch(s.$column.filter("th"),t)});this.setupCellForm(this.editColumnProperties.find(".columnCell"),function(){return r.cellStyle},function(t){p();s.onTableStyleChange.dispatch(s.$column.filter("td"),t)});return function(){r=c(q,s.$table,s.$column,s.$cell,s.defaultHeaderStyle(),s.defaultCellStyle());p()}},_buildRowProperties:function(r){var s=this;var q=null;function p(){l(s.$row,q.headerStyle,q.cellStyle);var t=s.editRowProperties.find(".rowStyle .formFields");if(q.contextHeightType=="px"){t.find(".heightPx").val(q.contextHeight);t.find(".chooseHeightAuto").prop("checked",false);t.find(".chooseHeightPx").prop("checked",true)}else{t.find(".heightPx").val(s.$row.outerHeight());t.find(".chooseHeightPx").prop("checked",false);t.find(".chooseHeightAuto").prop("checked",true)}s.updateCellInputs(s.editRowProperties.find(".rowHeader"),q.headerStyle,q.tableBorderWidth,q.tableBorderColor,s.styleAsTH);s.updateCellInputs(s.editRowProperties.find(".rowCell"),q.cellStyle,q.tableBorderWidth,q.tableBorderColor,s.styleAsTD)}this.resetPropertiesTabs(this.editRowProperties);(function(){var v=s.editRowProperties.find(".rowStyle .formFields");var u=v.filter(":first");u.find("a.th-a").click(function(){s.changeHeaderStyle(r,s.$row,"td","tr:not(:first) th");p();s.onTableStyleChange.dispatch(s.$row.find("td"),q.cellStyle);s.onTableStyleChange.dispatch(s.$row.find("th"),q.headerStyle);return false});u.find("a.th-l").click(function(){s.changeHeaderStyle(r,s.$row,"td:first-child","th:not(:first-child)");p();s.onTableStyleChange.dispatch(s.$row.find("td"),q.cellStyle);s.onTableStyleChange.dispatch(s.$row.find("th"),q.headerStyle);return false});u.find("a.th-n").click(function(){s.changeHeaderStyle(r,s.$row,false,"th");p();s.onTableStyleChange.dispatch(s.$row.find("td"),q.cellStyle);s.onTableStyleChange.dispatch(s.$row.find("th"),q.headerStyle);return false});var t=v.find(".heightPx");s.createSpinnerInput(t,0,9999,10,function(){var w=t.val();q.contextHeightType="px";if(q.contextHeight!=w){q.contextHeight=w;s.onTableStyleChange.dispatch(s.$row,{height:d(w)+"px"});p()}});v.find(".chooseHeightAuto").click(function(w){if(q.contextHeightType!="auto"){q.contextHeight=0;q.contextHeightType="auto";s.onTableStyleChange.dispatch(s.$row,{height:""});p();w.stopPropagation()}});v.find(".chooseHeightPx").click(function(x){var w=t.val();if(q.contextHeightType!="px"){q.contextHeight=w;q.contextHeightType="px";s.onTableStyleChange.dispatch(s.$row,{height:d(w)+"px"});p();x.stopPropagation()}})}());this.setupCellForm(this.editRowProperties.find(".rowHeader"),function(){return q.headerStyle},function(t){p();s.onTableStyleChange.dispatch(s.$row.find("th"),t)});this.setupCellForm(this.editRowProperties.find(".rowCell"),function(){return q.cellStyle},function(t){p();s.onTableStyleChange.dispatch(s.$row.find("td"),t)});return function(){q=c(r,s.$table,s.$row,s.$cell,s.defaultHeaderStyle(),s.defaultCellStyle());p()}},_buildCellProperties:function(q){var t=this;var s=null;function p(){l(t.$cell,s.headerStyle,s.cellStyle);t.updateCellInputs(t.editCellProperties.find(".cellHeader"),s.headerStyle,s.tableBorderWidth,s.tableBorderColor,t.styleAsTH);t.updateCellInputs(t.editCellProperties.find(".cellCell"),s.cellStyle,s.tableBorderWidth,s.tableBorderColor,t.styleAsTD)}function r(){t.editCellProperties.children("div").hide();t.editCellProperties.children("div:first").show();t.editCellProperties.children("div:nth(1)").show();t.editCellProperties.find("div:first input:first").click(function(w){var v=t.editCellProperties.find("form");v.children("div:not(:nth(1))").hide();v.children("div:nth(1)").show();v.children("div:first").show();t.editCellProperties.find("div:first input:last").prop("checked",false);t.editCellProperties.find("div:first input:first").prop("checked",true);if(!t.$cell.is("th")){var u=q.selection.getBookmark(BOOKMARKTYPE);t.$cell=t.forceCellType(q,t.$cell,"th");q.plugins.jiveblackout.showBlackout(q,t.$cell);q.selection.moveToBookmark(u);p();t.onTableStyleChange.dispatch(t.$cell,s.headerStyle);w.stopPropagation()}});t.editCellProperties.find("div:first input:last").click(function(w){var v=t.editCellProperties.find("form");v.children("div:not(:nth(2))").hide();v.children("div:nth(2)").show();v.children("div:first").show();t.editCellProperties.find("div:first input:first").prop("checked",false);t.editCellProperties.find("div:first input:last").prop("checked",true);if(!t.$cell.is("td")){var u=q.selection.getBookmark(BOOKMARKTYPE);t.$cell=t.forceCellType(q,t.$cell,"td");q.plugins.jiveblackout.showBlackout(q,t.$cell);q.selection.moveToBookmark(u);p();t.onTableStyleChange.dispatch(t.$cell,s.cellStyle);w.stopPropagation()}});if(t.editCellProperties.parents("body").length){if(t.$cell.is("th")){t.editCellProperties.find("div:first input:first").click()}else{t.editCellProperties.find("div:first input:last").click()}}}this.setupCellForm(this.editCellProperties.find(".cellHeader"),function(){return s.headerStyle},function(u){p();t.onTableStyleChange.dispatch(t.$cell.filter("th"),u)});this.setupCellForm(this.editCellProperties.find(".cellCell"),function(){return s.cellStyle},function(u){p();t.onTableStyleChange.dispatch(t.$cell.filter("td"),u)});return function(){s=c(q,t.$table,t.$cell,t.$cell,t.defaultHeaderStyle(),t.defaultCellStyle());r();p()}},_buildCellMerge:function(s){var u=this;var w=0;var v=0;var r=u.mergeCellProperties.find(".content");function t(){v=u.$cell.attr("rowspan")?u.$cell.attr("rowspan"):1;w=u.$cell.attr("colspan")?u.$cell.attr("colspan"):1}function q(){var y=[];y.cell=u.$cell.get(0);y.numcols=w;y.numrows=v;s.focus();var x=s.selection.getBookmark();s.execCommand("mceTableSplitCells",false,y);s.execCommand("mceTableMergeCells",false,y);s.plugins.jiveblackout.showBlackout(s,u.$cell);s.nodeChanged();s.selection.moveToBookmark(x);s.focus()}function p(){r.find("input.rowspan").val(v);r.find("input.colspan").val(w)}this.createSpinnerInput(r.find("input.rowspan"),1,100,1,function(){var x=r.find("input.rowspan").val();if(v!=x){v=x;p();q()}});this.createSpinnerInput(r.find("input.colspan"),1,100,1,function(){var x=r.find("input.colspan").val();if(w!=x){w=x;p();q()}});return function(){t();p()}},updateCellInputs:function(r,t,x,v,s){var w=parseInt(t.padding);w=isNaN(w)?0:w;r.find(".formFields .padding").val(w);r.find(".formFields:nth(1) .backgroundColor").val(t.backgroundColor);r.find(".formFields:nth(1) .colorSample").css("background-color",t.backgroundColor?t.backgroundColor:"white");r.find(".formFields:last a.mceButton.mce_justify.mce_justify"+t.textAlign).addClass("mceButtonSelected");r.find(".formFields:last a.mceButton.mce_justify:not(.mce_justify"+t.textAlign+")").removeClass("mceButtonSelected");r.find(".formFields:last a.mceButton.mce_valign.mce_valign"+t.verticalAlign).addClass("mceButtonSelected");r.find(".formFields:last a.mceButton.mce_valign:not(.mce_valign"+t.verticalAlign+")").removeClass("mceButtonSelected");s.call(this,r.find(".sampleHeader th"),t);var u=r.find(".sampleHeader");u.find("th").css("padding",Math.min(w,5)+"px");u.css("border-width",Math.min(x,5)+"px");u.css("border-color",v);u.css("border-style","solid");u.attr("border",Math.min(x,10));var q=t.fontFamily?t.fontFamily:this.defaultFont();r.find(".formFields:nth(2) .family").css("font-family",t.fontFamily).text(this.fontName(q));r.find(".formFields:nth(2) .fontColor").val(t.color);r.find(".formFields:nth(2) .colorSample").css("background-color",t.color)},setupCellForm:function(q,s,p){var r=this;r.createSpinnerInput(q.find("input.padding"),0,100,1,function(){var u=s();var t=q.find("input.padding").val();if(u.padding!=t){u.padding=t;p({padding:t+"px"})}});r.createColorInput(q.find("input.backgroundColor"),function(){var u=s();var t=q.find("input.backgroundColor").val();if(u.backgroundColor!=t){u.backgroundColor=t;p({"background-color":t})}},true);r.createFontInput(q.find("a.family"),function(){var u=s();var t=q.find("a.family").data("font-family");if(u.fontFamily!=t){u.fontFamily=t;p({"font-family":t})}});q.find(".formFields:last a.mceButton").click(function(){var t=s();var u=$j(this);if(u.hasClass("mce_justifyleft")){t.textAlign="left"}if(u.hasClass("mce_justifycenter")){t.textAlign="center"}if(u.hasClass("mce_justifyright")){t.textAlign="right"}if(u.hasClass("mce_justifyfull")){t.textAlign="full"}if(u.hasClass("mce_valigntop")){t.verticalAlign="top"}if(u.hasClass("mce_valignmiddle")){t.verticalAlign="middle"}if(u.hasClass("mce_valignbottom")){t.verticalAlign="bottom"}if(u.hasClass("mce_justifyleft")){q.find(".formFields:last a.mceButton.mce_justify").not(this).removeClass("mceButtonSelected")}else{q.find(".formFields:last a.mceButton.mce_valign").not(this).removeClass("mceButtonSelected")}u.addClass("mceButtonSelected");p({"text-align":t.textAlign,"vertical-align":t.verticalAlign});return false});r.createColorInput(q.find("input.fontColor"),function(){var u=s();var t=q.find("input.fontColor").val();if(u.color!=t){u.color=t;p({color:t})}})},buildPopover:function(v){var w=this;var y=v.plugins.jivecontextmenu;this.editTableProperties=$j(jive.rte.table.allTableProperties());this.editColumnProperties=$j(jive.rte.table.allColumnProperties());this.editRowProperties=$j(jive.rte.table.allRowProperties());this.editCellProperties=$j(jive.rte.table.allCellProperties());this.mergeCellProperties=$j(jive.rte.table.mergeCellProperties());this.resetTableProperties=this._buildTableProperties(v);this.resetColumnProperties=this._buildColumnProperties(v);this.resetRowProperties=this._buildRowProperties(v);this.resetCellProperties=this._buildCellProperties(v);this.resetCellMerge=this._buildCellMerge(v);function A(){v.plugins.jiveblackout.hideBlackout()}function C(){y.hideMenu()}function x(F){var G=$j(F);w.$table=G.closest("table");w.$row=G.closest("tr");w.$column=v.plugins.jiveutil.findColumnBoundsForCell(G);w.$cell=G}function s(G){x(G);w.resetTableProperties(v);w.resetColumnProperties(v);w.resetRowProperties(v);w.resetCellProperties(v);w.resetCellMerge(v);function F(){y.onHideMenu.remove(H);C()}function H(){v.onHideBlackout.remove(F);A()}if(y){y.onHideMenu.add(H)}if(v.onHideBlackout){v.onHideBlackout.add(F)}}var r=/^td|th$/i;if(y){function t(K,G,F,I){function H(){return G.get(0)}var J=new y.MenuItem(K,r,null,H,$j.noop,{width:F?F:262,height:I?I:371},null,null,s);return new y.Menu([J],true,true)}function E(){v.plugins.jiveblackout.showBlackout(v,w.$table)}var B=new y.MenuItem("tableItem",r,jive.rte.table.propertiesChooserTable(),{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/icons.gif",xOffset:580,yOffset:20,width:20,height:20},t("tableProps",this.editTableProperties),null,E);var q=new y.MenuItem("columnItem",r,jive.rte.table.propertiesChooserColumn(),{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/icons.gif",xOffset:600,yOffset:40,width:20,height:20},t("columnProps",this.editColumnProperties),null,function(){var G=v.plugins.jiveutil.findColumnFirstCell(w.$cell);var F=v.plugins.jiveutil.findColumnLastCell(w.$cell);if(G.length&&F.length){v.plugins.jiveblackout.showBlackout(v,G,F)}});var D=new y.MenuItem("rowItem",r,jive.rte.table.propertiesChooserRow(),{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/icons.gif",xOffset:780,yOffset:20,width:20,height:20},t("rowProps",this.editRowProperties),null,function(){v.plugins.jiveblackout.showBlackout(v,w.$row)});var p=new y.MenuItem("cellItem",r,jive.rte.table.propertiesChooserCell(),{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/icons.gif",xOffset:600,yOffset:20,width:20,height:20},t("cellProps",this.editCellProperties),null,function(){v.plugins.jiveblackout.showBlackout(v,w.$cell)});var u=new y.MenuItem("mergeCellItem",r,jive.rte.table.propertiesChooserMergeCells(),{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/icons.gif",xOffset:760,yOffset:20,width:20,height:20},t("mergeCellProps",this.mergeCellProperties,156,110),null,function(){v.plugins.jiveblackout.showBlackout(v,w.$cell)});var z=new y.MenuItem("deleteTableItem",r,jive.rte.table.deleteText(),{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/icons.gif",xOffset:620,yOffset:20,width:20,height:20},function(F){var G=$j(F).closest("table");if(G.length){v.execCommand("mceTableDelete");v.plugins.jiveblackout.hideBlackout()}return true},null,E);this.propertyChooserMenu=new y.Menu([B,q,D,p,u,z],true,false,jive.rte.table.editText(),null,A);return new y.MenuItem("tablePropsItem",r,null,{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/icons.gif",xOffset:580,yOffset:20,width:20,height:20},this.propertyChooserMenu,null,null,null,x)}return null},init:function(p){this.ed=p;this.FONT_MENU=(function(){var q=p.settings.theme_advanced_fonts;var r=[];r.push("<div class='fontPicker'>");$j.each(q.split(";"),function(u,t){var s=t.split("=");r.push("<a href='javascript:;' style='font-family: ");r.push(s[1]);r.push("' data-font-info='");r.push(s[1]);r.push("'>");r.push(s[0]);r.push("</a>")});r.push("</div>");return r.join("")})();p.onInit.add(function(){var r=this;function q(){if(!q.hasRun){q.hasRun=true;r.onTableStyleChange=new tinymce.util.Dispatcher();r.onTableStyleChange.add(b);var s=r.buildPopover(p);if(p.plugins.jivecontextmenu){p.plugins.jivecontextmenu.addRootItem(s)}}}if(tinymce.isIE7){p.onNodeChange.add(function(){if(!q.hasRun){if(p.dom.select("table").length>0){q()}}})}else{q()}},this)},getInfo:function(){return{longname:"Jive Table",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}}});tinymce.PluginManager.add("jivetable",tinymce.plugins.JiveTablePlugin)})();
;
(function(){tinymce.create("tinymce.plugins.JiveTableControlsPlugin",{rte:null,$rowopts:null,$colopts:null,$addrows:null,$rowPopover:null,$colPopover:null,$rowline:null,$colline:null,minY:0,minX:0,$node:null,resetMinMaxY:function(a){this.minY=a.plugins.jivescroll.lastScrollY;this.minX=a.plugins.jivescroll.lastScrollX},execCommand:function(e,k,b){var h=this.ed;var j=this;if(e=="mceTableDuplicateCol"){var c=h.plugins.jiveutil.findColumnBoundsForCell(this.$node);c.each(function(o){$j(this).clone().insertAfter($j(this))});return true}else{if(e=="mceTableDuplicateRow"){var n=this.$node.closest("tr");n.clone().insertAfter(n);return true}else{if(e=="mceTableAddRow"){var l=j.$addrows.find("input.rows");l.change();var m=l.val();var a=$j($j(j.$node).closest("table").andSelf().toArray().reverse()).filter("table");if(a.length){var g=a.find("tbody:first tr:last");var d=g.parent();g=g.clone();g.find("td, th").empty();if(!tinymce.isIE){g.find("td, th").append(h.plugins.jivemacros.createMozBR(h.getDoc()))}for(var f=0;f<m;f++){d.append(g.clone())}h.nodeChanged()}}}}},setRTE:function(a){this.rte=a;this.completeInit()},completeInit:function(){if(this.ed&&this.rte&&!this.initialized){this.initialized=true;var e=this.ed;var k=this.rte;var h=this;e.plugins.jivetable.createSpinnerInput(this.$addrows.find("input.rows"),1,99,1,function(){});var n=function(s){if(s.keyCode==13){h.$addrows.find("input.button").mousedown();return false}};this.$addrows.find("input.rows").keydown(n).keyup(n).keypress(n);if(h.rte){h.$rowline.appendTo(h.rte.getPopOverContainer()).hide();h.$colline.appendTo(h.rte.getPopOverContainer()).hide()}this.$addrows.find("input.button").mousedown(function(){e.execCommand("mceTableAddRow",false,h.selectNode());e.focus();return false}).click(function(){return false}).mouseup(function(){e.focus();return false});e.onResizingNode.add(function(s){if(h.$node&&h.$node.closest("table").get(0)==s.get(0)){h.showCorners(e,h.$node)}});e.onNodeChange.add(function(t){var s=$j($j(t.selection.getNode()).closest("td,th").andSelf().toArray().reverse()).filter("td,th");if(s.is("td,th")){this.showCorners(t,s)}else{this.hideCorners()}},this);e.onMouseDown.add(function(s){},this);h.resetMinMaxY(e);var i=0;var g=0;var a=false;var m=null;var r=null;var l=null;var p=null;var b=null;var f=null;var o=0;var j=0;var c=0;var q=0;var d=0;this.$rowopts.mousedown(function(u){d=$j(e.getContentAreaContainer()).offset().top;l=null;b=null;i=u.pageX;g=u.pageY;e.plugins.jivemouse.showMouseCatch();c=h.rte.getContentAreaHeight();q=h.rte.getContentAreaWidth();var t=h.$node.closest("tr").offset();r=e.plugins.jiveutil.clone(h.$node.closest("tr"),window.parent.document).wrap("<table/>").closest("table").addClass("temp");r.find("th").each(function(v){$j(this).width(h.$node.closest("tr").find("th:nth("+v+")").outerWidth())});r.find("td").each(function(v){$j(this).width(h.$node.closest("tr").find("td:nth("+v+")").outerWidth())});r.find("td,th").empty();var s={position:"absolute",left:t.left,top:t.top,margin:0,backgroundColor:"#999999",opacity:0.5,width:h.$node.closest("table").outerWidth()+"px",height:h.$node.closest("tr").outerHeight()};if(s.left<h.minX){s.left=h.minX}if(s.left>h.minX+q){s.left=h.minX+q}if(s.top<h.minY+12){s.height+=s.top-h.minY-12;s.top=h.minY+12}if(s.top+s.height>h.minY+c){s.height=h.minY+c-s.top}j=s.top;o=s.height;r.attr("style",h.$node.closest("table").attr("style"));r.css(s);r.find("tr").css("height","auto");r.insertBefore(h.$rowline);h.$rowline.show().css({width:h.$node.closest("table").outerWidth(),top:t.top-2+"px",left:t.left+"px"});m=e.selection.getBookmark();return false});$j(e.getContainer()).parents("body").bind("mousemove.rte",function(w){if(r&&h.$node&&h.$node.closest("table").length){l=h.$node.closest("tr");var v=h.$node.closest("table");var s=(w.pageY-g);r.css("top",j+s+"px");l=null;var t=0;h.$node.closest("tr").parent().children("tr").each(function(y){if(!l){l=$j(this)}var z=Math.abs((r.position().top+r.outerHeight()/2)-$j(this).offset().top);if(y==0||z<t){l=$j(this);t=z}});var x=Math.abs((r.position().top+r.outerHeight()/2)-(v.offset().top+v.outerHeight()));if(x<t){h.$rowline.css("top",v.offset().top+v.outerHeight()-2+"px");a=true}else{h.$rowline.css("top",l.offset().top-2+"px");a=false}var u={top:r.position().top-8,left:r.position().left,height:o-1+16};if(u.left<h.minX){u.left=h.minX}if(u.left>h.minX+q){u.left=h.minX+q}if(u.top<h.minY+12){u.height+=u.top-h.minY-12;u.top=h.minY+12}if(u.top+u.height>h.minY+c){u.height=h.minY+c-u.top}h.trimCorners(u,h.$rowopts);r.css("height",u.height-12);r.css("top",u.top+6)}});$j(e.getContainer()).parents("body").bind("mouseup.rte",function(u){var x=false;var w=h.$node;var v=w?w.closest("table"):$j([]);var t=false;if(r||p){v.find("[colspan], [rowspan]").each(function(){var z=$j(this);var B=z.attr("colspan");var A=z.attr("rowspan");if((B!=null&&B!=1)||(A!=null&&A!=1)){t=true;z.attr("_colspan",B);z.attr("_rowspan",A);var y=[];y.cell=this;e.execCommand("mceTableSplitCells",false,y)}})}if(r&&w&&v.length){e.plugins.jivemouse.hideMouseCatch();h.rte.getPopOverContainer().find(".temp").remove();r=null;h.$rowline.hide();if(l&&a){w.closest("tr").appendTo(l.parent());x=true}else{if(l&&!a){if(w.closest("tr").get(0)!=l.get(0)){w.closest("tr").insertBefore(l)}x=true}}}if(p&&w&&v.length){e.plugins.jivemouse.hideMouseCatch();h.rte.getPopOverContainer().find(".temp").remove();p=null;h.$colline.hide();if(b&&a){var s=e.plugins.jiveutil.findColumnBoundsForCell(w);b=e.plugins.jiveutil.findColumnBoundsForCell(w.nextAll("td:last-child, th:last-child"));if(s.get(0)!=b.get(0)){s.each(function(y){var z=b.filter(":nth("+y+")");if(z.length){$j(this).insertAfter(z)}})}x=true}else{if(b&&!a){var s=e.plugins.jiveutil.findColumnBoundsForCell(w);b=e.plugins.jiveutil.findColumnBoundsForCell(b);if(s.get(0)!=b.get(0)){s.each(function(y){var z=b.filter(":nth("+y+")");if(z.length){$j(this).insertBefore(z)}})}x=true}}}if(t){v.find("[_colspan], [_rowspan]").each(function(){var A=$j(this).attr("_colspan");var z=$j(this).attr("_rowspan");$j(this).removeAttr("_colspan");$j(this).removeAttr("_rowspan");var y=[];y.cell=this;y.numcols=A?A:1;y.numrows=z?z:1;e.execCommand("mceTableMergeCells",false,y)})}if(e.selection){e.selection.moveToBookmark(m)}if(x){e.nodeChanged()}});this.$colopts.mousedown(function(t){l=null;b=null;i=t.pageX;g=t.pageY;e.plugins.jivemouse.showMouseCatch();c=h.rte.getContentAreaHeight();q=h.rte.getContentAreaWidth();f=e.plugins.jiveutil.findColumnFirstCell(h.$node);var u=f.offset();p=$j("<table><tr><td></td></tr></table>").addClass("temp");var s={position:"absolute",left:u.left,top:u.top,margin:0,backgroundColor:"#999999",opacity:0.5,width:f.outerWidth()+"px",height:h.$node.closest("table").outerHeight()};if(s.left<h.minX){s.left=h.minX}if(s.left>h.minX+q){s.left=h.minX+q}if(s.top<h.minY+12){s.height+=s.top-h.minY-12;s.top=h.minY+12}if(s.top+s.height>h.minY+c){s.height=h.minY+c-s.top}j=s.top;o=s.height;p.attr("style",h.$node.closest("table").attr("style"));p.css(s);p.insertBefore(h.$colline);h.$colline.show().css({height:o,top:u.top+"px",left:u.left-2+"px"});m=e.selection.getBookmark();return false});$j(e.getContainer()).parents("body").mousemove(function(y){if(p&&h.$node&&h.$node.closest("table").length){var w=h.$node.closest("table");var s=(y.pageX-i);p.css("left",f.offset().left+s+"px");b=null;var t=0;h.$node.closest("tr").children("td,th").each(function(A){if(!b){b=$j(this)}var B=Math.abs((p.position().left+p.outerWidth()/2)-$j(this).offset().left);if(A==0||B<t){b=$j(this);t=B}});var z=Math.abs((p.position().left+p.outerWidth()/2)-(w.offset().left+w.outerWidth()));if(z<t){h.$colline.css("left",w.offset().left+w.outerWidth()-2+"px");a=true}else{h.$colline.css("left",b.offset().left-2+"px");a=false}var v={top:p.position().top,left:p.position().left,width:p.outerWidth()-1};var x=h.rte.getContentAreaHeight();var u=h.rte.getContentAreaWidth();if(v.top<h.minY){v.top=h.minY}if(v.top>h.minY+x){v.top=h.minY+x}if(v.left<h.minX){v.left=h.minX}if(v.left>h.minX+u){v.left=h.minX+u}h.trimCorners(v,h.$colopts)}});h.$rowopts.find("a.settings").mousedown(function(){if(h.rowOpts){h.rowOpts.closeFunc()}if(h.colOpts){h.colOpts.closeFunc()}h.rowOpts={context:h.$rowopts.find("a.settings"),position:"below",container:h.rte.getPopOverContainer(),clickOverlay:false,hoverSelection:true,addClass:"j-rte-popover js-rowProperties",additionalContainerSelector:".j-rte-popover.js-rowProperties",returnPopover:true,arrowAdjust:0,nudge:{left:30},destroyOnClose:false,darkPopover:true,onClose:function(){h.rowOpts=null}};h.$rowPopover.popover(h.rowOpts);return false}).click(function(){return false});h.$rowPopover.find("a.js-addRowBefore").click(function(){e.execCommand("mceTableInsertRowBefore",false,h.selectNode());h.hidePopover();return false});h.$rowPopover.find("a.js-addRowAfter").click(function(){e.execCommand("mceTableInsertRowAfter",false,h.selectNode());h.hidePopover();return false});h.$rowPopover.find("a.js-deleteRow").click(function(){e.execCommand("mceTableDeleteRow",false,h.selectNode());h.hidePopover();return false});h.$rowPopover.find("a.js-duplicateRow").click(function(){e.execCommand("mceTableDuplicateRow");h.hidePopover();return false});h.$colopts.find("a.settings").mousedown(function(){if(h.rowOpts){h.rowOpts.closeFunc()}if(h.colOpts){h.colOpts.closeFunc()}h.colOpts={context:h.$colopts.find("a.settings"),position:"below",container:h.rte.getPopOverContainer(),clickOverlay:false,hoverSelection:true,addClass:"j-rte-popover js-rowProperties",additionalContainerSelector:".j-rte-popover.js-rowProperties",returnPopover:true,arrowAdjust:0,nudge:{left:30},destroyOnClose:false,darkPopover:true,onClose:function(){h.colOpts=null}};h.$colPopover.popover(h.colOpts);return false}).click(function(){return false}).mouseup(function(){return false});h.$colPopover.find("a.js-addColBefore").click(function(){e.execCommand("mceTableInsertColBefore",false,h.selectNode());h.hidePopover();return false});h.$colPopover.find("a.js-addColAfter").click(function(){e.execCommand("mceTableInsertColAfter",false,h.selectNode());h.hidePopover();return false});h.$colPopover.find("a.js-deleteCol").click(function(){e.execCommand("mceTableDeleteCol",false,h.selectNode());h.hidePopover();return false});h.$colPopover.find("a.js-duplicateCol").click(function(){e.execCommand("mceTableDuplicateCol");h.hidePopover();return false})}},init:function(a){var c=this;c.ed=a;$j.extend(this,{$rowopts:$j("<div class='resizeRowHandle'><div class='propsHandle'><a href='javascript:;' class='settings'></a></div></div>"),$colopts:$j("<div class='resizeColHandle'><div class='propsHandle'><a href='javascript:;' class='settings'></a></div></div>"),$addrows:$j("<div class='addRowsHandle'> "+a.getLang("jivetablecontrols.add")+" <input class='rows spin-button'> "+a.getLang("jivetablecontrols.rows")+" <input type='button' class='button' value='Go'></div>"),$rowPopover:$j('<div class="j-menu"><ul><li><a href="javascript:;" class="js-addRowBefore">'+a.getLang("jivetablecontrols.add_row_before")+'</a></li><li><a href="javascript:;" class="js-addRowAfter">'+a.getLang("jivetablecontrols.add_row_after")+'</a></li><li><a href="javascript:;" class="js-deleteRow">'+a.getLang("jivetablecontrols.delete_row")+'</a></li><li><a href="javascript:;" class="js-duplicateRow">'+a.getLang("jivetablecontrols.duplicate_row")+"</a></li></ul></div>"),$colPopover:$j('<div class="j-menu"><ul><li><a href="javascript:;" class="js-addColBefore">'+a.getLang("jivetablecontrols.add_col_before")+'</a></li><li><a href="javascript:;" class="js-addColAfter">'+a.getLang("jivetablecontrols.add_col_after")+'</a></li><li><a href="javascript:;" class="js-deleteCol">'+a.getLang("jivetablecontrols.delete_col")+'</a></li><li><a href="javascript:;" class="js-duplicateCol">'+a.getLang("jivetablecontrols.duplicate_col")+"</a></li></ul></div>"),$rowline:$j("<div class='rowLine'></div>"),$colline:$j("<div class='colLine'></div>")});var b=(function(e,d){return function(g,f){if(e.$node){this.minY=f;this.minX=g;e.showCorners(d,e.$node,e.preserveRatio)}}})(this,a);a.onInit.add(this.completeInit,this);a.onScroll.add(b,this);a.theme.onResize.add(function(){c.resetMinMaxY(a);b(c.minX,c.minY+c.rte.getContentAreaHeight())},this)},killYourself:function(){$j(this.ed.getContainer()).parents("body").unbind(".rte")},hideCorners:function(){this.hidePopover();this.$node=null;this.$rowopts.detach();this.$colopts.detach();this.$addrows.detach();this.opts=null},trimCorners:function(b,d){if(!this.rte){return}var c=this.rte.getContentAreaHeight();var a=this.rte.getContentAreaWidth();if(b.top<this.minY-3){d.detach()}else{if(b.top>this.minY+c){d.detach()}else{if(b.left<this.minX){d.detach()}else{if(b.left>this.minX+a){d.detach()}else{d.insertBefore(this.$rowline)}}}}d.css("top",b.top);d.css("left",b.left);if(b.height){d.height(b.height)}if(b.width){d.width(b.width)}d.css("cursor",b.cursor)},showCorners:function(b,a){var e=this;if(!a||!a.length){return}e.hidePopover();this.resetMinMaxY(b);this.$node=a;var f=this.rte.getContentAreaHeight();var c=this.rte.getContentAreaWidth();function d(){var k=a.closest("tr");var g=a.closest("table");var j=k.offset();var m=g.offset();var l=b.plugins.jiveutil.findColumnFirstCell(a);var i=l.offset();if(l.length==0){return}var h={top:j.top-8,left:j.left,height:k.outerHeight()-1+16};if(h.left<e.minX){h.left=e.minX}if(h.left>e.minX+c){h.left=e.minX+c}if(h.top<e.minY+12){h.height+=h.top-e.minY-12;h.top=e.minY+12}if(h.top+h.height>e.minY+f){h.height=e.minY+f-h.top}e.trimCorners(h,e.$rowopts);h={top:i.top,left:i.left,width:l.outerWidth()-1};if(h.left<e.minX&&h.left>e.minX-10){h.left=e.minX}if(h.top<e.minY+12){h.top=e.minY+12}if(h.top>e.minY+f){h.top=e.minY+f}e.trimCorners(h,e.$colopts);h={top:m.top+g.outerHeight()-1,left:m.left};e.trimCorners(h,e.$addrows);e.$addrows.find("input.rows").val(1)}d()},hidePopover:function(b,a){if(this.colOpts){this.colOpts.closeFunc(a);this.colOpts=null}if(this.rowOpts){this.rowOpts.closeFunc(a);this.rowOpts=null}},selectNode:function(){var a=[];if(!this.$node||!this.$node.length){return a}a.cell=this.$node.get(0);return a},getInfo:function(){return{longname:"Jive Table Controls",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}}});tinymce.PluginManager.add("jivetablecontrols",tinymce.plugins.JiveTableControlsPlugin)})();
;
tinyMCE.addI18n('en.jivetablecontrols',{
    add : 'Add',
    rows : 'Rows',
    add_row_before : 'Add Row Above',
    add_row_after : 'Add Row Below',
    delete_row : 'Delete Row',
    duplicate_row : 'Duplicate Row',
    add_col_before : 'Add Column Left',
    add_col_after : 'Add Column Right',
    delete_col : 'Delete Column',
    duplicate_col : 'Duplicate Column'
});
;
(function(){tinymce.create("tinymce.plugins.JiveScrollPlugin",{lastScrollY:-99,lastScrollX:-99,body:null,win:null,init:function(a){a.onScroll=new tinymce.util.Dispatcher(this);var b=this;a.onInit.add(function(){this.intervalId=setInterval(function(){b.resetScroll(a)},300);a.dom.bind(a.getWin(),"scroll",function(){if(!b.timeoutId){b.timeoutId=setTimeout(function(){b.timeoutId=null;b.resetScroll(a)},0)}if(b.intervalId){clearInterval(b.intervalId);b.intervalId=null}});setTimeout(function(){b.resetScroll(a)},0)},this);a.theme.onResize.add(function(){b.resetScroll(a)},this)},resetScroll:function(b){try{if(this.intervalId&&(b.destroyed||!b.getWin())){clearInterval(this.intervalId);return}if(!this.body){this.body=$j(b.getBody()).parents("html").andSelf();this.win=$j(b.getWin())}var d=this.body.scrollTop();if(!d){d=this.win.scrollTop()}var a=this.body.scrollLeft();if(!a){a=this.win.scrollLeft()}if(this.lastScrollY!=d||this.lastScrollX!=a){this.lastScrollY=d;this.lastScrollX=a;b.onScroll.dispatch(a,d)}}catch(c){console.log("error in jivescroll.resetScroll");console.log(c)}},getInfo:function(){return{longname:"Jive Scroll",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}}});tinymce.PluginManager.add("jivescroll",tinymce.plugins.JiveScrollPlugin)})();
;
(function(){tinymce.create("tinymce.plugins.JiveBlackoutPlugin",{rte:null,$left:$j("<div class='blackout l'></div>"),$right:$j("<div class='blackout r'></div>"),$top:$j("<div class='blackout t'></div>"),$bottom:$j("<div class='blackout b'></div>"),minY:null,minX:null,nodeL:null,nodeR:null,ed:null,setRTE:function(a){this.rte=a},resetMinMaxY:function(a){var b=$j(a.getWin());this.minY=b.scrollTop();this.minX=b.scrollLeft()},init:function(a){var d=this;this.ed=a;a.onHideBlackout=new tinymce.util.Dispatcher(this);function c(){d.resetMinMaxY(a)}function b(){if(d.nodeL||d.nodeR){d.showBlackout(a,d.nodeL,d.nodeR)}}a.onNodeChange.add(b);a.onScroll.add(function(){c();b()});a.theme.onResize.add(function(){c();b()});$j(window).resize(function(){c();b()});$j(window.document.body).click(function(){d.hideBlackout()});a.onInit.add(c,this);setTimeout(c,300);setTimeout(c,500);setTimeout(c,800)},hideBlackout:function(){if(this.nodeL||this.nodeR){this.nodeL=null;this.nodeR=null;this.$left.remove();this.$right.remove();this.$top.remove();this.$bottom.remove();this.ed.onHideBlackout.dispatch()}},showBlackout:function(h,n,i){var j=this;if(!n){return}if(!i){i=n}this.resetMinMaxY(h);this.nodeL=n;this.nodeR=i;var m=$j(n);var g=$j(i);var c=m.offset();var p=g.offset();if(!p||!c){return}var b=this.rte.getPopOverContainer();var o=this.rte.getContentAreaHeight();var d=this.rte.getContentAreaWidth();function f(q,r){q.bottom=q.top+q.height;q.right=q.left+q.width;if(q.left<j.minX){q.width-=j.minX-q.left;q.left=j.minX}if(q.top<j.minY){q.height-=j.minY-q.top;q.top=j.minY}if(q.bottom>j.minY+o){q.height-=q.top+q.height-j.minY-o}if(q.left+q.width>j.minX+d){q.width-=q.left+q.width-j.minX-d}if(q.left>=j.minX+d){r.remove()}else{if(q.top>=j.minY+o){r.remove()}else{if(q.top>=q.bottom||q.left>=q.right){r.remove()}else{b.append(r)}}}delete q.bottom;delete q.right;r.css(q);r.click(function(){j.hideBlackout()})}var a=g.outerHeight();var e=g.outerWidth();var k=$j(h.getBody()).outerHeight();var l={top:p.top+a,left:c.left,width:p.left+e-c.left,height:Math.max(o,k)-p.top-a};f(l,this.$bottom);l={top:0,left:0,width:c.left,height:Math.max(o,k)};f(l,this.$left);l={top:0,left:c.left,width:p.left+e-c.left,height:c.top};f(l,this.$top);l={top:0,left:p.left+e,width:Math.max(d,$j(h.getDoc()).width())-e-p.left,height:Math.max(o,k)};f(l,this.$right)},getInfo:function(){return{longname:"Jive Blackout",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}}});tinymce.PluginManager.add("jiveblackout",tinymce.plugins.JiveBlackoutPlugin)})();
;
(function(){function g(k,j){if(k===j){return true}if(k==null||j==null||k.length!==j.length){return false}for(var h=0;h<k.length;++h){if(k[h]!==j[h]){return false}}return true}function f(i){if(i==null){i=/./}return function h(j){var k=j.startContainer.childNodes[j.startOffset];if(!k){k=j.startContainer}while(k&&(k.nodeType!=1||!i.test(k.nodeName))){k=k.parentNode}return k}}var a=f();var d=10;function e(){this._bound=function h(k,j,i){if(j<i){return null}return Math.min(Math.max(k,i),j)};this._positionArrow=function(i){return{top:i.height/2+4}};this._positionMenuLeft=function(t,k,p,o){var s=p.contextPos.left,r=p.contextWidth,q=p.contextMarginLeft,l=k.width,n=p.minX-p.leftSlop,j=p.minX+p.contentAreaW;function u(y,x){return function(){var z=y();if(!z){z=x()}return z}}function v(){if(s+q-l-d>=n){return{left:s+q-l-d,arrowPos:"left"}}if(s+q+p.contextPaddingLeft-l-d>=n){return{left:s+q+p.contextPaddingLeft-l-d,arrowPos:"left"}}}function i(){if(s+r+l+d<=j){return{left:s+r+d,arrowPos:"right"}}if(s+r<=j){return{left:s+r-l-d,arrowPos:"left"}}}function w(){if(s+q>=n){return{left:s+q+d,arrowPos:"right"}}}function m(){return{left:s+r-l-d,arrowPos:"left"}}if($j(p.contextNodes).filter("th,td").length){return u(i,u(v,u(w,m)))()}return u(v,u(i,u(w,m)))()};this._positionMenuTop=function(o,k,n,m){var p=n.cursorPos.top+n.cursorHeight/2,q=n.minY,j=n.minY+n.contentAreaH,r=k.height,i=n.contextPos.top+n.contextMarginTop,l=n.contextPos.top+n.contextMarginTop+n.contextHeight;var t=r/2;var s=this._bound(p,j-t,q+t);return this._bound(s,l,i)-r/2};this.position=function(l,j,n,i){var m=this._positionMenuLeft(l,j,n,i);var k={top:this._positionMenuTop(l,j,n,i),left:m.left};return{menuPos:k,menuDims:l,arrow:this._positionArrow(l),arrowClass:m.arrowPos+"Arrow"}}}function c(){this._superPositionLeft=this._positionMenuLeft;this._positionMenuLeft=function(r,i,n,m){var q=n.contextPos.left,p=n.contextWidth,o=n.contextMarginLeft,j=i.width,l=n.minX-n.leftSlop,h=n.minX+n.contentAreaW;var k=q+o-l;var s=h-(q+p+j);if(k>s&&k>=i.width){return{left:q+o-j-d,arrowPos:"left"}}else{if(k<=s&&s>=i.width){return{left:q+p+d,arrowPos:"right"}}else{return this._superPositionLeft(r,i,n,m)}}}}c.prototype=new e();function b(){var i=tinymce.activeEditor.plugins.jivecontextmenu;function h(k,j){return(k-j)/2}this.position=function(o,n,p,l){var j=h(i.lastPosition.menuDims.height,o.height);var k=0;if(i.$arrow.hasClass("leftArrow")){k=i.lastPosition.menuDims.width-o.width}var m=$j.extend(true,{},i.lastPosition,{menuDims:o});m.menuPos.top+=j;m.menuPos.left+=k;m.menuPos.left=this._bound(m.menuPos.left,p.minX+p.contentAreaW,p.minX-p.leftSlop);return $j.extend(true,m,{arrow:this._positionArrow(m.menuDims)})}}b.prototype=new e();tinymce.create("tinymce.plugins.JiveContextMenuPlugin",{MenuItem:function(m,o,s,r,p,v,u,l,n){var q=tinymce.activeEditor;if(!o){o=f()}else{if(o.constructor==RegExp){o=f(o)}}var k;if(typeof(r)=="string"){k=function(){var w=$j("<a class='button' href='javascript:;' style='float: left; width: auto; height: auto;'></a>");return w.append("<img src='"+r+"' />").get(0)}}else{if(typeof(r)=="function"){k=r}else{var i={backgroundImage:"url("+r.url+")",backgroundPosition:-r.xOffset+"px "+(-r.yOffset)+"px",width:r.width+"px",height:r.height+"px"};if(!v){v=function(w){return{width:r.width,height:r.height}}}k=function(){var x=$j("<a class='button' href='javascript:;' style='float: left;'></a>");x.css(v());var w=$j("<div />").css(i);return x.append(w).get(0)}}}var h;if(typeof(p)=="string"){h=function(x,w){q.execCommand(p,false,{node:x,rng:w});return true}}else{if(typeof(p)=="function"){h=p}else{h=function(x,w){p.show(q,w,null,p.items)}}}if(!v){v=function(w){return{width:20,height:20}}}else{if(typeof(v)=="object"){var t=v;v=function(){return t}}}function j(w){var x=this.findContextNode(w);if(x){var z=0;var y=w.startContainer.childNodes[w.startOffset];if(!y){++z;y=w.startContainer}while(y!=x){y=y.parentNode;++z}return z}return -1}$j.extend(this,{id:m,findContextNode:o,distance:j,title:s,render:k,action:$j.proxy(h,this),getDims:v,mouseenter:u?$j.proxy(u,this):null,mouseleave:l?$j.proxy(l,this):null,displayCallback:n?$j.proxy(n,this):null})},PositionStrategy:e,StaticPositionStrategy:b,MenuDisplayManager:function(i,n){var l=i.plugins.jivecontextmenu;var j=300;this.isVertical=n;var h=new c();var k=new b();var o=i.plugins.jiveutil.arrayEquals;$j.extend(this,{lastItems:null,renderItems:function(p,u,t,q){var s=u.getDOM();var r=t.$menu;if(!o(this.lastItems,q)){this.lastItems=q;s.children().remove();$j.each(q,function(){var x=this;var v=$j(x.render(x,i,t.$menu)).addClass("menuItem_"+x.id);if(u.title!=null&&x.title!=null){function w(y){return function(){t.setItemTitle(y)}}v.mouseenter(w(x.title))}v.click(function(z){if(tinymce.isIE){i.focus()}var y=i.selection.getRng(true);var B=x.findContextNode(y);t.clearHideTimeout();var A=x.action(B,y);if(A!==false){u.tearDownMenu()}if(A===true){u.hide()}return false});if(x.mouseenter){v.mouseenter(x.mouseenter)}if(x.mouseleave){v.mouseleave(x.mouseleave)}s.append(v)})}r.find(".menuItems").hide();s.show();$j.each(q,function(){if(this.displayCallback){var v=this.findContextNode(p);this.displayCallback(v,s.children(".menuItem_"+this.id).get(0))}})},getConstraints:function(y,q,B){var p=y.selection.getRng(true);var x=y.plugins.jivescroll;var A=y.plugins.jivecontextmenu;function s(D){var C=parseFloat(D);return isNaN(C)?0:C}var w=B[0].findContextNode(p);var t=[];$j.each(B,function(){var C=this.findContextNode(p);if(C){t.push(C)}});var z=$j(w);var r=s(z.css("margin-top"));var v=s(z.css("margin-left"));var u=$j(q);return{contentAreaH:A.rte.getContentAreaHeight(),contentAreaW:A.rte.getContentAreaWidth(),minY:x.lastScrollY,minX:x.lastScrollX,leftSlop:40,contextNode:w,contextNodes:t,contextPos:z.position(),contextHeight:z.outerHeight()+r,contextWidth:z.outerWidth()+v,contextMarginTop:r,contextMarginLeft:v,contextPaddingLeft:s(z.css("padding-left")),cursorPos:u.position(),cursorHeight:u.outerHeight(true),cursorPaddingLeft:s(u.css("padding-left"))}},findDimensions:function(u,r){var t={width:0,height:0};if(this.isVertical){$j.each(r,function(){var v=this.getDims();t.width=Math.max(v.width,t.width);t.height+=v.height});t.width+=6;t.height+=(r.length)*6}else{$j.each(r,function(){var v=this.getDims();t.width+=v.width;t.height=Math.max(v.height,t.height)});t.width+=(r.length)*6;t.height+=6}if(u.title!=null&&!this.isVertical){var p="";$j.each(r,function(){if(this.title!=null&&this.title.length>p.length){p=this.title}});l.setMenuTitle(u.title);var q=l.getTextDims(u.title,p+"m");t.width=Math.max(t.width,q.width+6);t.height+=q.height;l.setItemTitle("");l.$textLabel.show()}else{l.$textLabel.hide()}var s={width:t.width+29,height:t.height+32};return{inner:t,outer:s}},position:function(s,r,v,q){function u(C,y){function B(G,I,F,H){var E=G-F;var D=I-H;return Math.sqrt(E*E+D*D)}var x=C.x,A=C.y,w=y.left,z=y.top;if(B(x,A,w,z)<=j){return false}w+=y.width;if(B(x,A,w,z)<=j){return false}z+=y.height;if(B(x,A,w,z)<=j){return false}w-=y.width;return B(x,A,w,z)>j}var p=l.$menu.filter(":visible").length>0;var t=null;if(p){t=k.position(s,r,v,q)}if(!t){t=h.position(s,r,v,q)}l.$arrow.removeClass().addClass(t.arrowClass+" pointer");return t},clip:function(p,q){if(p.menuPos.top+p.menuDims.height<q.minY-3){return null}else{if(p.menuPos.top>q.minY+q.contentAreaH){return null}else{if(p.menuPos.left+p.menuDims.width<q.minX-q.leftSlop){return null}else{if(p.menuPos.left>q.minX+q.contentAreaW){return null}else{return p}}}}},layoutMenu:function m(u,r,w,q,p){this.renderItems(p.selection.getRng(true),u,l,q);var v=this.getConstraints(p,r,q);var t=this.findDimensions(u,q);var s=this.position(t.inner,t.outer,v,w);return this.clip(s,v)}})},Menu:function(y,u,n,z,q,i,t){if(y==null){y=[]}var l=tinymce.activeEditor.plugins.jivecontextmenu;if(t==null){t=new l.MenuDisplayManager(tinymce.activeEditor,n)}var m=this;var o=l.$menuPopover;var j=l.$menu;var s=l.$arrow;var x=$j("<div class='menuItems'></div>");x.hide();if(q!=null){q=$j.proxy(q,this);o.mouseenter(q)}if(i!=null){i=$j.proxy(i,this);o.mouseleave(i)}l.$menu.append(x);function w(){if(q){o.unbind("mouseenter",q)}if(i){o.unbind("mouseleave",i)}}function p(){o.find(".menuItems").hide();o.hide();w();l.onHideMenu.dispatch(m);l.clearHideTimeout()}function v(C,A,F,B){function D(){var G=[];var H={};$j.each(m.items,function(){H[this.id]=this.distance(A)});G=m.items.slice();if(!u){G.sort(function(J,I){return H[J.id]-H[I.id]})}G=$j.map(G,function(I){return(H[I.id]<0)?null:I});return G}if(B==null){B=D()}if(B.length==0){this.hide()}else{var E=a(A);k(E,F,B,C);l.onShowMenu.dispatch(m)}}function k(C,E,B,A){var D=t.layoutMenu(m,C,E,B,A);if(D){if(o.is(":visible")){s.hide().css(D.arrow);o.animate(D.menuPos,{complete:function(){s.show();o.find("a:visible, input:visible").first().focus()}});j.animate(D.menuDims)}else{s.css(D.arrow);o.css(D.menuPos);j.css(D.menuDims);o.show();l.createHideTimeout(A)}l.lastPosition=D}else{m.hide()}}function r(){return x.is(":visible")}function h(){return x}$j.extend(this,{items:y,show:v,hide:p,tearDownMenu:w,title:z,isVisible:r,getDOM:h})},setRootMenu:function(h){this.rootMenu=h},addRootItem:function(h){this.rootMenu.items.push(h)},hideMenu:function(){if(this.rootMenu){this.rootMenu.hide()}this.clearHideTimeout()},setItemTitle:function(h){this.$textLabel.children(".itemTitle").text(h)},setMenuTitle:function(h){this.$textLabel.children(".menuTitle").text(h)},getTextDims:function(j,i){var m=this.$textLabel.children(".itemTitle").text();var l=this.$textLabel.children(".menuTitle").text();this.setMenuTitle(j);this.setItemTitle(i);var k={};var h=this.$textLabel.is(":visible");this.$poc.append(this.$textLabel);this.$textLabel.show().css("opacity","0%").css("position","absolute");k.width=this.$textLabel.outerWidth(true);k.height=this.$textLabel.outerHeight(true);this.$textLabel.css("opacity","").css("position","");if(!h){this.$textLabel.hide()}this.$menu.prepend(this.$textLabel);this.setMenuTitle(l);this.setItemTitle(m);return k},makeFindContextNode:f,rte:null,rootMenu:null,$menuPopover:null,$menu:null,fullPopOverWidth:230,fullPopOverHeight:400,MENU_TIMEOUT:2000,lastPosition:null,theHideTimeout:null,createHideTimeout:function(h){this.clearHideTimeout();var i=this;this.theHideTimeout=setTimeout(function(){i.hideMenu()},this.MENU_TIMEOUT)},clearHideTimeout:function(){if(this.theHideTimeout!=null){clearTimeout(this.theHideTimeout);this.theHideTimeout=null}},setRTE:function(h){this.rte=h;this.completeInit()},completeInit:function(){if(this.rte&&!this.initialized){this.initialized=true;var h=this.rte.getPopOverContainer();h.append(this.$menuPopover);this.$poc=h}},init:function(k){var l=this;this.onShowMenu=new tinymce.util.Dispatcher();this.onHideMenu=new tinymce.util.Dispatcher();var o=null;function m(q){if(q){o=q}else{q=o}if(l.rootMenu&&k.selection){l.rootMenu.hide();l.rootMenu.show(k,k.selection.getRng(true),q)}}function p(){l.hideMenu()}function n(r,q){var s=r.plugins.jivescroll;var t={x:q.clientX+s.lastScrollX,y:q.clientY+s.lastScrollY};l.lastPosition=null;m(t)}k.onClick.add(n);k.addShortcut("alt+c, alt+g","Context Menu",function(){m();l.clearHideTimeout();l.$menuPopover.find("a").first().focus()});if(tinymce.isIE){k.onMouseUp.add(function(r,q){if(q.target.nodeName.toLowerCase()=="img"){n(r,q)}})}k.onKeyDown.addToTop(function(){if(l.theHideTimeout!=null){p()}});function i(){m()}k.theme.onResize.add(i);$j(window).resize(i);var j=$j(k.getContainer()).children("table:first tr.mceIframeRow");k.onScroll.add(function(s,r){if(this.lastPosition){if((this.lastPosition.menuPos.top+20)-r<=0){p()}else{var q=j.height();if((this.lastPosition.menuPos.top+20)-r>=q){p()}}}},this);k.onInit.add(function(){this.completeInit()},this);this.$menuPopover=$j("<div class='j-pop js-pop j-rte-popover j-table-popover popover'><div class='j-pop-main j-rte'><h3 class='textLabel'><span class='menuTitle'></span><span class='itemTitle'></span></h3></div><span class='pointer'></span></div>");this.$menu=this.$menuPopover.children(".j-pop-main");this.$menuPopover.css("position","absolute").hide();this.$arrow=this.$menuPopover.children(".pointer");this.$textLabel=this.$menu.children(".textLabel");this.$menuPopover.mouseenter(function(){l.clearHideTimeout()}).mouseleave(function(){if(l.rootMenu.isVisible()){l.createHideTimeout(k)}}).keydown(function(q){if(q.keyCode==27){p();k.focus();return false}});var h=new this.Menu([],false,true);this.setRootMenu(h)},getInfo:function(){return{longname:"Jive Context",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}}});tinymce.PluginManager.add("jivecontextmenu",tinymce.plugins.JiveContextMenuPlugin)})();
;
(function(){tinymce.create("tinymce.plugins.JiveResizePlugin",{rte:null,$tl:$j("<div class='handle tl'></div>"),$tr:$j("<div class='handle tr'></div>"),$bl:$j("<div class='handle bl'></div>"),$br:$j("<div class='handle br'></div>"),minY:0,minX:0,$node:null,preserveRatio:false,dragging:false,resetMinMaxY:function(a){this.minY=a.plugins.jivescroll.lastScrollY;this.minX=a.plugins.jivescroll.lastScrollX},setRTE:function(a){this.rte=a;this.completeInit()},selectNode:function(b){if(tinymce.isIE){var a=b.closest("table");if(a.length&&a.get(0)==b.get(0)){return $j([])}return a}else{return $j(b.closest("img, table").andSelf().toArray().reverse()).filter("img, table")}},completeInit:function(){if(this.ed&&this.rte&&!this.initialized){this.initialized=true;var a=this.ed;var b=this.rte;var c=this;a.onNodeChange.add(function(e){var d=c.selectNode($j(e.selection.getNode()));if(d.is("img, table")){this.showCorners(e,d,d.is("img"))}else{this.hideCorners()}},this);a.onMouseDown.add(function(d){c.hideCorners()},this);a.onClick.add(function(e){var d=c.selectNode($j(e.selection.getNode()));if(d.is("img, table")){this.showCorners(e,d,d.is("img"))}else{this.hideCorners()}},this);c.resetMinMaxY(a);c.setupHandlers(a)}},init:function(a){this.ed=a;a.onResizingNode=new tinymce.util.Dispatcher(this);a.onResizedNode=new tinymce.util.Dispatcher(this);var c=this;var b=(function(e,d){return function(g,f){e.minY=f;e.minX=g;if(e.$node){if(!e.dragging){e.showCorners(d,e.$node,e.preserveRatio)}}}})(this,a);a.onInit.add(this.completeInit,this);a.onScroll.add(b,this);a.theme.onResize.add(function(){c.resetMinMaxY(a);c.showCorners(a,c.$node,c.preserveRatio)},this);$j(window).resize(function(){c.resetMinMaxY(a);c.showCorners(a,c.$node,c.preserveRatio)})},hideCorners:function(){this.$node=null;this.$tl.remove();this.$tr.remove();this.$br.remove();this.$bl.remove()},showCorners:function(b,a,c){var d=this;if(!a||!a.length){return}if(a.hasClass("jive_emote")){return}this.resetMinMaxY(b);this.$node=a;this.preserveRatio=c;this.showCornersHelper();function e(){d.dragging=$j(this);b.plugins.jivemouse.showMouseCatch()}this.$br.mousedown(e);this.$bl.mousedown(e);this.$tr.mousedown(e);this.$tl.mousedown(e)},setupHandlers:function(e){var g=this;this.resetMinMaxY(e);var a=this.rte.getPopOverContainer();var k=this.rte.getContentAreaHeight();var c=this.rte.getContentAreaWidth();function d(n,o){if(n.top<e.plugins.jivescroll.lastScrollY-3){o.remove()}else{if(n.top>e.plugins.jivescroll.lastScrollY+k){o.remove()}else{if(n.left<e.plugins.jivescroll.lastScrollX){o.remove()}else{if(n.left>e.plugins.jivescroll.lastScrollX+c){o.remove()}else{a.append(o)}}}}o.css("top",n.top);o.css("left",n.left);o.css("cursor",n.cursor)}var b=-3;var h=-3;function i(){var n=g.$node.offset();o={top:n.top+g.$node.outerHeight()+h,left:n.left+g.$node.outerWidth()+b,cursor:"se-resize"};d(o,g.$br);var o={top:n.top+g.$node.outerHeight()+h,left:n.left+b,cursor:"sw-resize"};d(o,g.$bl);o={top:n.top+h,left:n.left+b,cursor:"nw-resize"};d(o,g.$tl);o={top:n.top+h,left:n.left+g.$node.outerWidth()+b,cursor:"ne-resize"};d(o,g.$tr)}g.showCornersHelper=function(){k=g.rte.getContentAreaHeight();c=g.rte.getContentAreaWidth();i()};var l=0;var j=0;var m=0;var f=0;g.dragging=false;$j(e.getContainer()).find(".mceIframeContainer").mousedown(function(n){if(g.dragging&&g.$node){l=n.pageX;j=n.pageY;m=g.$node.width();f=g.$node.height();e.onResizingNode.dispatch(g.$node,m,f);return false}});$j(e.getContainer()).parents("body").mousemove(function(p){if(g.dragging&&g.$node){var n=(p.pageX-l);var o=(p.pageY-j);if(g.dragging.get(0)==g.$br.get(0)){if(n<o){g.$node.width(m+n);g.$node.height(f+(g.preserveRatio?(f/m*n):o))}else{g.$node.height(f+o);g.$node.width(m+(g.preserveRatio?(m/f*o):n))}}else{if(g.dragging.get(0)==g.$tr.get(0)){g.$node.width(m+n);g.$node.height(f+(g.preserveRatio?(f/m*n):-o))}else{if(g.dragging.get(0)==g.$tl.get(0)){g.$node.width(m-n);g.$node.height(f-(g.preserveRatio?(f/m*n):o))}else{if(g.dragging.get(0)==g.$bl.get(0)){if(Math.abs(n)<Math.abs(o)){if(n<0){g.$node.width(m-n);g.$node.height(f-(g.preserveRatio?(f/m*n):o))}else{g.$node.width(m+n);g.$node.height(f+(g.preserveRatio?(f/m*n):o))}}else{g.$node.height(f+o);g.$node.width(m+(g.preserveRatio?(m/f*o):n))}}}}}g.$node.removeAttr("data-mce-style");g.$node.attr("width",g.$node.width());g.$node.attr("height",g.$node.height());e.onResizingNode.dispatch(g.$node,g.$node.width(),g.$node.height());i();return false}});$j(e.getContainer()).parents("body").mouseup(function(){if(g.dragging){g.dragging=false;e.plugins.jivemouse.hideMouseCatch();if(g.$node){e.onResizedNode.dispatch(g.$node,g.$node.width(),g.$node.height())}e.nodeChanged()}})},getInfo:function(){return{longname:"Jive Resize",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}}});tinymce.PluginManager.add("jiveresize",tinymce.plugins.JiveResizePlugin)})();
;
tinyMCE.addI18n('en.jiveemoticons',{
    title : 'Insert emoticon',
    desc : 'Emoticons'
});
;
(function(){tinymce.create("tinymce.plugins.JiveButtonsPlugin",{execCommand:function(b,a,c){if(b=="mceNull"){return true}return false},initToolbar:function(j){var h,f,n;if(!j||typeof(j)!="string"){var e=window.editor.toArray();for(f=0;f<e.length;f++){if(e[f]&&e[f].getID){this.initToolbar(e[f].getID())}}return}else{h=tinyMCE.get(j)}var l=document.getElementById(j+"_magicspacer0");var g=document.getElementById(j+"_magicspacer1");var m=document.getElementById(j+"_toolbar1");if(l){var o=m.rows[0].cells;var d=0;for(f=1;f<3;f++){n=o[f];d+=jive.ext.x.xWidth(n)}d+=26;m=document.getElementById(j+"_toolbar2");o=m.rows[0].cells;var c=0;for(f=6;f<7;f++){n=o[f];c+=jive.ext.x.xWidth(n)}c+=133;c+=6;var b=d-c;if(b<-100){return}else{if(b<-30){var k=this;setTimeout(function(){k.initToolbar(j)},33);return}else{if(b<0){jive.ext.x.xDisplayNone(g);jive.ext.x.xDisplayBlock(l);jive.ext.x.xWidth(l,(b*-1)-1)}else{jive.ext.x.xDisplayNone(l);jive.ext.x.xDisplayBlock(g);if(b<=0){jive.ext.x.xDisplayNone(g)}else{jive.ext.x.xWidth(g,b-5)}}}}}var a=document.getElementById(j+"_spellchecker");if(a!==null){n=h.dom.getParent(a,function(i){return i!=a});n.style.width="100%"}if(tinymce.isIE){if(document.documentMode&&document.documentMode>7){}else{$j("#wysiwygtext_magicspacer1").closest("td").css("padding",0)}}},init:function(a,b){this.url=b;var c=this;this.index=0;this.mindex=0;a.onInit.add(function(d){var e=$j('[id="'+d.id+'_toolbar1"]',d.getContainer()).get(0);var f=$j(e).parents("td.mceToolbar").get(0);if(tinymce.isIE){f.style.height=this.settings.default_height+"px"}else{f.style.height=(this.settings.default_height-1)+"px"}f.style.bottom="0px"})},getInfo:function(){return{longname:"Jive Buttons",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}},createControl:function(d,a){var b;if(d=="spacerbutton"){b=a.createButton("spacerbutton"+this.index,{"class":"jive_spacer_button jive_spacer_button"+this.index,cmd:"mceNull"});this.index++;return b}if(d=="magicspacer"){b=a.createButton("magicspacer"+this.mindex,{"class":"jive_spacer_button jive_magicspacer_button",cmd:"mceNull"});this.mindex++;return b}return null}});tinymce.PluginManager.add("jivebuttons",tinymce.plugins.JiveButtonsPlugin)})();
;
(function(){function a(b){return(b.shiftKey?"Shift":"")+(b.ctrlKey||b.metaKey?"Ctrl":"")+(b.altKey?"Alt":"")}tinymce.create("tinymce.plugins.JiveKeyboardPlugin",{init:function(c){var f={};function e(j){var m=f[j.type];if(!m){return null}var k=j.keyCode;if(j.type=="keypress"){if(j.which!=null&&j.which!=0&&j.charCode!=0){k=j.which}}var l=m[k];if(!l){return null}var i=a(j);return l[i]}function g(k,j,m,l){if(m==null){m={}}if(!f[k]){f[k]={}}if(!f[k][j]){f[k][j]={}}var i=a(m);f[k][j][i]=l}function h(j,i){var k=e(i);if(k){return k(j,i)}}c.onKeyDown.add(h);c.onKeyPress.add(h);c.onKeyUp.add(h);g("keydown",27,{},function(j,i){b(j,true).focus();return tinymce.dom.Event.cancel(i)});g("keydown",27,{shiftKey:true},function(j,i){b(j,false).focus();return tinymce.dom.Event.cancel(i)});function d(k){if(k){var i=$j(k);var j=i.parents("div:eq(0)");if(i.css("opacity")==0&&j.length>0){return j[0]}}return k}function b(j,k){var l=jive.Accessibility.filterFocusable($j(jive.Accessibility.DEFAULT_FOCUSABLE_SELECTOR+", iframe[id^="+j.id+"]"));var m=$j("iframe",j.getContentAreaContainer()),i=l.index(m);if(k){return d(l.get(i+1))}else{return d(l.get(i-1))}}this.addHandler=g},getInfo:function(){return{longname:"Jive Keyboard",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}}});tinymce.PluginManager.add("jivekeyboard",tinymce.plugins.JiveKeyboardPlugin)})();
;
(function(){function a(c){var d=c.startContainer.childNodes[c.startOffset];if(!d){d=c.startContainer}while(d&&(d.nodeType!=1||d.nodeName.toLowerCase()!="a"||tinymce.activeEditor.dom.hasClass(d,"unlinked"))){d=d.parentNode}return d}function b(c){var e=c.startContainer.childNodes[c.startOffset];if(!e){e=c.startContainer}var d=tinymce.activeEditor.dom;while(e&&(e.nodeType!=1||e.nodeName.toLowerCase()!="a"||d.hasClass(e,"unlinked")||d.hasClass(e,"jive_macro"))){e=e.parentNode}return e}tinymce.create("tinymce.plugins.JiveLinkPlugin",{getInfo:function(){return{longname:"Content Picker",author:"Jive Software",authorurl:"http://www.jivesoftware.com",infourl:"http://www.jivesoftware.com/",version:"1.0"}},init:function(c,d){this.ed=c;var e=this;c.onSetContent.add(function(){tinymce.each(c.dom.select("a"),function(f){e.prepOrigContent(f)})});c.onBeforeGetContent.add(function(){tinymce.each(c.dom.select("a"),function(f){c.dom.removeClass(f,"active_link");var h=c.plugins.jivemacros.getMacroFor(f);if(h!=null&&h.getMacroType()=="INLINE"){var g=c.dom.getAttrib(f,"data-orig-content");if(g&&g!=f.innerHTML){c.dom.setAttrib(f,"_modifiedtitle","true")}}});this.lastActive=null},this);c.onNodeChange.add(this.nodeChanged,this);c.onInit.add(function(){e.ready=true;e.completeInit();if(tinymce.isIE9){c.execCommand("AutoUrlDetect",false,false)}})},prepOrigContent:function(c){if(this.ed.dom.getAttrib(c,"data-orig-content")){return}var e=this.ed.plugins.jivemacros.getMacroFor(c);if(e!=null&&e.getMacroType()=="INLINE"){var d=c.innerHTML;this.ed.dom.setAttrib(c,"data-orig-content",d)}},setRTE:function(c){this.rte=c;this.completeInit()},completeInit:function(){if(this.rte&&this.ready&&!this.initialized&&this.rte.getLinkService()){this.initialized=true;var k=this.ed;var h=k.dom;var l=this;k.plugins.paste.onPasteComplete.add(function(){tinymce.each(h.select("a.loading",k.getBody()),function(m){h.removeClass(m,"loading");l.resolveLink(m)})});if(k.plugins.jivecontextmenu){var i=k.plugins.jivecontextmenu;var e=new i.MenuItem("unlinkItem",a,k.getLang("jivelink.unlink"),{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/iconmaster.gif",xOffset:340,yOffset:90,width:28,height:21},"jiveLinkUnlink");var f=new i.MenuItem("bareUrlLinkItem",b,k.getLang("jivelink.bareUrl"),{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/iconmaster.gif",xOffset:368,yOffset:90,width:28,height:21},"jiveBareUrlLink");var d=new i.MenuItem("autoResolveLinkItem",b,k.getLang("jivelink.autoResolve"),{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/iconmaster.gif",xOffset:396,yOffset:90,width:28,height:21},"jiveAutoResolveLink");var j=new i.Menu([e,f,d],true,false,k.getLang("jivelink.menu_hdr"));function c(n,m){j.show(k,m,null,null)}var g=new i.MenuItem("jiveLinkItem",a,null,{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/iconmaster.gif",xOffset:30,yOffset:0,width:24,height:22},c);i.addRootItem(g)}}},resolveLink:function(e){var d=this.ed;var g=d.dom;if(g.hasClass(e,"jive_macro_appEmbeddedView")){return}var c=g.getAttrib(e,"href");c=d.convertURL(c);var f=this.rte.getLinkService();f.resolve(c).addCallback(function(h){var j,i;i=d.selection.getBookmark();if(h.macroName){g.setAttrib(e,"href","javascript:;");g.setAttrib(e,"title",h.title);g.setAttrib(e,"___default_attr",h.value);g.setAttrib(e,"jivemacro",h.macroName);if(h.isCustomTitle){g.setAttrib(e,"_modifiedtitle","true")}e.className="jive_macro jive_macro_"+h.macroName;j=h.title}else{g.setAttrib(e,"href",h.value);g.setAttrib(e,"title",h.value);e.className="";j=h.title}if(j.length>120){j=j.substring(0,120)+"\u2026"}e.innerHTML="";e.appendChild(d.getDoc().createTextNode(j));d.nodeChanged();d.selection.moveToBookmark(i)}).addErrback(function(h){console.log("resolveLink failed",h,e)})},createControl:function(f,d){switch(f){case"jivelink":var e=d.createButton("jivelink",{title:"jivelink.link_desc",cmd:"mceJiveLink"});return e}return""},execCommand:function(g,l,e){var m;var i=tinyMCE.activeEditor;var h=i.dom;switch(g){case"mceJiveLink":var j=false;var d=i.selection.getContent();var f=i.selection.getNode();m=h.getParent(f,"a");if(m!=null){h.removeClass(m,"active_link");if(i.plugins.jivemacros.isExactMacro(m)){i.plugins.jivemacros.deleteMacro(i,m)}else{i.execCommand("unlink")}return true}else{if(i.selection.getNode()){j=(i.selection.getNode().nodeName.toLowerCase()=="img")||(d&&d.length>0)}i.windowManager.open({url:CS_BASE_URL+"/content-picker!input.jspa?name="+encodeURIComponent(d)+"&instantiatedFromGUIEditor=true",width:700+i.getLang("jivelink.delta_width",0),height:565+i.getLang("jivelink.delta_height",0),inline:"yes"},{editor_id:i.id});return true}break;case"jiveLinkUnlink":m=a(i.selection.getRng(true));var k=/^https?:\/\/(?:[^:]+:[^@])?[\w\.]+(?::\d+)?\S*$/;if(m.childNodes.length==1&&m.firstChild.nodeType==3&&k.test(m.textContent)){h.addClass(m,"unlinked");h.setAttrib(m,"href",null);return true}else{h.remove(m,true);return true}break;case"jiveBareUrlLink":m=b(i.selection.getRng(true));var c=h.getAttrib(m,"href",null);h.remove(m.childNodes,false);m.appendChild(document.createTextNode(c));return true;break;case"jiveAutoResolveLink":m=b(i.selection.getRng(true));this.resolveLink(m);return true;break}return false},lastActive:null,nodeChanged:function(g,l,e,j){if(e==null){return}var i=g.dom.getParent(e,"a");var k=g.controlManager.get("jivelink");if(i!=null){if(k){k.setActive(true)}this.prepOrigContent(i)}else{if(k){k.setActive(false)}var h=this;tinymce.each(g.dom.select("a",e.parentNode),function(n){h.prepOrigContent(n)})}var m=this.lastActive==null||this.lastActive!=e;if(this.lastActive!=null&&this.lastActive!=e){g.dom.removeClass(this.lastActive,"active_link");this.lastActive=null}if(i&&this.lastActive==null){this.lastActive=i;g.dom.addClass(this.lastActive,"active_link")}var d=g.plugins.jivemacros.getMacroFor(e);if(d!=null&&d.getMacroType()=="INLINE"){if(this.lastActive==null||this.lastActive!=e){this.lastActive=g.plugins.jivemacros.isMacro(e);g.dom.addClass(this.lastActive,"active_link")}if(m&&this.lastActive.childNodes.length>0&&!g.dom.getAttrib(this.lastActive,"_modifiedtitle")){var c=g.selection.getRng(true),f=g.dom.createRng();f.selectNode(this.lastActive);if(c.compareBoundaryPoints(c.START_TO_START,f)>=0&&c.compareBoundaryPoints(c.END_TO_END,f)<=0){g.selection.select(this.lastActive.childNodes[0])}}}}});tinymce.PluginManager.add("jivelink",tinymce.plugins.JiveLinkPlugin)})();
;
tinyMCE.addI18n('en.jivelink',{
    link_desc : 'Insert Link',
    unlink : 'Unlink',
    bareUrl : 'Bare URL',
    autoResolve : 'Auto-title',
    menu_hdr : 'Link:'
});
;
(function(){var a={"image/png":["png"],"image/jpeg":["jpg","jpeg"],"image/gif":["gif"],"image/bmp":["bmp"]};var k=CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/skins/default/img/progress.gif";var f=CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/skins/default/img/dropPosition.png";var j=/^data:(image\/[^;,]+)[^,]*,/;var i=620;function m(o){return tinymce.dom.Event.cancel(o)}function b(o){console.log("fired "+o.type+" on "+o.target.toString(),o)}function g(p){var q=p.selection.getSel();if(q.rangeCount!=null&&q.rangeCount<1){var o=p.dom.createRng();o.setStart(p.getBody(),p.getBody().childNodes.length);o.collapse(true);p.selection.setRng(o)}}function l(s,r){var p=function(v){if(v&&v.length>0){var u=v.get(0).classList;if(u){var w;$j.each(u,function(x,y){if(/^image-/.test(y)){w=y;return false}});return w}}};var t=p(s);if(t){return t}var o=$j(r.contentWindow.document).find(".jive-image");var q=0;$j.each(o,function(v,x){var w=p($j(x));if(w){var u=Number(w.split("-")[1]);if(u>q){q=u}}});q++;t="image-"+q;s.addClass(t);return t}function h(p){var o=tinymce.activeEditor;var q=o.dom.create("img");l($j(q),o);return $j(q).attr("src",p.url).attr("alt",p.name).css({"max-width":i+"px",height:"auto"}).addClass("jive-image")}function n(q){var p=tinymce.activeEditor;var o=p.selection.getRng(true);var r=p.selection.getBookmark();q.each(function(){o.insertNode(this);p.nodeChanged()});p.selection.moveToBookmark(r)}function e(x,u){var q=null;function t(E){if(q!=null){clearTimeout(q);q=null}if(!E){q=setTimeout(function(){s();q=null},550)}}var C=false;function s(){C=false}var o=new c(x);function D(E){C=true;t(false);if(u.dragstart){return u.dragstart.call(this,E)}}function w(E){C=true;t(false);if(u.drag){return u.drag.call(this,E)}}function v(E){t(false);if(!C){if(u.dragenter){u.dragenter.call(this,E)}o.show();return m(E)}}function z(E){t(false);var F;if(!C){if(u.dragleave){F=u.dragleave.call(this,E)}o.hide()}if(typeof F!="undefined"){return F}}function y(E){t(false);if(!C){if(u.dragover){u.dragover.call(this,E)}g(x);o.keepShowing();return m(E)}}function r(E){t(true);s();if(u.dragend){return u.dragend.call(this,E)}}function p(E){t(true);o.hide();var F;if(!C&&u.drop){F=u.drop.call(this,E)}s();if(typeof F!="undefined"){return F}}function A(F,E){x.dom.bind(x.getDoc(),F,E)}A("dragstart",D);A("drag",w);A("dragenter",v);A("dragover",y);A("dragleave",z);A("dragend",r);A("drop",p);this.reset=s;this.hideDropPos=function B(){o.hide()}}function c(o){var s=null;function q(t){if(s!=null){clearTimeout(s);s=null}if(!t){s=setTimeout(function(){p(o);s=null},100)}}function r(u){var v=$j(".js-dropPosition",u.getBody());if(v.length==0){g(u);var t=u.selection.getRng(true);t.collapse(true);var w=u.dom.create("img");v=$j(w).attr("src",f).addClass("js-dropPosition");t.insertNode(w)}return v}function p(t){$j(".js-dropPosition",t.getBody()).remove()}if(tinymce.isGecko){this.show=function(){q(false);return r(o)};this.keepShowing=function(){this.show()};this.hide=function(){q(true);p(o)}}else{this.show=function(){q(true);return r(o)};this.keepShowing=function(){this.show()};this.hide=function(){q(false)}}}function d(u,o,p,v){var x=l(o,v);var q=p.getImageService();function r(y){$j(v.getBody()).find("."+x).attr("src",y.url).attr("data-mce-src",y.url)}function t(){console.log("Image REST request failed for %s",u.name,arguments);o.remove()}function w(){var y=j.exec(o.attr("src"));if(y){o.remove()}}var s=new jive.conc.Promise();q.scaleClientImage(u.url).addCallback(function(D){var A=j.exec(D);if(A){var C=A[1];A=/\.([^\.]+)$/.exec(u.name);if(A&&a[C]){var B=A[1];B=B.toLowerCase();if($j.inArray(B,a[C])<0){u.name+="."+a[C][0]}}else{u.name+="."+a[C][0]}}var y=p.getFormService();var z=y.setFormEnabled(false,v.getLang("jiveimage.please_wait"));u.url=D;r(u);q.create(u.name,u.url).then(function E(F){o.load(function(){var H=$j(this);H.css({width:"auto",height:"auto","max-width":"","max-height":""});var J=H.width();var G=H.height();if(J>i){var I=i/J;H.css({width:Math.round(I*J)+"px",height:Math.round(I*G)+"px"})}});r(F);s.emitSuccess(o.get(0))}).addErrback(function(){t();s.emitError()}).always(function(){w();y.setFormEnabled(z)})});return s}tinymce.create("tinymce.plugins.JiveImagePlugin",{getInfo:function(){return{longname:"Image Picker",author:"Jive Software",authorurl:"http://www.jivesoftware.com",infourl:"http://www.jivesoftware.com/",version:"1.0"}},uploadClientImage:function(o,p){p=$j(p);return d({url:p.attr("src"),name:o},p,this.rte,this.ed)},init:function(o){this.ed=o;var p=this;o.onInit.add(function(){if(!o.settings.images_enabled){var r=o.controlManager.get("jiveimage");if(r){r.setDisabled(true)}}else{if(o.plugins.jivecontextmenu){var u=o.plugins.jivecontextmenu;var s=new u.MenuItem("floatLeftItem",null,o.getLang("jiveimage.float_left"),{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/iconmaster.gif",xOffset:172,yOffset:90,width:28,height:21},"jiveImgFloatLeft");var w=new u.MenuItem("inlineItem",null,o.getLang("jiveimage.inline"),{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/iconmaster.gif",xOffset:144,yOffset:90,width:28,height:21},"jiveImgInline");var v=new u.MenuItem("floatRightItem",null,o.getLang("jiveimage.float_right"),{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/iconmaster.gif",xOffset:200,yOffset:90,width:28,height:21},"jiveImgFloatRight");var t=new u.MenuItem("originalSizeItem",null,o.getLang("jiveimage.original_size"),{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/iconmaster.gif",xOffset:165,yOffset:158,width:28,height:21},"jiveImgOriginalSize");var y=new u.Menu([s,w,v,t],true,false,o.getLang("jiveimage.menu_hdr"));function q(z){var A=z.startContainer.childNodes[z.startOffset];if(!A){A=z.startContainer}while(A&&(A.nodeType!=1||o.dom.is(A,".jive_macro")||!o.dom.is(A,"img"))){A=A.parentNode}return A}var x=new u.MenuItem("jiveImageItem",q,null,{url:CS_RESOURCE_BASE_URL+"/images/tiny_mce3/themes/advanced/img/iconmaster.gif",xOffset:155,yOffset:0,width:24,height:22},y);u.addRootItem(x)}}o.plugins.paste.onPasteComplete.add(function(){tinymce.each(o.dom.select("img.toUpload",o.getBody()),function(z){o.dom.removeClass(z,"toUpload");if(z.src&&z.src.length>0){var A=o.dom.uniqueId("pastedImage_");p.uploadClientImage(A,z)}else{o.dom.remove(z)}})})},this)},setRTE:function(p){var o=this.ed;this.rte=p;if(p.getImageService()&&p.getFormService()&&!o.settings.rte_image_webonly){if($def(window.FileReader)){this.initDragDrop()}else{if($def(window.FormData)){this.initDragCatch()}}var q=p.getImageService().getSettings();this.objectId=q.objectId;this.objectType=q.objectType}else{function r(u){var t=u.dataTransfer.files;if(t.length>0){for(var s=0;s<t.length;++s){if(/^image\//.test(t[s].type)){u.preventDefault();return false}}}}o.dom.bind(o.getDoc(),"drop",r)}},initDragDrop:function(){var u=this.ed;var v=this;function w(B){var A=h({name:B.name,url:k});n(A);var z=new FileReader();z.onloadend=function(C){var E=C.target.result;var D={name:B.name,url:E};d(D,A,v.rte,u).addCallback(function(){v.rte.notifyOnChange()})};z.onerror=function(C){console.log("error reading file: ",C.target)};z.onprogress=function(C){console.log("FileReader progress: "+C.loaded+" of "+C.total)};z.readAsDataURL(B)}function q(A,B){var z=A.toString(16);while(z.length<B){z="0"+z}return z}function o(D){var B=[];for(var C=0;C<D.length;++C){var A=D.charCodeAt(C);var z=A&255;var E=A>>8;B.push("%"+q(z,2)+"%"+q(E,2))}return decodeURIComponent(B.join(""))}function y(C){var A="";var z=null;var D=null;for(var B=0;B<C.length;++B){if(z===null){z=C.charCodeAt(B)}else{D=C.charCodeAt(B);A+=String.fromCharCode((D<<8)|z);z=null}}return A}function s(C){var A="";var z=null;var D=null;for(var B=0;B<C.length;++B){if(D===null){D=C.charCodeAt(B)}else{z=C.charCodeAt(B);A+=String.fromCharCode((D<<8)|z);D=null}}return A}function t(A,B){var C=0;var z=0;do{C=A.indexOf(B,C)+1;++z}while(C>0);--z;return z}function x(C){var B=0;var z=0;for(var A=0;A<C.length;++A){if(C.charCodeAt(A)==0){if(A%2==0){++z}else{++B}}}return B/z}function r(A){var D=t(A,"<");var B=t(A,">");if(Math.abs(D-B)<=1||Math.abs(1-(D/B))<0.05){if(D==0&&B==0){var z=o(A);D=t(z,"<");B=t(z,">");if((D>0&&B>0)&&(Math.abs(D-B)<=1||Math.abs(1-(D/B))<0.05)){return z}else{return A}}else{if(A.length%2==0){var C=t(A,"\x00");if(C<2||C/A.length<0.02){return A}else{if(x(A)>=1){return y(A)}else{return s(A)}}}else{return A}}}return o(A)}function p(z){var C=z.dataTransfer.files;if(C.length>0){for(var B=0;B<C.length;++B){if(/^image\//.test(C[B].type)){w(C[B])}}}else{if($j.inArray("text/html",z.dataTransfer.types)>=0){var A=r(z.dataTransfer.getData("text/html"));u.execCommand("mceInsertClipboardContent",false,{content:A})}else{if($j.inArray("text/plain",z.dataTransfer.types)>=0){var D=$j("<div></div>").text(z.dataTransfer.getData("text/plain")).html();u.execCommand("mceInsertClipboardContent",false,{content:D})}}}if(tinymce.isGecko&&$j.browser.version.substr(0,3)=="1.9"){$j(u.getDoc()).one("DOMNodeInserted",function(E){var F=E.originalEvent.target;F.parentNode.removeChild(F);return false})}return m(z)}new e(u,{drop:p})},initDragCatch:function(){var t=this.ed;var s=t.plugins.jivescroll;var u=this;var w=$j("<div></div>").css({width:"100px",height:"100px",position:"absolute",top:"0",left:"0"}).hide();var p=$j("<form method='POST' name='fileForm' enctype='multipart/form-data' target='asyncIframe'></form>").css({width:"100%",height:"100%"});w.append(p);var r=$j("<input type='file' name='fileInputCtrl' multiple='true' />").css({opacity:"0",width:"100%",height:"100%"}).attr("class","fileMouseCatch");p.append(r);var o=u.rte.getPopOverContainer();o.append(w);function x(D){var F=u.rte.getImageService();var A={name:D.name,url:k};var C=h(A);n(C);var z=u.rte.getFormService();function E(H){C.load(function(){var I=$j(this);I.css({width:"auto",height:"auto","max-width":"","max-height":""})}).attr("src",H.url)}function G(){console.log("Image REST form request failed for %s",A.name,arguments);C.remove()}var B=z.setFormEnabled(false,t.getLang("jiveimage.please_wait"));F.postFile(D).addCallback(E).addErrback(G).always(function(){z.setFormEnabled(B)})}function v(z){w.show().css({left:(z.clientX+s.lastScrollX-50)+"px",top:(z.clientY+s.lastScrollY-50)+"px"})}function q(){w.hide()}var y=new e(t,{dragover:v,dragleave:q});r.change(function(){w.hide();y.hideDropPos();y.reset();$j.each(r.get(0).files,function(){if(/^image\//.test(this.type)){x(this)}});r.val("");this.blur();t.focus()}).bind("click keydown",function(){w.hide();this.blur();return false})},createControl:function(q,o){switch(q){case"jiveimage":var p=o.createButton("jiveimage",{title:"jiveimage.link_desc",cmd:"mceJiveImage"});return p}return""},execCommand:function(q,p,r){var o=this.ed,s;switch(q){case"mceJiveImage":if(o.settings.rte_image_modal_url){o.windowManager.open({url:CS_BASE_URL+tinymce.settings.rte_image_modal_url,width:580+o.getLang("jiveimage.delta_width",0),height:425+o.getLang("jiveimage.delta_height",0),inline:"yes"},{editor_id:o.id,cs_resource_base_url:CS_RESOURCE_BASE_URL,objectId:this.objectId,objectType:this.objectType})}else{o.execCommand("mceAdvImage")}return true;case"jiveInsertImage":this.insertImage(r);return true;case"jiveImgFloatLeft":s=o.selection.getNode();if(/^img$/i.test(s.nodeName)){o.dom.setStyle(s,"float","left")}return true;case"jiveImgFloatRight":s=o.selection.getNode();if(/^img$/i.test(s.nodeName)){o.dom.setStyle(s,"float","right")}return true;case"jiveImgInline":s=o.selection.getNode();if(/^img$/i.test(s.nodeName)){o.dom.setStyle(s,"float","none")}return true;case"jiveImgOriginalSize":s=o.selection.getNode();if(/^img$/i.test(s.nodeName)){o.dom.setStyle(s,"width","");o.dom.setStyle(s,"height","");o.dom.setAttrib(s,"width",null);o.dom.setAttrib(s,"height",null)}return true}return false},insertImage:function(p){var o=this.ed,s=o.dom;var q=p.url;p.url=k;var r=h(p);r.load(function(){var u=$j(this);u.css({"max-width":"","max-height":""});if(tinymce.isIE&&u.attr("width")&&u.attr("height")){u.removeAttr("width").removeAttr("height")}var w=u.width();var t=u.height();if(w>i){var v=i/w;u.css({width:Math.round(v*w)+"px",height:Math.round(v*t)+"px"})}}).attr("src",q);n(r)},handleNodeChange:function(t,r,s,q,o,p){if(r==null){return}do{if(r.nodeName=="IMG"&&tinymce.getAttrib(r,"src")!=""){tinymce.switchClass(t+"_jiveimage","mceButtonSelected");return true}}while((r=r.parentNode));if(p){tinymce.switchClass(t+"_jiveimage","mceButtonNormal");return true}tinymce.switchClass(t+"_jiveimage","mceButtonDisabled");return true}});tinymce.PluginManager.add("jiveimage",tinymce.plugins.JiveImagePlugin)})();
;
tinyMCE.addI18n('en.jiveimage',{
    link_desc : 'Insert Image',
    menu_hdr : 'Image:',
    float_right : 'Float Right',
    float_left : 'Float Left',
    inline : 'Display Inline',
    original_size : 'Original Size',
    please_wait : 'Please wait while the images are uploaded, then retry.'
});
;
(function(){tinymce.create("tinymce.plugins.JiveQuotePlugin",{getInfo:function(){return{longname:"Jive Quote Button",author:"Jive Software",authorurl:"http://www.jivesoftware.com",infourl:"http://www.jivesoftware.com/",version:"1.0"}},createControl:function(d,a){switch(d){case"jivequote":var b=a.createButton("jivequote",{title:"jivequote.link_desc",cmd:"mceJiveQuote"});return b}return""},execCommand:function(d,m,c){switch(d){case"mceJiveQuote":var k=tinyMCE.activeEditor;var b=k.selection;var g=null;var j=b.isCollapsed();k.undoManager.add();var e=k.plugins.jiveutil.findMacro("quote");g=k.plugins.jivemacros.insertMacro(k,e);if(g&&j){while(g.childNodes.length>0){g.removeChild(g.childNodes[0])}if($def(window._jive_gui_quote_text)){var a=k.getDoc().createElement("DIV");a.innerHTML=_jive_gui_quote_text;if(a.childNodes.length>0){for(i=0;i<a.childNodes.length;i++){if(a.childNodes[i].nodeType==1){var n=a.childNodes[i];var h=n.childNodes[0];while(h.childNodes.length>0){if(h.childNodes[0].className=="jive-quote-header"){var l=k.getDoc().createElement("P");l.appendChild(h.childNodes[0].childNodes[0]);g.appendChild(l);g.appendChild(k.plugins.jivemacros.createEmptyPara());h.removeChild(h.childNodes[0]);h.removeChild(h.childNodes[0]);h.removeChild(h.childNodes[0])}else{function f(p){if(p.nodeName.toLowerCase()=="a"&&p.firstChild&&p.firstChild.nodeName.toLowerCase()=="img"){p.parentNode.insertBefore(p.firstChild,p);p.parentNode.removeChild(p)}else{for(var o=0;o<p.childNodes.length;o++){f(p.childNodes[o])}}}f(h.childNodes[0]);g.appendChild(h.childNodes[0])}}}}}if(g.childNodes.length==0){g.appendChild(k.plugins.jivemacros.createEmptyPara())}}else{g.appendChild(k.plugins.jivemacros.createEmptyPara())}}else{}k.selection.select(g.nextSibling?g.nextSibling:g);k.selection.collapse(true);k.selectionUtil.normalizeSelection();setTimeout(function(){var o=g.nextSibling?g.nextSibling:g;if(o.nodeType!=1){o=o.parentNode}o.scrollIntoView()},10);k.undoManager.add();return true}return false}});tinymce.PluginManager.add("jivequote",tinymce.plugins.JiveQuotePlugin)})();
;
tinyMCE.addI18n('en.jivequote',{
    link_desc : 'Quote Previous Message'
});

;
(function(){tinymce.create("tinymce.plugins.JiveUtilPlugin",{getInfo:function(){return{longname:"Jive Utility Plugin",author:"Jive Software",authorurl:"http://www.jivesoftware.com",infourl:"http://www.jivesoftware.com/",version:"1.0"}},findMacro:function(d){var c=jive.rte.macros;var b=this.findMacroIndex(d);if(b!=null){return c[b]}return null},findMacroIndex:function(d){var c=jive.rte.macros;for(var b=0;b<c.length;++b){if(c[b].getName()==d){return b}}return null},findColumnBoundsForCell:function(d){var c=[];var b=d.closest("table");var e=0;d.prevAll("td,th").andSelf().each(function(f,g){var h=$j(g).attr("colspan");e+=h?parseInt(h):1});b.find("tr").each(function(){var f=0;$j(this).find("td, th").each(function(g,h){var i=$j(h).attr("colspan");f+=i?parseInt(i):1;if(f>=e){c.push(h);return false}})});return $j(c)},findColumnFirstCell:function(b){return this.findColumnCellInRow(b,true)},findColumnLastCell:function(b){return this.findColumnCellInRow(b,false)},findColumnCellInRow:function(f,b){var e=[];var d=f.closest("table");var h=0;f.prevAll("td,th").andSelf().each(function(i,j){var k=$j(j).attr("colspan");h+=k?parseInt(k):1});var c=d.find("tr").filter(function(){return this.childNodes.length>0});if(b){c=c.first()}else{c=c.last()}var g=0;c.find("td, th").each(function(i,j){var k=$j(j).attr("colspan");g+=k?parseInt(k):1;if(g>=h){e.push(j);return false}});return $j(e)},convertRGBToHex:function(b){b=b.substr(b.indexOf("(")+1);b=b.substr(0,b.length-1);b=b.split(",");b[0]=parseInt($j.trim(b[0])).toString(16);b[1]=parseInt($j.trim(b[1])).toString(16);b[2]=parseInt($j.trim(b[2])).toString(16);if(b[0].length==1){b[0]="0"+b[0]}if(b[1].length==1){b[1]="0"+b[1]}if(b[2].length==1){b[2]="0"+b[2]}if(b.length==3||b[3]>0){return("#"+b[0]+b[1]+b[2]).toUpperCase()}return""},shouldEncodeHuh:function(b,e){var c=b.dom.getParent(e,function(f){return f==b.getBody()||b.plugins.jivemacros.isMacro(f)});if(!b.plugins.jivemacros.isMacro(c)){c=null}if(c!=null){var d=b.plugins.jivemacros.getMacroFor(c);if(d&&d.getName()=="code"){return false}}return true},walkDOMTreeKids:function(b,d,e){e(b);if(b==d){return true}for(var c=0;c<b.childNodes.length;c++){if(this.walkDOMTreeKids(b.childNodes[c],d,e)){return true}}return false},walkDOMTree:function(b,c,d){if(this.walkDOMTreeKids(b,c,d)){return true}while(b.nextSibling!=null){b=b.nextSibling;if(this.walkDOMTreeKids(b,c,d)){return true}}function f(g){if(g.nodeType==1&&g.nodeName.toLowerCase()=="body"){return g}if(g.parentNode.nextSibling==null){return f(g.parentNode)}return g.parentNode.nextSibling}var e=f(b);if(e.nodeType==1&&e.nodeName.toLowerCase()=="body"){return true}return this.walkDOMTree(e,c,d)},textLengthIn:function(c){var b=0;this.walkDOMTreeKids(c,null,function(d){if(d.nodeType==3){b+=d.nodeValue.length}});return b},getNodeAt:function(d,e){if(e==0){return d}if(d.nodeType!=1){return null}for(var c=0;c<d.childNodes.length;c++){var b=this.textLengthIn(d.childNodes[c]);if(e==0){return d.childNodes[c]}else{if(b>e){var f=this.getNodeAt(d.childNodes[c],e);if(f==null){return d}return f}else{e-=b}}}return null},arrayEquals:function a(d,c){if(d===c){return true}if(d==null||c==null||d.length!==c.length){return false}for(var b=0;b<d.length;++b){if(d[b]!==c[b]){return false}}return true},clone:function(b,k){var e=/ jQuery\d+="(?:\d+|null)"/g,h=/^\s+/;var d=b.map(function(i){return function(){if(!jQuery.support.noCloneEvent&&!jQuery.isXMLDoc(this)){var l=this.outerHTML;if(!l){var m=i.createElement("div");m.appendChild(this.cloneNode(true));l=m.innerHTML}return jQuery.clean([l.replace(e,"").replace(h,"")],i)[0]}else{return this.cloneNode(true)}}}(k));var j=["font-family","font-size","font-weight","font-style","text-transform","text-decoration","letter-spacing","word-spacing","line-height","text-align","vertical-align","direction","width","height","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","border-top-style","border-right-style","border-bottom-style","border-left-style","overflow-x","overflow-y","white-space","clip","list-style-image","list-style-position","list-style-type","marker-offset"];for(var f=0;f<j.length;f++){var g=j[f];var c=b.css(g);if(c&&(g!="width"||c!="0px")){d.css(g,b.css(g))}}return d}});tinymce.PluginManager.add("jiveutil",tinymce.plugins.JiveUtilPlugin)})();
;
(function(){function a(l){return l&&l.nodeType==3}function f(l){return a(l.c)}function d(l){if(f(l)){return l.off==l.c.nodeValue.length}else{return l.off==l.c.childNodes.length}}function k(l){var m=c(l);return(f(l)&&!d(l))||(m&&m.nodeName.toLowerCase()=="br")}function j(l){l=l.toLowerCase();return function(m){var o=c(m);return o&&o.nodeName&&o.nodeName.toLowerCase()==l}}function b(l){l=l.toLowerCase();return function(m){return m&&m.c.nodeType==1&&m.c.nodeName.toLowerCase()==l}}function c(l){if(l.c&&l.off>=0&&l.c.childNodes&&l.c.childNodes.length>l.off){return l.c.childNodes[l.off]}return null}function g(l){if(l&&k(l)){return l.c.nodeValue.charAt(l.off)}return null}function e(l){var m=tinymce.activeEditor.dom;return{c:l.parentNode,off:m.nodeIndex(l)}}function i(l,m){l.setStart(m.c,m.off)}function h(l){return{c:l.startContainer,off:l.startOffset}}tinymce.create("tinymce.plugins.JiveSelectionPlugin",{init:function(s,o){this.ed=s;this.isSelectionFrozen=false;var u=this;function v(x){if(x>65535){x-=65536;return String.fromCharCode(55296+(x>>10),56320+(x&1023))}else{return String.fromCharCode(x)}}function p(y){var x=y.c.parentNode;return y.c.nodeType==3&&y.c.nodeValue.length==y.off&&x.nodeName.toLowerCase()=="a"&&y.c==x.lastChild}function w(x){return function(A,z){var y=A.selection.getRng();var E=h(y);if(y.collapsed&&z.charCode>31&&!z.ctrlKey&&!z.altKey&&!z.metaKey&&x(E)){var C=v(z.charCode);do{E=A.selectionUtil.dfsNext(E,false)}while(E&&!k(E));if(C==" "&&/[ \xa0]/.test(g(E))){C="\xa0"}var D=A.getDoc().createTextNode(C);var B=h(y);while(f(B)){B=A.selectionUtil.dfsNext(B,true)}B.c.insertBefore(D,c(B));y.setStart(D,C.length);y.collapse(true);A.selectionUtil.setSelection(y,true);z.preventDefault()}}}if(!tinymce.isIE||tinymce.isIE9){s.onFormatChange.add(function(y,x){if(y.inline&&!x){u.isSelectionFrozen=true}});s.onNodeChange.addToTop(function(y,x,z){if(!u.isSelectionFrozen){y.selectionUtil.normalizeSelection()}});function q(y,x){u.isSelectionFrozen=false}s.onKeyDown.add(q);s.onMouseDown.add(q);if(tinymce.isWebKit){function n(x){return x.c.nodeType==1}s.onKeyPress.add(w(n))}var l=j("a");var t=function(x){if(x.off>0){return l({c:x.c,off:x.off-1})}return false};var m=b("a");var r=function(x){return f(x)&&g(x)===s.plugins.jivemacros.zeroWidthSpace};s.onKeyPress.add(w(p));s.onKeyDown.add(function(B,G){var J=G.keyCode;if(B.selection.isCollapsed()&&(J==37||J==39||J==8||J==46)){var x=B.selection.getRng(true);var E=h(x);var D=B.selectionUtil.dfsNext(E,true);var H=B.selectionUtil.dfsNext(E,false);var I=null;if(l(E)||(f(E)&&d(E)&&l(D))){var z=l(E)?E:D;if(J==39){I={c:c(z),off:0};G.preventDefault()}else{if(J==46){I={c:c(z),off:0}}}}else{if((m(E)&&E.off==0)||(E.off==0&&H.off==0&&m(H))){var C=m(E)?E:H;if(J==37){I=e(C.c);G.preventDefault()}else{if(J==8){I=e(C.c)}}}else{if((m(E)&&d(E))||(d(D)&&m(D))){var y=m(E)?E:D;if(J==39){I=e(y.c);I.off+=1;G.preventDefault();if(I&&I.c&&I.c.childNodes&&a(I.c.childNodes[I.off])){I.c=I.c.childNodes[I.off];if(!r(I)){I.c.textContent=B.plugins.jivemacros.zeroWidthSpace+I.c.textContent}I.off=1}else{if(y&&y.c){B.plugins.jivemacros.putCursorAfter(B,y.c);I=null}}}else{if(J==46){I=e(y.c);I.off+=1}}}else{if(t(E)||(t(H))){var F=t(E)?E:H;if(J==37){var A=c({c:F.c,off:F.off-1});I={c:A,off:A.childNodes.length};G.preventDefault()}else{if(J==8){A=c({c:F.c,off:F.off-1});I={c:A,off:A.childNodes.length}}}}}}}if(I){i(x,I);x.collapse(true);B.selection.setRng(x)}}})}},getInfo:function(){return{longname:"Jive Selection",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}}});tinymce.PluginManager.add("jiveselection",tinymce.plugins.JiveSelectionPlugin)})();
;
(function(){tinymce.create("tinymce.plugins.JiveMousePlugin",{rte:null,$mouseCatch:$j("<div></div>"),setRTE:function(a){this.rte=a},init:function(a){var b=this;b.ed=a;this.reset=(function(d,c){return function(f,e){if(d.$mouseCatch.parent().length){d.$mouseCatch.css("top",c.plugins.jivescroll.lastScrollY);d.$mouseCatch.css("left",c.plugins.jivescroll.lastScrollX);d.$mouseCatch.css("width",d.rte.getContentAreaWidth());d.$mouseCatch.css("height",d.rte.getContentAreaHeight())}}})(this,a);a.onInit.add(function(c){b.$mouseCatch.css("position","absolute")},this);a.onScroll.add(this.reset,this);a.theme.onResize.add(function(){b.reset(a.plugins.jivescroll.lastScrollX,a.plugins.jivescroll.lastScrollY)},this);$j(window).resize(function(){b.reset(a.plugins.jivescroll.lastScrollX,a.plugins.jivescroll.lastScrollY)})},hideMouseCatch:function(){this.$mouseCatch.remove()},showMouseCatch:function(){var a=this.rte.getPopOverContainer();a.append(this.$mouseCatch);this.reset(this.ed.plugins.jivescroll.lastScrollX,this.ed.plugins.jivescroll.lastScrollY)},getInfo:function(){return{longname:"Jive Mouse",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}}});tinymce.PluginManager.add("jivemouse",tinymce.plugins.JiveMousePlugin)})();
;
(function(){tinymce.create("tinymce.plugins.JiveVideoPlugin",{getInfo:function(){return{longname:"Video Picker",author:"Jive Software",authorurl:"http://www.jivesoftware.com",infourl:"http://www.jivesoftware.com/",version:"1.0"}},enabled:[],init:function(a,b){a.onInit.add(function(){var f=["youtube","dailymotion","vimeo","veoh","google","videomacro","kaltura","brightcove"],d=0,c=this;this.enabled=[];jive.rte.macros.forEach(function(g){if(f.some(function(h){return h===g.getName()})&&g.isEnabled&&g.isEnabled()){d+=1;c.enabled.push(g)}});if(d==0){var e=a.controlManager.get("jivevideo");if(e&&e.setDisabled){e.setDisabled(true)}}},this)},createControl:function(d,a){switch(d){case"jivevideo":var b=a.createButton("jivevideo",{title:"jivevideo.link_desc",cmd:"mceJiveVideo"});return b}return""},execCommand:function(c,b,d){switch(c){case"mceJiveVideo":var a=tinyMCE.activeEditor;a.windowManager.open({url:CS_BASE_URL+"/upload-video!input.jspa"+_jive_video_picker__url,width:550+parseInt(a.getLang("jivevideo.delta_width",0)),height:430+parseInt(a.getLang("jivevideo.delta_height",0)),inline:1});return true}return false}});tinymce.PluginManager.add("jivevideo",tinymce.plugins.JiveVideoPlugin)})();
;
tinyMCE.addI18n('en.jivevideo',{
    link_desc : 'Insert Video'
});


;
tinyMCE.addI18n('en.jivevideo',{
    num1: "1. ",
    num2: "2. ",
    title_new:"Insert Video",
    general_props:"Video Properties",
    site_title:"Select a Video Site",
    embed_title: "Enter Video Information",
    embed: "Video URL or Embed Code (example: http://youtube.com/watch?v=videoIdHere)",
    embed_error : "Please enter a valid URL or embed code",
    name_youtube: "YouTube",
    name_vimeo: "Vimeo",
    name_veoh: "Veoh",
    name_dailymotion: "Dailymotion",
    name_google: "Google",
    name_kaltura: "Kaltura",
    name_brightcove: "Brightcove"
});
;
(function(){tinymce.create("tinymce.plugins.JiveTableButtonPlugin",{$menu:null,cellWidth:0,cellHeight:0,maxWidth:0,maxHeight:0,insertTable:function(c,h,g){var d=1;var f="#000000";var e="";e+="<table ";e+='class="jiveBorder" ';e+='border="'+d+'" width="100%" ';e+='style="border: '+d+"px solid "+f+'" ';e+=">";e+="<tbody>";e+="<tr>";for(var b=0;b<h;b++){e+='<th valign="middle" style="text-align:center;background-color:#6690BC;color:#ffffff;padding:2px;"><strong>Header '+(b+1)+"</strong></th>"}e+="</tr>";for(var i=0;i<g;i++){e+="<tr>";for(var b=0;b<h;b++){if(!tinymce.isIE){e+='<td style="padding:2px;"><br mce_bogus="1"/></td>'}else{e+='<td style="padding:2px;"></td>'}}e+="</tr>"}e+="</tbody>";e+="</table>";c.focus();if(this.book){this.ed.selection.moveToBookmark(this.book)}c.undoManager.add();c.execCommand("mceInsertContent",false,e);this.book=null;c.addVisual();c.undoManager.add()},setMenuSize:function(d,f){var e=this.$menu.find(".mceMenu");if(!this.$menu.is(":visible")){e.children(":not(:nth(0))").remove()}for(var g=0;g<f;g++){var b=e.find(".row:nth("+g+")");if(!b.length){b=$j("<div class='row'></div>");e.append(b)}for(var j=b.children().length;j<d;j++){var i=$j("<div class='cell'><div class='cellInner'></div></div>");i.css({top:g*this.cellHeight,left:j*this.cellWidth});b.append(i);if(!this.cellHeight){this.cellHeight=i.outerHeight(true)}if(!this.cellWidth){this.cellWidth=i.outerWidth(true)}}b.width(d*this.cellWidth);b.height(this.cellHeight)}b=$j("<div class='row label'></div>");e.append(b);e.width(d*this.cellWidth).height(f*this.cellHeight+b.outerHeight(true));this.maxWidth=Math.max(this.maxWidth,d);this.maxHeight=Math.max(this.maxHeight,f)},hideMenu:function(){if(this.$menu){this.$menu.hide()}this.maxWidth=0;this.maxHeight=0;if(this.$menu){this.$menu.find(".blue").width(0).height(0)}},resetMenu:function(d){function b(g){if(g.originalEvent&&g.originalEvent.touches){return g.originalEvent.touches[0].pageX}else{return g.pageX}}function f(g){if(g.originalEvent&&g.originalEvent.touches){return g.originalEvent.touches[0].pageY}else{return g.pageY}}if(!this.$menu){var e=this;this.$menu=$j("<div class='defaultSkin'><a href='javascript:' class='tableMenuFocusTarget' tabindex='0' style='position: absolute;'>a</a><div class='mceMenu newTable'><div class='blue'></div></div></div>").css("position","absolute").appendTo(document.body);function c(g,h){h=Math.max(h,1);g=Math.max(g,1);if(h>=e.maxWidth-1||g>=e.maxHeight-1){e.setMenuSize(Math.max(h+1,e.maxWidth),Math.max(g+1,e.maxHeight))}e.$menu.find(".label").text(h+" x "+g);e.$menu.find(".blue").width(e.cellWidth*h);e.$menu.find(".blue").height(e.cellHeight*g)}this.$menu.on("mousemove",function(k){var j=f(k)-e.$menu.offset().top;var i=b(k)-e.$menu.offset().left;var g=Math.floor((j+e.cellHeight)/e.cellHeight);var h=Math.floor((i+e.cellWidth)/e.cellWidth);c(g,h);return false});this.$menu.on("click touchstart",function(k){var j=f(k)-e.$menu.offset().top;var i=b(k)-e.$menu.offset().left;var g=Math.floor((j+e.cellHeight)/e.cellHeight);var h=Math.floor((i+e.cellWidth)/e.cellWidth);e.hideMenu();e.insertTable(d,h,g);return false}).keydown(function(j){var h=e.$menu.find(".blue");var i=h.width()/e.cellWidth;var g=h.height()/e.cellHeight;if(j.keyCode==37){c(g,i-1);return false}else{if(j.keyCode==38){c(g-1,i);return false}else{if(j.keyCode==39){c(g,i+1);return false}else{if(j.keyCode==40){c(g+1,i);return false}else{if(j.keyCode==13){e.hideMenu();e.insertTable(d,i,g);return false}else{if(j.keyCode==27){e.hideMenu();e.ed.focus();if(e.book){e.ed.selection.moveToBookmark(e.book);e.book=null}return false}}}}}}})}this.$menu.show();this.setMenuSize(3,3)},init:function(b,c){var d=this;d.ed=b;d.book=null;b.onInit.add(function(){$j(b.getContainer()).find("a.mce_jivetablebutton").click(function(){return false}).keydown(function(e){if(e.keyCode==13){d.showTableMenu();d.$menu.find("a.tableMenuFocusTarget").focus();return false}})},this);$j(document.body).click(function(){d.hideMenu()});b.onClick.add(function(){this.hideMenu()},this)},mceJiveTableMenu:function(b,f,d,h){try{var c=$j(b.getContainer()).find("a.mce_jivetablebutton");this.resetMenu(b);var j=c.offset();j.top+=c.height();this.$menu.css($j.extend({zIndex:1000},j))}catch(g){for(var i in g){console.log(i+": "+g[i])}}},createControl:function(f,b){var d=this;switch(f){case"jivetablebutton":var e=b.createButton("jivetablebutton",{title:"tabletoolbar.title",onclick:function(){d.showTableMenu()}});return e}return null},showTableMenu:function a(){this.ed.focus();this.book=this.ed.selection.getBookmark(BOOKMARKTYPE);this.mceJiveTableMenu(this.ed)},getInfo:function(){return{longname:"Jive Table Button",author:"Adam Wulf",authorurl:"http://www.jivesoftware.com",infourl:"",version:"1.0"}}});tinymce.PluginManager.add("jivetablebutton",tinymce.plugins.JiveTableButtonPlugin)})();
;
tinyMCE.addI18n('en.tabletoolbar',{
    title : 'Insert Table'
});

;
(function(){tinymce.create("tinymce.plugins.StylePlugin",{init:function(a,b){a.addCommand("mceStyleProps",function(){a.windowManager.open({file:b+"/props.htm",width:480+parseInt(a.getLang("style.delta_width",0)),height:320+parseInt(a.getLang("style.delta_height",0)),inline:1},{plugin_url:b,style_text:a.selection.getNode().style.cssText,cs_resource_base_url:CS_RESOURCE_BASE_URL})});a.addCommand("mceSetElementStyle",function(d,c){if(e=a.selection.getNode()){a.dom.setAttrib(e,"style",c);a.execCommand("mceRepaint")}});a.onNodeChange.add(function(d,c,f){c.setDisabled("styleprops",f.nodeName==="BODY")});a.addButton("styleprops",{title:"style.desc",cmd:"mceStyleProps"})},getInfo:function(){return{longname:"Style",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/style",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("style",tinymce.plugins.StylePlugin)})();
;
(function(){var a=tinymce.each;tinymce.create("tinymce.plugins.TablePlugin",{putCursorInCell:function(b,f){var e=false;if(f.childNodes.length==0){if(f.childNodes.length==0){f.appendChild(b.plugins.jivemacros.createEmptyPara());e=true}}var d=f.childNodes[0];var c=f;while(d.nodeType==1&&d.childNodes.length){c=d;d=d.childNodes[0]}b.selection.select(tinymce.isIE?c:d);b.selection.collapse(true);if(e){f.removeChild(f.childNodes[0])}},tempTable:null,fixTable:function(){if(this.tempTable!=null&&$def(this.tempTable)&&this.tempTable.getAttribute("width")){var c=this.tempTable.getAttribute("width");if(c.indexOf("%")==-1){c+="px"}this.tempTable.style.width=c;this.tempTable.removeAttribute("width");this.tempTable.setAttribute("data-mce-style",this.tempTable.getAttribute("style"))}if(this.tempTable.childNodes.length){var d=this.tempTable.childNodes[0];if(d.childNodes.length){var b=d.childNodes[0];if(b.childNodes.length){var e=b.childNodes[0];if(b.nodeName==e.nodeName&&b.nodeName.toLowerCase()=="tr"){while(b.childNodes.length){d.appendChild(b.childNodes[0])}d.removeChild(b)}}}}},fixInvisibleTableBorders:function(b,d){if(d.nodeType==1&&d.nodeName.toLowerCase()=="table"){if(d.style.borderCollapse=="collapse"){d.style.borderCollapse="separate";setTimeout(function(){d.style.borderCollapse="collapse"},330)}}else{if(d.nodeType==1){for(var c=0;c<d.childNodes.length;c++){this.fixInvisibleTableBorders(b,d.childNodes[c])}}}},init:function(b,c){var d=this;d.editor=b;d.url=c;a([["table","table.props_desc","mceInsertTable",true],["delete_table","table.del","mceTableDelete"],["delete_col","table.delete_col_desc","mceTableDeleteCol"],["delete_row","table.delete_row_desc","mceTableDeleteRow"],["col_after","table.col_after_desc","mceTableInsertColAfter"],["col_before","table.col_before_desc","mceTableInsertColBefore"],["row_after","table.row_after_desc","mceTableInsertRowAfter"],["row_before","table.row_before_desc","mceTableInsertRowBefore"],["row_props","table.row_desc","mceTableRowProps",true],["cell_props","table.cell_desc","mceTableCellProps",true],["split_cells","table.split_cells_desc","mceTableSplitCells",true],["merge_cells","table.merge_cells_desc","mceTableMergeCells",true],["row_up","table.row_up","mceTableRowUp",true],["row_down","table.row_down","mceTableRowDown",true],["col_left","table.col_left","mceTableColLeft",true],["col_right","table.col_right","mceTableColRight",true]],function(e){b.addButton(e[0],{title:e[1],cmd:e[2],ui:e[3]})});b.onInit.add(function(){if(tinymce.isGecko){b.plugins.table.fixInvisibleTableBorders(b,b.getBody())}if(b&&b.plugins.contextmenu){b.plugins.contextmenu.onContextMenu.add(function(h,f,j){var k,i=b.selection,g=i.getNode()||b.getBody();if(b.dom.getParent(j,"td")||b.dom.getParent(j,"th")){f.removeAll();if(g.nodeName=="A"&&!b.dom.getAttrib(g,"name")){f.add({title:"advanced.unlink_desc",icon:"unlink",cmd:"UnLink"});f.addSeparator()}if(g.nodeName=="IMG"&&g.className.indexOf("mceItem")==-1){f.add({title:"advanced.image_desc",icon:"image",cmd:b.plugins.advimage?"mceAdvImage":"mceImage",ui:true});f.addSeparator()}f.add({title:"table.props_desc",icon:"table_props",cmd:"mceInsertTable",ui:true});f.add({title:"table.del",icon:"delete_table",cmd:"mceTableDelete",ui:true});f.addSeparator();k=f.addMenu({title:"table.cell"});k.add({title:"table.cell_desc",icon:"cell_props",cmd:"mceTableCellProps",ui:true});k.add({title:"table.split_cells_desc",icon:"split_cells",cmd:"mceTableSplitCells",ui:true});k.add({title:"table.merge_cells_desc",icon:"merge_cells",cmd:"mceTableMergeCells",ui:true});k=f.addMenu({title:"table.row"});k.add({title:"table.row_desc",icon:"row_props",cmd:"mceTableRowProps",ui:true});k.add({title:"table.row_before_desc",icon:"row_before",cmd:"mceTableInsertRowBefore"});k.add({title:"table.row_after_desc",icon:"row_after",cmd:"mceTableInsertRowAfter"});k.add({title:"table.delete_row_desc",icon:"delete_row",cmd:"mceTableDeleteRow"});k.addSeparator();k.add({title:"table.cut_row_desc",icon:"cut",cmd:"mceTableCutRow"});k.add({title:"table.copy_row_desc",icon:"copy",cmd:"mceTableCopyRow"});if(b.tableRowClipboard){k.add({title:"table.paste_row_before_desc",icon:"paste",cmd:"mceTablePasteRowBefore"});k.add({title:"table.paste_row_after_desc",icon:"paste",cmd:"mceTablePasteRowAfter"})}k=f.addMenu({title:"table.col"});k.add({title:"table.col_before_desc",icon:"col_before",cmd:"mceTableInsertColBefore"});k.add({title:"table.col_after_desc",icon:"col_after",cmd:"mceTableInsertColAfter"});k.add({title:"table.delete_col_desc",icon:"delete_col",cmd:"mceTableDeleteCol"})}else{if(b.dom.getParent(j,"img")==null){f.add({title:"table.desc",icon:"table",cmd:"mceInsertTable",ui:true,value:{action:"insert"}})}}})}});b.onKeyUp.add(function(f,h){if(h.keyCode==9&&!h.ctrlKey&&!h.altKey){var g=f.dom.getParent(f.selection.getNode(),"li,td,th,caption");if(g!=null&&g.nodeName.toLowerCase()!="li"){if(h.shiftKey){if(g.previousSibling!=null){this.putCursorInCell(f,g.previousSibling)}else{var i=f.dom.getParent(g,"tr");if(i.previousSibling){this.putCursorInCell(f,i.previousSibling.cells[i.previousSibling.childNodes.length-1])}else{this.putCursorInCell(f,g)}}}else{if(g.nextSibling!=null){this.putCursorInCell(f,g.nextSibling)}else{var i=f.dom.getParent(g,"tr");if(i.nextSibling){this.putCursorInCell(f,i.nextSibling.cells[0])}else{f.execCommand("mceTableInsertRowAfter");this.putCursorInCell(f,i.nextSibling.cells[0])}}}f.nodeChanged();tinymce.dom.Event.cancel(h)}}},this);b.onKeyDown.add(function(f,h){if(h.keyCode==9&&!h.ctrlKey&&!h.altKey&&f.dom.getParent(f.selection.getNode(),"TABLE")){f.undoManager.add()}if(h.keyCode==9&&!h.ctrlKey&&!h.altKey){var g=f.dom.getParent(f.selection.getNode(),"td,th,caption");if(g!=null){tinymce.dom.Event.cancel(h)}}});b.onKeyPress.add(function(f,h){if(h.keyCode==9&&!h.ctrlKey&&!h.altKey){var g=f.dom.getParent(f.selection.getNode(),"td,th,caption");if(g!=null){tinymce.dom.Event.cancel(h)}}});if(!tinymce.isIE){if(b.getParam("table_selection",true)){b.onClick.add(function(f,g){g=g.target;if(g.nodeName==="TABLE"){f.selection.select(g)}})}}b.onMouseUp.add(function(f,h){var i=f.selection.getNode();var g=f.dom.getParent(i,"table");if(g){f.plugins.table.tempTable=g;if(h.target.nodeName.toLowerCase()=="tr"||h.target.nodeName.toLowerCase()=="table"){f.plugins.table._doExecCommand("fixMissingCells",g)}jive.ext.x.xTimer.set("timeout",f.plugins.table,"fixTable",33)}});b.onNodeChange.add(function(g,f,k){var i=g.dom.getParent(k,"td,th,caption");var e=g.dom.getParent(k,"td,th");if(e&&g.selection.isCollapsed()){var j=g.dom.getAttrib(e,"colspan");var h=g.dom.getAttrib(e,"rowspan");j=j==""?1:parseInt(j);h=h==""?1:parseInt(h);f.setDisabled("split_cells",j==1&&h==1);f.setDisabled("merge_cells",!(j==1&&h==1))}else{if(e){f.setDisabled("split_cells",false);f.setDisabled("merge_cells",false)}else{f.setDisabled("split_cells",true);f.setDisabled("merge_cells",true)}}if(i&&i.nodeName==="CAPTION"){i=null}f.setDisabled("delete_table",!i);f.setDisabled("delete_col",!i);f.setDisabled("delete_table",!i);f.setDisabled("delete_row",!i);f.setDisabled("col_after",!i);f.setDisabled("col_before",!i);f.setDisabled("row_after",!i);f.setDisabled("row_before",!i);f.setDisabled("row_props",!i);f.setDisabled("cell_props",!i)});if(!tinymce.isIE){b.onBeforeSetContent.add(function(e,f){if(f.initial){f.content=f.content.replace(/<(td|th)([^>]+|)>\s*<\/(td|th)>/g,tinymce.isOpera?"<$1$2>&nbsp;</$1>":'<$1$2><br mce_bogus="1" /></$1>')}})}b.onKeyDown.addToTop(function(h,j){var e=h.selection.getRng(true);if(e.collapsed){if(j.keyCode==39||j.keyCode==40){var o=h.dom.getParent(e.startContainer,"p");if(o&&h.selectionUtil.isEffectivelyEmpty(o)&&this.isFirst(h.getBody(),o)){var g=o.nextSibling;while(g&&g.nodeType!=1){g=g.nextSibling}if(g&&g.nodeName.toLowerCase()=="p"){g=g.firstChild}if(g&&g.nodeName.toLowerCase()=="table"){setTimeout(function(){o.parentNode.removeChild(o)},0)}}}else{if(j.keyCode==38){var k=h.dom.getParent(e.startContainer,"td, th");if(k){var m=h.dom.getParent(k,"table");if(this.isFirst(h.getBody(),m)){var i=h.dom.getParent(k,"tr");if(this.isFirst(m,k)){var f=h.plugins.jivemacros.createEmptyPara();var l=m;while(l.parentNode.nodeName.toLowerCase()!="body"){l=l.parentNode}l.parentNode.insertBefore(f,l)}}}}}}},this)},isFirst:function(b,c){if(b.childNodes.length==0){return false}return(b.childNodes[0]==c||this.isFirst(b.childNodes[0],c))},execCommand:function(g,f,h){var d=this.editor,c;switch(g){case"mceInsertTable":case"mceTableRowProps":case"mceTableCellProps":case"mceTableSplitCells":case"mceTableMergeCells":case"mceTableInsertRowBefore":case"mceTableInsertRowAfter":case"mceTableDeleteRow":case"mceTableInsertColBefore":case"mceTableInsertColAfter":case"mceTableDeleteCol":case"mceTableCutRow":case"mceTableCopyRow":case"mceTablePasteRowBefore":case"mceTablePasteRowAfter":case"mceTableDelete":case"JustifyLeft":case"JustifyCenter":case"JustifyRight":case"JustifyFull":case"mceTableRowUp":case"mceTableRowDown":case"mceTableColLeft":case"mceTableColRight":d.execCommand("mceBeginUndoLevel");var e=this._doExecCommand(g,f,h);if(e==-1){return false}if(e){d.execCommand("mceEndUndoLevel");d.undoManager.add(false,true)}return true}return false},getInfo:function(){return{longname:"Tables",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/table",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_doExecCommand:function(ab,T,M){var b=this.editor,e=b,v=this.url;var aD=b.selection.getNode();if(typeof(M)!="undefined"&&typeof(M.cell)!="undefined"){aD=M.cell}var aA=b.dom.getParent(aD,"tr");var Z=b.dom.getParent(aD,"td,th");if(typeof(M)!="undefined"&&typeof(M.cell)!="undefined"){Z=M.cell}var m=b.dom.getParent(aD,"table");var D=b.contentWindow.document;var ar=m?m.getAttribute("border"):"";if(aA&&Z==null){Z=aA.cells[0]}function u(x,r){for(var y=0;y<x.length;y++){if(x[y].length>0&&u(x[y],r)){return true}if(x[y]==r){return true}}return false}function aG(r,i){var x;ae=Y(m);r=r||0;i=i||0;r=Math.max(V.cellindex+r,0);i=Math.max(V.rowindex+i,0);b.execCommand("mceRepaint");x=d(ae,i,r);if(x){b.selection.select(x.firstChild||x);b.selection.collapse(1)}}function H(){var i=D.createElement("td");if(!tinymce.isIE){i.innerHTML='<br mce_bogus="1"/>'}return i}function aJ(y){var x=1,r=1,i;if(i=y.getAttribute("colspan")){if(typeof(i.nodeValue)!="undefined"){x=i.nodeValue}else{x=i}}if(i=y.getAttribute("rowspan")){if(typeof(i.nodeValue)!="undefined"){r=i.nodeValue}else{r=i}}x=parseInt(x);r=parseInt(r);return{colspan:x,rowspan:r}}function k(r,aL){var i,aK;for(aK=0;aK<r.length;aK++){for(i=0;i<r[aK].length;i++){if(r[aK][i]==aL){return{cellindex:i,rowindex:aK}}}}return null}function d(r,x,i){if(r[x]&&r[x][i]){return r[x][i]}return null}function ac(x,y){if(x.nodeName.toLowerCase()=="br"){return y}if(x.childNodes.length==0){return x}for(var r=0;r<x.childNodes.length;r++){if(x.childNodes[r].nodeType==3){x.removeChild(x.childNodes[r]);r--}else{y=ac(x.childNodes[r],x)}}if(x.childNodes.length==0){return x}return y}function f(r,x){var i=ac(r,r);if(i.childNodes.length==0){i.appendChild(x)}else{i.insertBefore(x,i.childNodes[i.childNodes.length-1])}b.focus()}function Y(aQ){var i=[],aR=aQ.rows,aO,aN,aK,aL,aP,r,aM;for(aN=0;aN<aR.length;aN++){if(aR[aN].cells.length==0){aR[aN].parentNode.removeChild(aR[aN]);aN--;continue}for(aO=0;aO<aR[aN].cells.length;aO++){aK=aR[aN].cells[aO];aL=aJ(aK);for(aP=aO;i[aN]&&i[aN][aP];aP++){}for(aM=aN;aM<aN+aL.rowspan;aM++){if(!i[aM]){i[aM]=[]}for(r=aP;r<aP+aL.colspan;r++){i[aM][r]=aK}}}}return i}function aI(aS,aP,aK,y){var r=Y(aS),aR=k(r,aK);var aT,aO;if(y.cells.length!=aP.childNodes.length){aT=aP.childNodes;aO=null;for(var aQ=0;aK=d(r,aR.rowindex,aQ);aQ++){var aM=true;var aN=aJ(aK);if(u(aT,aK)){y.childNodes[aQ]._delete=true}else{if((aO==null||aK!=aO)&&aN.colspan>1){for(var aL=aQ;aL<aQ+aK.colSpan;aL++){y.childNodes[aL]._delete=true}}}if((aO==null||aK!=aO)&&aN.rowspan>1){aK.rowSpan=aN.rowspan+1}if(aK.rowSpan==1){aK.removeAttribute("rowspan")}aO=aK}ay(m)}}function al(r,i){while((r=r.previousSibling)!=null){if(r.nodeName==i){return r}}return null}function C(y,aK){var r=aK.split(",");while((y=y.nextSibling)!=null){for(var x=0;x<r.length;x++){if(y.nodeName.toLowerCase()==r[x].toLowerCase()){return y}}}return null}function ay(aK){if(aK.rows==0){return}var y=aK.rows[0];for(var x=0;x<aK.rows.length;x++){var y=aK.rows[x];if(y._delete){y.parentNode.removeChild(y);x--;continue}var aL=y.cells[0];if(aL.cells>1){do{var r=C(aL,"TD,TH");if(aL._delete){aL.parentNode.removeChild(aL)}}while((aL=r)!=null)}}}function p(y,aM,aL){y.rowspan=1;y.setAttribute("rowSpan","1");y.removeAttribute("rowSpan");var r=C(aM,"TR");for(var aK=1;aK<aL&&r;aK++){var x=D.createElement("td");if(!tinymce.isIE){x.innerHTML='<br mce_bogus="1"/>'}if(tinymce.isIE){if(tinymce.isIE9&&typeof r.cells(y.cellIndex)==="undefined"){r.appendChild(x)}else{r.insertBefore(x,r.cells(y.cellIndex))}}else{r.insertBefore(x,r.cells[y.cellIndex])}r=C(r,"TR")}}function X(aR,aT,aN){var r=Y(aT);var y=aN.cloneNode(false);var aS=k(r,aN.cells[0]);var aO=null;var aM=b.dom.getAttrib(aT,"border");var aL=null;for(var aQ=0;aL=d(r,aS.rowindex,aQ);aQ++){var aP=null;if(aO!=aL){for(var aK=0;aK<aN.cells.length;aK++){if(aL==aN.cells[aK]){aP=aL.cloneNode(true);break}}}if(aP==null){aP=aR.createElement("td");if(!tinymce.isIE){aP.innerHTML='<br mce_bogus="1"/>'}}aP.removeAttribute("colSpan");aP.removeAttribute("rowspan");y.appendChild(aP);aO=aL}return y}switch(ab){case"fixMissingCells":var ae=Y(T);var am=0;for(var O=0;O<ae.length;O++){if(ae[O].length>am){am=ae[O].length}}for(var O=0;O<ae.length;O++){if(ae[O].length<am){T.rows[O].appendChild(H())}}return false;case"mceTableRowUp":if(aA==null){return false}if(aA.previousSibling!=null){var P=b.selection.getNode();aA.parentNode.insertBefore(aA,aA.previousSibling);if(P.childNodes.length&&!tinymce.isIE){P=P.childNodes[0]}b.selection.select(P);b.selection.collapse(true);b.nodeChanged(false,true)}return true;case"mceTableRowDown":if(aA==null){return false}if(aA.nextSibling!=null){var P=b.selection.getNode();aA.parentNode.insertBefore(aA.nextSibling,aA);if(P.childNodes.length&&!tinymce.isIE){P=P.childNodes[0]}b.selection.select(P);b.selection.collapse(true);b.nodeChanged(false,true)}return true;case"mceTableColRight":if(!aA||!Z){return false}var ae=Y(m);var V=k(ae,Z);var q=null;var P=b.selection.getNode();for(var I=0;Z=d(ae,I,V.cellindex);I++){if(Z!=q){var an=$j(Z).next("td, th");if(an.length>0){Z.parentNode.insertBefore(an.get(0),Z)}q=Z}}if(P.childNodes.length&&!tinymce.isIE){P=P.childNodes[0]}b.selection.select(P);b.selection.collapse(true);b.nodeChanged(false,true);return true;case"mceTableColLeft":if(!aA||!Z){return false}var ae=Y(m);var V=k(ae,Z);var q=null;var P=b.selection.getNode();for(var I=0;Z=d(ae,I,V.cellindex);I++){if(Z!=q){var E=$j(Z).prev("td, th");if(E.length>0){Z.parentNode.insertBefore(Z,E.get(0))}q=Z}}if(P.childNodes.length&&!tinymce.isIE){P=P.childNodes[0]}b.selection.select(P);b.selection.collapse(true);b.nodeChanged(false,true);return true;case"mceTableRowProps":if(aA==null){return false}if(T){b.windowManager.open({url:CS_BASE_URL+"/resources/scripts/tiny_mce3/plugins/table/row.htm",width:400+parseInt(b.getLang("table.rowprops_delta_width",0)),height:245+parseInt(b.getLang("table.rowprops_delta_height",0)),inline:1},{plugin_url:v,cs_resource_base_url:CS_RESOURCE_BASE_URL})}return false;case"mceTableCellProps":if(Z==null){return false}if(T){b.windowManager.open({url:CS_BASE_URL+"/resources/scripts/tiny_mce3/plugins/table/cell.htm",width:400+parseInt(b.getLang("table.cellprops_delta_width",0)),height:275+parseInt(b.getLang("table.cellprops_delta_height",0)),inline:1},{plugin_url:v,cs_resource_base_url:CS_RESOURCE_BASE_URL})}return false;case"mceInsertTable":if(T){if(M&&M.action=="insert"){b.windowManager.open({url:CS_BASE_URL+"/resources/scripts/tiny_mce3/plugins/table/table.htm",width:420+parseInt(b.getLang("table.table_delta_width",0)),height:298+parseInt(b.getLang("table.table_delta_height",0)),inline:1},{plugin_url:v,action:M?M.action:0,cs_resource_base_url:CS_RESOURCE_BASE_URL})}else{b.windowManager.open({url:CS_BASE_URL+"/resources/scripts/tiny_mce3/plugins/table/table_edit.htm",width:420+parseInt(b.getLang("table.table_delta_width",0)),height:258+parseInt(b.getLang("table.table_delta_height",0)),inline:1},{plugin_url:v,action:M?M.action:0,cs_resource_base_url:CS_RESOURCE_BASE_URL})}}return false;case"mceTableDelete":var ad=b.dom.getParent(b.selection.getNode(),"table");if(ad){ad.parentNode.removeChild(ad);b.nodeChanged(false,true);b.execCommand("mceRepaint")}return true;case"mceTableSplitCells":case"mceTableMergeCells":case"mceTableInsertRowBefore":case"mceTableInsertRowAfter":case"mceTableDeleteRow":case"mceTableInsertColBefore":case"mceTableInsertColAfter":case"mceTableDeleteCol":case"mceTableCutRow":case"mceTableCopyRow":case"mceTablePasteRowBefore":case"mceTablePasteRowAfter":case"JustifyLeft":case"JustifyCenter":case"JustifyRight":case"JustifyFull":if(!m){switch(ab){case"JustifyLeft":case"JustifyCenter":case"JustifyRight":case"JustifyFull":return -1;default:return true}}if(aA&&m!=aA.parentNode){m=e.dom.getParent(aA,"table")}if(m&&(aA||tinymce.isIE||tinymce.isWebKit)){switch(ab){case"JustifyLeft":case"JustifyCenter":case"JustifyRight":case"JustifyFull":var ai=[];var P=b.selection.getSel();var ae=Y(m);if(tinymce.isIE||tinymce.isWebKit){var s=e.dom.getParent(b.selection.getStart(),"td,th");var S=e.dom.getParent(b.selection.getEnd(),"td,th");if(s&&S){b.plugins.jiveutil.walkDOMTree(s,S,function(r){if(r.nodeType==1&&(r.nodeName.toLowerCase()=="td"||r.nodeName.toLowerCase()=="th")){var i=r;if(ab=="JustifyLeft"){i.style.textAlign="left";i.setAttribute("data-mce-style",i.getAttribute("style"))}else{if(ab=="JustifyRight"){i.style.textAlign="right";i.setAttribute("data-mce-style",i.getAttribute("style"))}else{if(ab=="JustifyCenter"){i.style.textAlign="center";i.setAttribute("data-mce-style",i.getAttribute("style"))}else{if(ab=="JustifyFull"){i.style.textAlign="justify";i.setAttribute("data-mce-style",i.getAttribute("style"))}}}}}})}break}else{if(P.rangeCount==1){var V=k(ae,Z);var aE=m.rows;for(var I=V.rowindex;I<ae.length;I++){var N=[];for(var J=V.cellindex;J<ae[I].length;J++){var aq=d(ae,I,J);if(aq&&!u(ai,aq)&&!u(N,aq)){var F=k(ae,aq);if(F.cellindex<V.cellindex+1&&F.rowindex<V.rowindex+1){N[N.length]=aq}}}if(N.length>0){ai[ai.length]=N}}}else{var W=[];var P=b.selection.getSel();var aC=null;var l=null;var z=-1,h=-1,w,g;for(var R=0;R<P.rangeCount;R++){var c=P.getRangeAt(R);var Z=c.startContainer.childNodes[c.startOffset];if(!Z){break}if(Z.nodeName=="TD"||Z.nodeName=="TH"){W[W.length]=Z}}var aE=m.rows;for(var I=0;I<aE.length;I++){var N=[];for(var J=0;J<aE[I].cells.length;J++){var aq=aE[I].cells[J];for(var R=0;R<W.length;R++){if(aq==W[R]){N[N.length]=aq}}}if(N.length>0){ai[ai.length]=N}}}}for(var I=0;I<ai.length;I++){for(var J=0;J<ai[I].length;J++){var aq=ai[I][J];if(ab=="JustifyLeft"){aq.style.textAlign="left";aq.setAttribute("data-mce-style",aq.getAttribute("style"))}else{if(ab=="JustifyRight"){aq.style.textAlign="right";aq.setAttribute("data-mce-style",aq.getAttribute("style"))}else{if(ab=="JustifyCenter"){aq.style.textAlign="center";aq.setAttribute("data-mce-style",aq.getAttribute("style"))}else{if(ab=="JustifyFull"){aq.style.textAlign="justify";aq.setAttribute("data-mce-style",aq.getAttribute("style"))}}}}}}break;case"mceTableCutRow":if(!aA||!Z){return true}b.tableRowClipboard=X(D,m,aA);b.execCommand("mceTableDeleteRow");break;case"mceTableCopyRow":if(!aA||!Z){return true}b.tableRowClipboard=X(D,m,aA);break;case"mceTablePasteRowBefore":if(!aA||!Z){return true}var j=b.tableRowClipboard.cloneNode(true);var aB=al(aA,"TR");if(aB!=null){aI(m,aB,aB.cells[0],j)}aA.parentNode.insertBefore(j,aA);break;case"mceTablePasteRowAfter":if(!aA||!Z){return true}var af=C(aA,"TR");var j=b.tableRowClipboard.cloneNode(true);aI(m,aA,Z,j);if(af==null){aA.parentNode.appendChild(j)}else{af.parentNode.insertBefore(j,af)}break;case"mceTableInsertRowBefore":if(!aA||!Z){return true}var aa=e.selection.getBookmark();var ae=Y(m);var V=k(ae,Z);var j=D.createElement("tr");var q=null;V.rowindex--;if(V.rowindex<0){V.rowindex=0}for(var J=0;Z=d(ae,V.rowindex,J);J++){if(Z!=q){var ax=aJ(Z);if(ax.rowspan==1){var o=D.createElement("td");if(!tinymce.isIE){o.innerHTML='<br mce_bogus="1"/>'}o.colSpan=Z.colSpan;j.appendChild(o)}else{Z.rowSpan=ax.rowspan+1}if(Z.rowSpan==1){Z.removeAttribute("rowspan")}if(Z.colSpan==1){Z.removeAttribute("colSpan")}q=Z}}aA.parentNode.insertBefore(j,aA);e.selection.moveToBookmark(aa);break;case"mceTableInsertRowAfter":if(!aA||!Z){return true}var aa=e.selection.getBookmark();var ae=Y(m);var V=k(ae,Z);var j=D.createElement("tr");var q=null;for(var J=0;Z=d(ae,V.rowindex,J);J++){if(Z!=q){var ax=aJ(Z);if(ax.rowspan==1){var o=D.createElement("td");if(!tinymce.isIE){o.innerHTML='<br mce_bogus="1"/>'}o.colSpan=Z.colSpan;if(o.colSpan==1){o.removeAttribute("colSpan")}j.appendChild(o)}else{Z.rowSpan=ax.rowspan+1}if(Z.rowSpan==1){Z.removeAttribute("rowspan")}q=Z}}if(j.hasChildNodes()){var af=C(aA,"TR");if(af){af.parentNode.insertBefore(j,af)}else{var G;if(m.childNodes.length>0){G=m.childNodes[0]}else{G=m}if(G.nodeName.toLowerCase()=="tbody"){G.appendChild(j)}else{m.appendChild(j)}}}e.selection.moveToBookmark(aa);break;case"mceTableDeleteRow":if(!aA||!Z){return true}var ae=Y(m);var V=k(ae,Z);if(ae.length==1){b.dom.remove(b.dom.getParent(m,"table"));return true}var W=aA.cells;var af=C(aA,"TR");for(var J=0;J<W.length;J++){if(W[J].rowSpan>1){var o=W[J].cloneNode(true);var ax=aJ(W[J]);o.rowSpan=ax.rowspan-1;if(o.rowSpan==1){o.removeAttribute("rowspan")}var ap=af.cells[J];if(ap==null){af.appendChild(o)}else{af.insertBefore(o,ap)}}}var q=null;for(var J=0;Z=d(ae,V.rowindex,J);J++){if(Z!=q){var ax=aJ(Z);if(ax.rowspan>1){Z.rowSpan=ax.rowspan-1}else{aA=Z.parentNode;if(aA.parentNode){aA._delete=true}}if(aA.rowSpan==1){aA.removeAttribute("rowspan")}q=Z}}ay(m);aG(0,-1);break;case"mceTableInsertColBefore":if(!aA||!Z){return true}var aa=e.selection.getBookmark();var ae=Y(m);var V=k(ae,Z);var q=null;for(var I=0;Z=d(ae,I,V.cellindex);I++){if(Z!=q){var ax=aJ(Z);if(ax.colspan==1){var o=Z.cloneNode(true);if(o.nodeName.toLowerCase()=="th"){f(o,e.getDoc().createTextNode("Header "+(V.cellindex+I+1)))}else{if(!tinymce.isIE){o.innerHTML='<br mce_bogus="1"/>'}else{o.innerHTML=""}}o.rowSpan=Z.rowSpan;if(o.rowSpan==1){o.removeAttribute("rowspan")}Z.parentNode.insertBefore(o,Z)}else{Z.colSpan++}if(Z.colSpan==1){Z.removeAttribute("colSpan")}q=Z}}e.selection.moveToBookmark(aa);break;case"mceTableInsertColAfter":if(!aA||!Z){return true}var aa=e.selection.getBookmark();var ae=Y(m);var V=k(ae,Z);var q=null;for(var I=0;Z=d(ae,I,V.cellindex);I++){if(Z!=q){var ax=aJ(Z);if(ax.colspan==1){var o=Z.cloneNode(true);if(o.nodeName.toLowerCase()=="th"){f(o,e.getDoc().createTextNode("Header "+(V.cellindex+I+2)))}else{if(!tinymce.isIE){o.innerHTML='<br mce_bogus="1"/>'}else{o.innerHTML=""}}o.rowSpan=Z.rowSpan;if(o.rowSpan==1){o.removeAttribute("rowspan")}var ap=C(Z,"TD,TH");if(ap==null){Z.parentNode.appendChild(o)}else{ap.parentNode.insertBefore(o,ap)}}else{Z.colSpan++}if(Z.colSpan==1){Z.removeAttribute("colSpan")}q=Z}}e.selection.moveToBookmark(aa);break;case"mceTableDeleteCol":if(!aA||!Z){return true}var ae=Y(m);var V=k(ae,Z);var q=null;if(ae.length>1&&ae[0].length<=1){b.dom.remove(b.dom.getParent(m,"table"));return true}for(var I=0;Z=d(ae,I,V.cellindex);I++){if(Z!=q){var ax=aJ(Z);if(ax.colspan>1){Z.colSpan=ax.colspan-1}else{if(Z.parentNode){Z.parentNode.removeChild(Z)}}if(Z.colSpan==1){Z.removeAttribute("colSpan")}q=Z}}aG(-1);break;case"mceTableSplitCells":if(!aA||!Z){return true}var K=aJ(Z);var U=K.colspan;var at=K.rowspan;if(U>1||at>1){Z.colSpan=1;for(var R=1;R<U;R++){var o=D.createElement("td");if(!tinymce.isIE){o.innerHTML='<br mce_bogus="1"/>'}aA.insertBefore(o,C(Z,"TD,TH"));if(at>1){p(o,aA,at)}}if(Z.colSpan==1){Z.removeAttribute("colSpan")}p(Z,aA,at)}if(Z.childNodes.length==0){Z.innerHTML='<br mce_bogus="1"/>'}if(typeof(M)!="undefined"&&typeof(M.cell)=="undefined"){b.selection.select(Z.childNodes[0]);b.selection.collapse(true);m=b.dom.getParent(b.selection.getNode(),"table")}break;case"mceTableMergeCells":var ai=[];var P=b.selection.getSel();var ae=Y(m);if(tinymce.isIE||P.rangeCount<=1){if(T){var au=aJ(Z);var B=0;var aH=0;var aj=Z;while(aj&&aj.nextSibling){var aw=aJ(Z);B+=aw.colspan;aj=aj.nextSibling}var aj=aA;while(aj&&aj.nextSibling){aH+=1;aj=aj.nextSibling}b.windowManager.open({url:CS_BASE_URL+"/resources/scripts/tiny_mce3/plugins/table/merge_cells.htm",width:360+parseInt(b.getLang("table.merge_cells_delta_width",0)),height:140,inline:1},{action:"update",numcols:au.colspan,numrows:au.rowspan,maxcols:B,maxrows:aH,plugin_url:v,cs_resource_base_url:CS_RESOURCE_BASE_URL});return false}else{var av=parseInt(M.numrows);var n=parseInt(M.numcols);var V=k(ae,Z);if((""+av)=="NaN"){av=1}if((""+n)=="NaN"){n=1}var aE=m.rows;for(var I=V.rowindex;I<ae.length;I++){var N=[];for(var J=V.cellindex;J<ae[I].length;J++){var aq=d(ae,I,J);if(aq&&!u(ai,aq)&&!u(N,aq)){var F=k(ae,aq);if(F.cellindex<V.cellindex+n&&F.rowindex<V.rowindex+av){N[N.length]=aq}}}if(N.length>0){ai[ai.length]=N}var aq=d(ae,V.rowindex,V.cellindex);a(e.dom.select("br",aq),function(x,r){if(r>0&&e.dom.getAttrib("mce_bogus")){e.dom.remove(x)}})}}}else{var W=[];var P=b.selection.getSel();var aC=null;var l=null;var z=-1,h=-1,w,g;if(P.rangeCount<2){return true}for(var R=0;R<P.rangeCount;R++){var c=P.getRangeAt(R);var Z=c.startContainer.childNodes[c.startOffset];if(!Z){break}if(Z.nodeName=="TD"||Z.nodeName=="TH"){W[W.length]=Z}}var aE=m.rows;for(var I=0;I<aE.length;I++){var N=[];for(var J=0;J<aE[I].cells.length;J++){var aq=aE[I].cells[J];for(var R=0;R<W.length;R++){if(aq==W[R]){N[N.length]=aq}}}if(N.length>0){ai[ai.length]=N}}var l=[];var aC=null;for(var I=0;I<ae.length;I++){for(var J=0;J<ae[I].length;J++){ae[I][J]._selected=false;for(var R=0;R<W.length;R++){if(ae[I][J]==W[R]){if(z==-1){z=J;h=I}w=J;g=I;ae[I][J]._selected=true}}}}for(var I=h;I<=g;I++){for(var J=z;J<=w;J++){if(!ae[I][J]._selected){alert("Invalid selection for merge.");return true}}}}var aF=1,ak=1;var ag=-1;for(var I=0;I<ai.length;I++){var t=0;for(var J=0;J<ai[I].length;J++){var ax=aJ(ai[I][J]);t+=ax.colspan;if(ag!=-1&&ax.rowspan!=ag){alert("Invalid selection for merge.");return true}ag=ax.rowspan}if(t>ak){ak=t}ag=-1}var A=-1;for(var J=0;J<ai[0].length;J++){var L=0;for(var I=0;I<ai.length;I++){var ax=aJ(ai[I][J]);L+=ax.rowspan;if(A!=-1&&ax.colspan!=A){alert("Invalid selection for merge.");return true}A=ax.colspan}if(L>aF){aF=L}A=-1}Z=ai[0][0];Z.rowSpan=aF;Z.colSpan=ak;if(Z.rowSpan==1){Z.removeAttribute("rowspan")}if(Z.colSpan==1){Z.removeAttribute("colSpan")}for(var I=0;I<ai.length;I++){for(var J=0;J<ai[I].length;J++){var az=ai[I][J].innerHTML;var Q=az.replace(/[ \t\r\n]/g,"");if(Q!="<br/>"&&Q!="<br>"&&Q!='<br mce_bogus="1"/>'&&(J+I>0)){Z.innerHTML+=az}if(ai[I][J]!=Z&&!ai[I][J]._deleted){var V=k(ae,ai[I][J]);var ah=ai[I][J].parentNode;ah.removeChild(ai[I][J]);ai[I][J]._deleted=true;if(!ah.hasChildNodes()){ah.parentNode.removeChild(ah);var ao=null;for(var J=0;cellElm=d(ae,V.rowindex,J);J++){if(cellElm!=ao&&cellElm.rowSpan>1){cellElm.rowSpan--}ao=cellElm}if(Z.rowSpan>1){Z.rowSpan--}if(Z.rowSpan==1){Z.removeAttribute("rowspan")}}}}}a(e.dom.select("br",Z),function(x,r){if(r>0&&e.dom.getAttrib(x,"mce_bogus")){e.dom.remove(x)}});break}m=b.dom.getParent(b.selection.getNode(),"table");b.addVisual(m);b.nodeChanged(false,true)}return true}return false}});tinymce.PluginManager.add("table",tinymce.plugins.TablePlugin)})();
;
tinyMCE.addI18n("en.table_dlg",{rules_border:"border",rules_box:"box",rules_vsides:"vsides",rules_rhs:"rhs",rules_lhs:"lhs",rules_hsides:"hsides",rules_below:"below",rules_above:"above",rules_void:"void",rules:"Rules",frame_all:"all",frame_cols:"cols",frame_rows:"rows",frame_groups:"groups",frame_none:"none",frame:"Frame",caption:"Table Caption",missing_scope:"Are you sure you want to continue without specifying a scope for this table header cell. Without it, it may be difficult for some users with disabilities to understand the content or data displayed of the table.",cell_limit:"You've exceeded the maximum number of cells of {$cells}.",row_limit:"You've exceeded the maximum number of rows of {$rows}.",col_limit:"You've exceeded the maximum number of columns of {$cols}.",colgroup:"Col Group",rowgroup:"Row Group",scope:"Scope",tfoot:"Footer",tbody:"Body",thead:"Header",row_all:"Update All Rows in Table",row_even:"Update Even Rows in Table",row_odd:"Update Odd Rows in Table",row_row:"Update Current Row",cell_all:"Update All Cells in Table",cell_row:"Update All Cells in Row",cell_cell:"Update Current Cell",th:"Header",td:"Data",summary:"Summary",bgimage:"Background Image",rtl:"Right to Left",ltr:"Left to Right",mime:"Target MIME Type",langcode:"Language Code",langdir:"Language Direction",style:"Style",id:"ID",merge_cells_title:"Merge Table Cells",bgcolor:"Background Color",bordercolor:"Border Color",align_bottom:"Bottom",align_top:"Top",valign:"Vertical Alignment",cell_type:"Cell Type",cell_title:"Table Cell Properties",row_title:"Table Row Properties",align_middle:"Center",align_right:"Right",align_left:"Left",align_default:"Default",align:"Alignment",border:"Border",cellpadding:"Cell Padding",cellspacing:"Cell Spacing",rows:"Rows",cols:"Columns",height:"Height",width:"Width",title:"Insert/Edit Table",rowtype:"Row Type",advanced_props:"Advanced Properties",general_props:"General Properties",advanced_tab:"Advanced",general_tab:"General",cell_col:"Update all cells in column"});
;
tinyMCE.addI18n('en.table_dlg',{
    title_new:"Insert table",
    title_edit:"Modify table",
    merge_cells_description: "Choose the number of cells to the right and below the current cell that you would like to merge. Choose &apos;0&apos; if you do not want to merge any cells in the given direction."
});
;
(function(){tinymce.create("tinymce.plugins.HTML",{thunks:new Array(),registerToggleFunction:function(a){this.thunks.push(a)},toggleHTML:function(a){var c=a.plugins.html.thunks;for(var b=0;b<c.length;b++){c[b](a.id)}},prepForTab:false,prepForDel:false,prepForLargeDel:false,init:function(a,b){var c=this;function d(e){if(e.ctrlKey||e.metaKey){return false}if(e.keyCode>=65&&e.keyCode<=90){return true}if(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=111){return true}if(e.keyCode==13||e.keyCode==8||e.keyCode==46){return true}return false}c.editor=a;a.addCommand("mceToggleHTML",function(e,f){return function(){f.toggleHTML(e)}}(a,c));a.onBeforeSetContent.add(function(e,f){f.content=f.content.replace(/  /g,"&nbsp; ")});a.onGetContent.add(function(e,f){f.content=f.content.replace(/&nbsp;/g," ")});a.onKeyDown.add(function(f,e){this.prepForTab=false;this.prepForDel=false;this.prepForLargeDel=false;if(e.keyCode==9&&!e.ctrlKey&&!e.altKey&&!f.dom.getParent(f.selection.getNode(),"table")&&!f.dom.getParent(f.selection.getNode(),"ul,ol")){tinymce.dom.Event.cancel(e);this.prepForTab=true}if(tinymce.isGecko&&!f.selection.isCollapsed()){if(d(e)){this.prepForLargeDel=true;this.keyCode=e.keyCode;return false}}},this);a.onKeyPress.add(function(i,m){if(this.prepForDel){tinymce.dom.Event.cancel(m)}if(this.prepForLargeDel){var h=this.keyCode==8||this.keyCode==46;var e=i.selection.getRng(true);e=i.selectionUtil.getShrunkenBlockRange(e,"tr, td, th");var g=e.startContainer;var n=e.endContainer;e.deleteContents();function j(s){var p=s.parentNode;if(!p){return}var q=true;if(s.hasChildNodes()){for(var o=0;o<s.childNodes.length;++o){var r=s.childNodes[o];if(r.nodeType==1||(r.nodeType==3&&r.nodeValue.length>0)){q=false;break}}}else{if(s.nodeType==3&&s.nodeValue.length>0){q=false}else{if(i.dom.is(s,"body, td, th")||(!h&&i.dom.is(s,"a"))){q=false}}}if(q){p.removeChild(s);j(p)}}j(g);j(n);if(i.selectionUtil.isEffectivelyEmpty(i.getBody())){i.setContent("<p><br /></p>");e=i.dom.createRng();e.setStart(i.getBody().firstChild,0);e.collapse(true);i.selection.setRng(e)}var k=i.dom.getParent(i.selection.getNode(),"ol,ul");if(k){e=i.selection.getRng(true);var f=e.startContainer.nodeName.toLowerCase();if(f!="li"&&f!="#text"){if(i.selectionUtil.atEndOf(k,i.selectionUtil.startPos(e))){e.setStart(k.lastChild,k.childNodes.length)}else{e.setStart(k.childNodes[e.startOffset],0)}}e.collapse(true);var l=i.dom.getParent(i.selection.getNode(),"li");if(l){if(!l.lastChild||l.lastChild.nodeName.toLowerCase()!="br"){l.appendChild(i.dom.create("br"))}}}if(h){tinymce.dom.Event.cancel(m)}}else{if(m.keyCode==9&&!m.ctrlKey&&!m.altKey&&!i.dom.getParent(i.selection.getNode(),"table")&&!i.dom.getParent(i.selection.getNode(),"ul,ol")){tinymce.dom.Event.cancel(m)}}},this);a.onKeyUp.add(function(f,e){if(this.prepForDel){tinymce.dom.Event.cancel(e);var h=f.selection.getStart();var g=h.previousSibling;if(g){h.parentNode.removeChild(h);while(g.nodeName.toLowerCase()=="ol"||g.nodeName.toLowerCase()=="ul"){g=g.childNodes[g.childNodes.length-1]}if(g.childNodes.length>0){f.selection.select(g.childNodes[g.childNodes.length-1]);f.selection.collapse()}else{f.selection.select(g);f.selection.collapse()}}}else{if(this.prepForLargeDel){if(this.keyCode==8||this.keyCode==46){tinymce.dom.Event.cancel(e)}}}if(e.keyCode==9&&!e.ctrlKey&&!e.altKey&&this.prepForTab&&!f.dom.getParent(f.selection.getNode(),"table")&&!f.dom.getParent(f.selection.getNode(),"ul,ol")){tinymce.dom.Event.cancel(e);f.selection.setContent("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;")}},this);a.onBeforeSetContent.add(function(f,h){h.content=e(h.content);function e(j){if(!tinymce.isIE){return j}var i=new RegExp("<[^<>]*style(\\s)*=(\\s)*[\\\"\\']{1}[^<>]*(\\/\\*){1}.*(\\*\\/){1}[^<>]*[\\\"\\']{1}[^<>]*>","ig");j=g(j,i,"/*","","*/");var k=new RegExp("<[^<>]*style(\\s)*=(\\s)*[\\\"\\']{1}[^<>]*:(\\s)*expression(\\s)*(\\(){1}[^<>]*[\\\"\\']{1}[^<>]*>","ig");j=g(j,k,"expression","__");return j}function g(o,p,m,k,i){var s="";var n=0;k=(null==k)?(""):(k);for(var r=p.exec(o);null!=r;r=p.exec(o)){var q=o.indexOf(m,r.index);if(-1!=q){s+=o.substr(n,(q-n));s+=k;var j=k.length;if((""==k)&&(null!=i)&&(i.length>0)){var l=o.indexOf(i,q);if(-1!=l){j=l-q+i.length}}s+=o.substr((q+j),(p.lastIndex-q-j));n=p.lastIndex}}if(s.length>0){return s+o.substr(n)}else{return o}}});a.addButton("html",{title:"html.desc",cmd:"mceToggleHTML"})},getInfo:function(){return{longname:"HTML mode",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/fullpage",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("html",tinymce.plugins.HTML)})();
;
tinyMCE.addI18n('en.html',{
    desc:"Toggle HTML mode"
});
;
(function(){tinymce.create("tinymce.plugins.Save",{init:function(a,b){var c=this;c.editor=a;a.addCommand("mceSave",c._save,c);a.addCommand("mceCancel",c._cancel,c);a.addButton("save",{title:"save.save_desc",cmd:"mceSave"});a.addButton("cancel",{title:"save.cancel_desc",cmd:"mceCancel"});a.onNodeChange.add(c._nodeChange,c);a.addShortcut("ctrl+s",a.getLang("save.save_desc"),"mceSave")},getInfo:function(){return{longname:"Save",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/save",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_nodeChange:function(b,a,c){var b=this.editor;if(b.getParam("save_enablewhendirty")){a.setDisabled("save",!b.isDirty());a.setDisabled("cancel",!b.isDirty())}},_save:function(){var c=this.editor,a,e,d,b;a=tinymce.DOM.get(c.id).form||tinymce.DOM.getParent(c.id,"form");if(c.getParam("save_enablewhendirty")&&!c.isDirty()){return}tinyMCE.triggerSave();if(e=c.getParam("save_onsavecallback")){if(c.execCallback("save_onsavecallback",c)){c.startContent=tinymce.trim(c.getContent({format:"raw"}));c.nodeChanged()}return}if(a){c.isNotDirty=true;$j(a).submit();c.nodeChanged()}else{c.windowManager.alert("Error: No form element found.")}},_cancel:function(){var a=this.editor,c,b=tinymce.trim(a.startContent);if(c=a.getParam("save_oncancelcallback")){a.execCallback("save_oncancelcallback",a);return}a.setContent(b);a.undoManager.clear();a.nodeChanged()}});tinymce.PluginManager.add("save",tinymce.plugins.Save)})();
;
(function(){tinymce.create("tinymce.plugins.AdvancedImagePlugin",{init:function(a,b){a.addCommand("mceAdvImage",function(){if(a.dom.getAttrib(a.selection.getNode(),"class").indexOf("mceItem")!=-1){return}a.windowManager.open({file:CS_BASE_URL+"/resources/scripts/tiny_mce3/plugins/advimage/image.htm",width:560+parseInt(a.getLang("advimage.delta_width",0)),height:455+parseInt(a.getLang("advimage.delta_height",0)),inline:1},{plugin_url:b,cs_resource_base_url:CS_RESOURCE_BASE_URL})});a.addButton("image",{title:"advimage.image_desc",cmd:"mceAdvImage"})},getInfo:function(){return{longname:"Advanced image",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advimage",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("advimage",tinymce.plugins.AdvancedImagePlugin)})();
;
tinyMCE.addI18n("en.advimage_dlg",{image_list:"Image List",align_right:"Right",align_left:"Left",align_textbottom:"Text Bottom",align_texttop:"Text Top",align_bottom:"Bottom",align_middle:"Middle",align_top:"Top",align_baseline:"Baseline",align:"Alignment",hspace:"Horizontal Space",vspace:"Vertical Space",dimensions:"Dimensions",border:"Border",list:"Image List",alt:"Image Description",src:"Image URL",dialog_title:"Insert/Edit Image",missing_alt:"Are you sure you want to continue without including an Image Description? Without it the image may not be accessible to some users with disabilities, or to those using a text browser, or browsing the Web with images turned off.",example_img:"Appearance Preview Image",misc:"Miscellaneous",mouseout:"For Mouse Out",mouseover:"For Mouse Over",alt_image:"Alternative Image",swap_image:"Swap Image",map:"Image Map",id:"ID",rtl:"Right to Left",ltr:"Left to Right",classes:"Classes",style:"Style",long_desc:"Long Description Link",langcode:"Language Code",langdir:"Language Direction",constrain_proportions:"Constrain Proportions",preview:"Preview",title:"Title",general:"General",tab_advanced:"Advanced",tab_appearance:"Appearance",tab_general:"General",width:"Width",height:"Height"});
;
tinyMCE.addI18n('en.advimage_dlg',{
    dialog_title:"Insert Image",
    src:"URL",
    align_inline:"Normal",
    align_nowrap:"No Wrap",
    insert_desc : "Use the form below to insert a remote image from a web page into your discussion, document, blog post or comment.",
    from_the_web: "From the Web",
    example: "example",
    insert: "Insert image"
});
;
(function(){tinymce.create("tinymce.plugins.AdvancedLinkPlugin",{init:function(a,b){this.editor=a;a.addCommand("mceAdvLink",function(){var c=a.selection;if(c.isCollapsed()&&!a.dom.getParent(c.getNode(),"A")){return}a.windowManager.open({file:CS_BASE_URL+"/resources/scripts/tiny_mce3/plugins/advlink/link.htm",width:480+parseInt(a.getLang("advlink.delta_width",0)),height:400+parseInt(a.getLang("advlink.delta_height",0)),inline:1},{plugin_url:b,cs_resource_base_url:CS_RESOURCE_BASE_URL})});a.addButton("link",{title:"advlink.link_desc",cmd:"mceAdvLink"});a.addShortcut("ctrl+k","advlink.advlink_desc","mceAdvLink");a.onNodeChange.add(function(d,c,f,e){c.setDisabled("link",e&&f.nodeName!="A");c.setActive("link",f.nodeName=="A"&&!f.name)})},getInfo:function(){return{longname:"Advanced link",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advlink",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("advlink",tinymce.plugins.AdvancedLinkPlugin)})();
;
tinyMCE.addI18n("en.advlink_dlg",{target_name:"Target Name",classes:"Classes",style:"Style",id:"ID",popup_position:"Position (X/Y)",langdir:"Language Direction",popup_size:"Size",popup_dependent:"Dependent (Mozilla/Firefox Only)",popup_resizable:"Make Window Resizable",popup_location:"Show Location Bar",popup_menubar:"Show Menu Bar",popup_toolbar:"Show Toolbars",popup_statusbar:"Show Status Bar",popup_scrollbars:"Show Scrollbars",popup_return:"Insert 'return false'",popup_name:"Window Name",popup_url:"Popup URL",popup:"JavaScript Popup",target_blank:"Open in New Window",target_top:"Open in Top Frame (Replaces All Frames)",target_parent:"Open in Parent Window/Frame",target_same:"Open in This Window/Frame",anchor_names:"Anchors",popup_opts:"Options",advanced_props:"Advanced Properties",event_props:"Events",popup_props:"Popup Properties",general_props:"General Properties",advanced_tab:"Advanced",events_tab:"Events",popup_tab:"Popup",general_tab:"General",list:"Link List",is_external:"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",is_email:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",titlefield:"Title",target:"Target",url:"Link URL",title:"Insert/Edit Link",link_list:"Link List",rtl:"Right to Left",ltr:"Left to Right",accesskey:"AccessKey",tabindex:"TabIndex",rev:"Relationship Target to Page",rel:"Relationship Page to Target",mime:"Target MIME Type",encoding:"Target Character Encoding",langcode:"Language Code",target_langcode:"Target Language",width:"Width",height:"Height"});
;
(function(){var e=tinymce.DOM,b=tinymce.dom.Element,a=tinymce.dom.Event,f=tinymce.each,c=tinymce.is;tinymce.create("tinymce.plugins.InlinePopups",{init:function(g,h){g.onBeforeRenderUI.add(function(){g.windowManager=new tinymce.InlineWindowManager(g)})},getInfo:function(){return{longname:"InlinePopups",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/inlinepopups",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.create("tinymce.InlineWindowManager:tinymce.WindowManager",{InlineWindowManager:function(g){var h=this;h.parent(g);h.zIndex=300000;h.count=0},doc:null,open:function(C,s){var r=this,v,g="",i=r.editor,q=0,B=0,z,x,h,j,l,m,o;var k=0,A=0;var m=window;try{while(m.parent&&m!=m.parent&&typeof(m.parent.jive)!="undefined"){if(m.frameElement){k+=jive.ext.x.xPageX(m.frameElement);A+=jive.ext.x.xPageY(m.frameElement)}m=m.parent;m.editor=window.editor;m.jiveRTE=window.jiveRTE;m.tinymce=window.tinymce;m.tinyMCE=window.tinyMCE}}catch(D){}i.plugins.inlinepopups.doc=m.document;var F=i.plugins.inlinepopups.doc;var y=new tinymce.dom.DOMUtils(F);if(!$def(i.plugins.inlinepopups.overlay)){var E=F.createElement("DIV");E.className="overlay";E.setAttribute("class","overlay");F.body.appendChild(E);i.plugins.inlinepopups.overlay=E;jive.ext.x.xAddEventListener(E,"click",function(){var t=window.editor.toArray(function(u){return $def(u.closeAllDialogs)});for(var p=0;p<t.length;p++){t[p].closeAllDialogs()}})}C=C||{};s=s||{};if(!C.inline){return r.parent(C,s)}if(!C.type){r.bookmark=i.selection.getBookmark("simple")}v=y.uniqueId()+Math.round(Math.random()*10000000);z=y.getViewPort();C.width=parseInt(C.width||320);C.height=parseInt(C.height||240);C.min_width=parseInt(C.min_width||150);C.min_height=parseInt(C.min_height||100);C.max_width=parseInt(C.max_width||2000);C.max_height=parseInt(C.max_height||2000);C.left=C.left||Math.round(Math.max(z.x,z.x+(z.w/2)-(C.width/2)));C.top=C.top||Math.round(Math.max(z.y,z.y+(z.h/2)-(C.height/2)));C.left+=k;C.top+=A;C.movable=C.resizable=true;s.mce_width=C.width;s.mce_height=C.height;s.mce_inline=true;s.mce_window_id=v;s.mce_auto_focus=C.auto_focus;r.features=C;r.params=s;r.onOpen.dispatch(r,C,s);if(C.type){g+=" mceModal";if(C.type){g+=" mce"+C.type.substring(0,1).toUpperCase()+C.type.substring(1)}C.resizable=false}if(C.statusbar){g+=" mceStatusbar"}if(C.resizable){g+=" mceResizable"}if(C.minimizable){g+=" mceMinimizable"}if(C.maximizable){g+=" mceMaximizable"}if(C.movable){g+=" mceMovable"}r._addAll(F.body,["div",{id:v,"class":i.settings.inlinepopups_skin||"clearlooks2",style:"width:100px;height:100px"},["div",{id:v+"_wrapper","class":"mceWrapper"+g},["div",{id:v+"_top","class":"mceTop"},["div",{"class":"mceLeft"}],["div",{"class":"mceCenter"}],["div",{"class":"mceRight"}],["span",{id:v+"_title"},C.title||""]],["div",{id:v+"_middle","class":"mceMiddle"},["div",{id:v+"_left","class":"mceLeft"}],["span",{id:v+"_content","class":"mceMessage j-rc3"}],["div",{id:v+"_right","class":"mceRight"}]],["div",{id:v+"_bottom","class":"mceBottom"},["div",{"class":"mceLeft"}],["div",{"class":"mceCenter"}],["div",{"class":"mceRight"}],["span",{id:v+"_status"},"Content"]],["a",{"class":"mceMove",tabindex:"-1",href:"javascript:;"}],["a",{"class":"mceMin",tabindex:"-1",href:"javascript:;",onmousedown:"return false;"}],["a",{"class":"mceMax",tabindex:"-1",href:"javascript:;",onmousedown:"return false;"}],["a",{"class":"mceMed",tabindex:"-1",href:"javascript:;",onmousedown:"return false;"}],["label",{"class":"j-508-label",id:"close-modal-508"},i.translate("common.close_modal")],["a",{"class":"mceClose j-ui-elem",tabindex:"-1",href:"javascript:;",onmousedown:"return false;","aria-labelledby":"close-modal-508"}],["a",{id:v+"_resize_n","class":"mceResize mceResizeN",tabindex:"-1",href:"javascript:;"}],["a",{id:v+"_resize_s","class":"mceResize mceResizeS",tabindex:"-1",href:"javascript:;"}],["a",{id:v+"_resize_w","class":"mceResize mceResizeW",tabindex:"-1",href:"javascript:;"}],["a",{id:v+"_resize_e","class":"mceResize mceResizeE",tabindex:"-1",href:"javascript:;"}],["a",{id:v+"_resize_nw","class":"mceResize mceResizeNW",tabindex:"-1",href:"javascript:;"}],["a",{id:v+"_resize_ne","class":"mceResize mceResizeNE",tabindex:"-1",href:"javascript:;"}],["a",{id:v+"_resize_sw","class":"mceResize mceResizeSW",tabindex:"-1",href:"javascript:;"}],["a",{id:v+"_resize_se","class":"mceResize mceResizeSE",tabindex:"-1",href:"javascript:;"}]]]);y.setStyles(v,{top:-10000,left:-10000});if(tinymce.isGecko){y.setStyle(v,"overflow","auto")}if(!C.type){q+=y.get(v+"_left").clientWidth;q+=y.get(v+"_right").clientWidth;B+=y.get(v+"_top").clientHeight;B+=y.get(v+"_bottom").clientHeight}y.setStyles(v,{top:C.top,left:C.left,width:C.width+q,height:C.height+B});o=C.url||C.file;if(o){if(tinymce.relaxedDomain){o+=(o.indexOf("?")==-1?"?":"&")+"mce_rdomain="+tinymce.relaxedDomain}o=tinymce._addVer(o)}if(!C.type){y.add(v+"_content","iframe",{id:v+"_ifr",src:'javascript:""',frameBorder:0,style:"border:0;width:10px;height:10px"});y.setStyles(v+"_ifr",{width:C.width,height:C.height});y.setAttrib(v+"_ifr","src",o)}else{var n=y.get(v+"_wrapper");r._addAll(n,["input",{id:v+"_ok","class":"mceOk",value:"OK",type:"button"}]);if(C.type=="confirm"){y.add(v+"_wrapper","input",{"class":"mceCancel",value:"Cancel",type:"button"})}y.add(v+"_middle","div",{"class":"mceIcon"});y.setHTML(v+"_content",C.content.replace("\n","<br />"))}h=a.add(v,"mousedown",function(u){var G=u.target,p,t;p=r.windows[v];r.focus(v);if(G.nodeName.toLowerCase()=="a"||G.nodeName.toLowerCase()=="input"){if(G.className=="mceClose j-ui-elem"){r.close(null,v);return a.cancel(u)}else{if(G.className=="mceOk"||G.className=="mceCancel"){C.button_func(G.className=="mceOk");return a.cancel(u)}else{if(G.className=="mceMax"){p.oldPos=p.element.getXY();p.oldSize=p.element.getSize();t=y.getViewPort();t.w-=2;t.h-=2;p.element.moveTo(t.x,t.y);p.element.resizeTo(t.w,t.h);y.setStyles(v+"_ifr",{width:t.w-p.deltaWidth,height:t.h-p.deltaHeight});y.addClass(v+"_wrapper","mceMaximized")}else{if(G.className=="mceMed"){p.element.moveTo(p.oldPos.x,p.oldPos.y);p.element.resizeTo(p.oldSize.w,p.oldSize.h);p.iframeElement.resizeTo(p.oldSize.w-p.deltaWidth,p.oldSize.h-p.deltaHeight);y.removeClass(v+"_wrapper","mceMaximized")}else{if(G.className=="mceMove"){return r._startDrag(v,u,G.className)}else{if(y.hasClass(G,"mceResize")){return r._startDrag(v,u,G.className.substring(13))}}}}}}}});j=function(u){var w=u.target||u.srcElement;if($def(w)&&w){r.focus(v);if(w.nodeName=="INPUT"||w.nodeName=="input"||w.nodeName=="A"||w.nodeName=="a"){switch(w.className){case"mceClose j-ui-elem":var t=window.editor.toArray(function(G){return $def(G.closeAllDialogs)});for(var p=0;p<t.length;p++){t[p].closeAllDialogs()}return a.cancel(u);case"mceOk":case"mceCancel":C.button_func(w.className=="mceOk");return a.cancel(u)}}}};y.bind(v,"click",j);r.windows=r.windows||{};m=r.windows[v]={id:v,mousedown_func:h,click_func:j,element:new b(v,{blocker:1,container:i.getContainer()}),iframeElement:new b(v+"_ifr"),features:C,deltaWidth:q,deltaHeight:B};m.iframeElement.on("focus",function(){r.focus(v)});if(r.count==0&&r.editor.getParam("dialog_type")=="modal"){y.add(y.doc.body,"div",{id:"mceModalBlocker","class":(r.editor.settings.inlinepopups_skin||"clearlooks2")+"_modalBlocker",style:{left:z.x,top:z.y,zIndex:r.zIndex-1}});y.show("mceModalBlocker")}else{y.setStyle("mceModalBlocker","z-index",r.zIndex-1)}r.focus(v);r._fixIELayout(v,1);if(y.get(v+"_ok")){y.get(v+"_ok").focus()}r.count++;i.plugins.inlinepopups.overlay.style.height=jive.ext.x.xDocHeight(F)+"px";i.plugins.inlinepopups.overlay.style.display="block";return m},focus:function(l){var h=tinyMCE.activeEditor;if(h.plugins.inlinepopups.doc==null){var g=window;while(g.parent&&g!=g.parent){g=g.parent;if(!$def(g.tinymce)){g.tinymce=window.tinymce;g.tinyMCE=window.tinyMCE}}h.plugins.inlinepopups.doc=g.document}var i=this,g=i.windows[l],j=tinyMCE.activeEditor.plugins.inlinepopups.doc,k=new tinymce.dom.DOMUtils(j);if($def(g)&&g){g.zIndex=this.zIndex++;g.element.setStyle("zIndex",g.zIndex);g.element.update()}l=l+"_wrapper";k.removeClass(i.lastId,"mceFocus");k.addClass(l,"mceFocus");i.lastId=l},_addAll:function(m,k){var h,o,g=this,j=tinyMCE.activeEditor.plugins.inlinepopups.doc,l=new tinymce.dom.DOMUtils(j);if(c(k,"string")){m.appendChild(l.doc.createTextNode(k))}else{if(k.length){m=m.appendChild(l.create(k[0],k[1]));for(h=2;h<k.length;h++){g._addAll(m,k[h])}}}},_startDrag:function(x,I,F){var q=this,v,B,H=tinyMCE.activeEditor.plugins.inlinepopups.doc,A=new tinymce.dom.DOMUtils(H);var g,m=q.windows[x],i=m.element,z=i.getXY(),y,r,G,h,C,u,s,k,j,n,l,o,D;h={x:0,y:0};C=A.getViewPort();C.w-=2;C.h-=2;k=I.screenX;j=I.screenY;n=l=o=D=0;v=a.add(H,"mouseup",function(p){a.remove(H,"mouseup",v);a.remove(H,"mousemove",B);if(g){g.remove()}i.moveBy(n,l);i.resizeBy(o,D);r=i.getSize();A.setStyles(x+"_ifr",{width:r.w-m.deltaWidth,height:r.h-m.deltaHeight});q._fixIELayout(x,1);return a.cancel(p)});if(F!="Move"){E()}function E(){var p=tinyMCE.activeEditor.plugins.inlinepopups.doc,t=new tinymce.dom.DOMUtils(p);if(g){return}q._fixIELayout(x,0);t.add(d.body,"div",{id:"mceEventBlocker","class":"mceEventBlocker "+(q.editor.settings.inlinepopups_skin||"clearlooks2"),style:{left:C.x,top:C.y,zIndex:q.zIndex+1}});g=new b("mceEventBlocker");g.update();y=i.getXY();r=i.getSize();u=h.x+y.x-C.x;s=h.y+y.y-C.y;t.add(g.get(),"div",{id:"mcePlaceHolder","class":"mcePlaceHolder",style:{left:u,top:s,width:r.w,height:r.h}});G=new b("mcePlaceHolder")}B=a.add(d,"mousemove",function(w){var p,J,t;E();p=w.screenX-k;J=w.screenY-j;switch(F){case"ResizeW":n=p;o=0-p;break;case"ResizeE":o=p;break;case"ResizeN":case"ResizeNW":case"ResizeNE":if(F=="ResizeNW"){n=p;o=0-p}else{if(F=="ResizeNE"){o=p}}l=J;D=0-J;break;case"ResizeS":case"ResizeSW":case"ResizeSE":if(F=="ResizeSW"){n=p;o=0-p}else{if(F=="ResizeSE"){o=p}}D=J;break;case"mceMove":n=p;l=J;break}if(o<(t=m.features.min_width-r.w)){if(n!==0){n+=o-t}o=t}if(D<(t=m.features.min_height-r.h)){if(l!==0){l+=D-t}D=t}o=Math.min(o,m.features.max_width-r.w);D=Math.min(D,m.features.max_height-r.h);n=Math.max(n,C.x-(u+C.x));l=Math.max(l,C.y-(s+C.y));n=Math.min(n,(C.w+C.x)-(u+r.w+C.x));l=Math.min(l,(C.h+C.y)-(s+r.h+C.y));if(n+l!==0){if(u+n<0){n=0}if(s+l<0){l=0}G.moveTo(u+n,s+l)}if(o+D!==0){G.resizeTo(r.w+o,r.h+D)}return a.cancel(w)});return a.cancel(I)},resizeBy:function(h,i,j){var g=this.windows[j];if(g){g.element.resizeBy(h,i);g.iframeElement.resizeBy(h,i)}},close:function(g,h){setTimeout(function(j,k,i){return function(){var q=tinyMCE.activeEditor.plugins.inlinepopups.doc,r=new tinymce.dom.DOMUtils(q);var m,l=0,o;i.count--;if(i.count==0){r.remove("mceModalBlocker")}if(!k&&j){i.parent(j);return}if(m=i.windows[k]){tinyMCE.activeEditor.plugins.inlinepopups.overlay.style.display="none";i.onClose.dispatch(i);a.remove(q,"mousedown",m.mousedownFunc);a.remove(q,"click",m.clickFunc);a.clear(k);a.clear(k+"_ifr");r.setAttrib(k+"_ifr","src",'javascript:""');var n=q.getElementById(m.id);try{m.element.remove();n.parentNode.removeChild(n)}catch(p){}delete i.windows[k]}else{}tinyMCE.activeEditor.focus();tinyMCE.activeEditor.undoManager.add()}}(g,h,this),33)},setTitle:function(g,k){var i=tinyMCE.activeEditor.plugins.inlinepopups.doc,j=new tinymce.dom.DOMUtils(i);var h;if(h=j.get(k+"_title")){h.innerHTML=j.encode(g)}},alert:function(h,g,l){var j=tinyMCE.activeEditor;if(j.plugins.inlinepopups.doc==null){var i=window;while(i.parent&&i!=i.parent){i=i.parent;if(!$def(i.tinymce)){i.tinymce=window.tinymce;i.tinyMCE=window.tinyMCE}}j.plugins.inlinepopups.doc=i.document}var m=tinyMCE.activeEditor.plugins.inlinepopups.doc,n=new tinymce.dom.DOMUtils(m);var k=this,i;i=k.open({title:k,type:"alert",button_func:function(o){if(g){g.call(o||k,o)}k.close(null,i.id)},content:n.encode(k.editor.getLang(h,h)),inline:1,width:400,height:130})},confirm:function(h,g,l){var j=tinyMCE.activeEditor;if(j.plugins.inlinepopups.doc==null){var i=window;while(i.parent&&i!=i.parent){i=i.parent;if(!$def(i.tinymce)){i.tinymce=window.tinymce;i.tinyMCE=window.tinyMCE}}j.plugins.inlinepopups.doc=i.document}var m=tinyMCE.activeEditor.plugins.inlinepopups.doc,n=new tinymce.dom.DOMUtils(m);var k=this,i;i=k.open({title:k,type:"confirm",button_func:function(o){if(g){g.call(o||k,o)}k.close(null,i.id)},content:n.encode(k.editor.getLang(h,h)),inline:1,width:400,height:130})},_fixIELayout:function(l,i){var j=tinyMCE.activeEditor.plugins.inlinepopups.doc,k=new tinymce.dom.DOMUtils(j);var g,h;if(!tinymce.isIE6){return}f(["n","s","w","e","nw","ne","sw","se"],function(m){var n=k.get(l+"_resize_"+m);k.setStyles(n,{width:i?n.clientWidth:"",height:i?n.clientHeight:"",cursor:k.getStyle(n,"cursor",1)});k.setStyle(l+"_bottom","bottom","-1px");n=0});if(g=this.windows[l]){g.element.hide();g.element.show();f(k.select("div,a",l),function(n,m){if(n.currentStyle.backgroundImage!="none"){h=new Image();h.src=n.currentStyle.backgroundImage.replace(/url\(\"(.+)\"\)/,"$1")}});k.get(l).style.filter=""}}});tinymce.PluginManager.add("inlinepopups",tinymce.plugins.InlinePopups)})();
;
(function(){function $getParam$$($ed$$,$name$$){return $ed$$.getParam($name$$,$defs$$[$name$$])}var $each$$=tinymce.each,$entities$$=null,$defs$$={paste_auto_cleanup_on_paste:!0,paste_block_drop:!1,paste_retain_style_properties:"none",paste_strip_class_attributes:"mso",paste_remove_spans:!0,paste_remove_styles:!1,paste_remove_pre:!0,paste_remove_comments:!1,paste_remove_empty_lines:!0,paste_remove_table:!0,paste_remove_styles_if_webkit:!0,paste_convert_middot_lists:!0,paste_convert_headers_to_strong:!1,
paste_dialog_width:"450",paste_dialog_height:"400",paste_text_use_dialog:!1,paste_text_sticky:!1,paste_text_notifyalways:!1,paste_text_linebreaktype:"p",paste_text_replacements:[[/\u2026/g,"..."],[/[\x93\x94\u201c\u201d]/g,'"'],[/[\x60\x91\x92\u2018\u2019]/g,"'"]]};tinymce.create("tinymce.plugins.PastePlugin",{init:function($ed$$0$$,$url$$){function $process$$($o$$,$force_rich$$){var $dom$$=$ed$$0$$.dom;$ed$$0$$.undoManager.add();$t$$.onPreProcess.dispatch($t$$,$o$$);$o$$.node=$dom$$.create("div",
0,$o$$.content);$t$$.onPostProcess.dispatch($t$$,$o$$);$o$$.content=$ed$$0$$.serializer.serialize($o$$.node,{getInner:1,forced_root_block:""});$o$$.content=$o$$.content.replace(/\n/gi,"").replace(/\r/gi,"");!$force_rich$$&&$ed$$0$$.pasteAsPlainText?($t$$._insertPlainText($ed$$0$$,$dom$$,$o$$.content),$getParam$$($ed$$0$$,"paste_text_sticky")||($ed$$0$$.pasteAsPlainText=!1,$ed$$0$$.controlManager.setActive("pastetext",!1))):/<(p|h[1-6]|ul|ol)/.test($o$$.content)?$t$$._insertBlockContent($ed$$0$$,$dom$$,
$o$$.content):$t$$._insert($o$$.content,1);$t$$.onPasteComplete.dispatch($t$$,$ed$$0$$);$ed$$0$$.undoManager.add()}function $grabContent$$($e$$0$$){var $n$$2$$,$or$$,$body$$,$oldRng$$,$sel$$=$ed$$0$$.selection,$dom$$=$ed$$0$$.dom;$body$$=$ed$$0$$.getBody();if(($e$$0$$.clipboardData||$dom$$.doc.dataTransfer)&&$ed$$0$$.pasteAsPlainText)$body$$=($e$$0$$.clipboardData||$dom$$.doc.dataTransfer).getData("Text"),$e$$0$$.preventDefault(),$process$$({content:$body$$.replace(/\r?\n/g,"<br />")});else if(!$dom$$.get("_mcePaste"))if($n$$2$$=
$dom$$.add($body$$,"div",{id:"_mcePaste","class":"mcePaste","data-mce-bogus":"1"},"\ufeff\ufeff"),$body$$=$body$$!=$ed$$0$$.getDoc().body?$dom$$.getPos($ed$$0$$.selection.getStart(),$body$$).y:$body$$.scrollTop+$dom$$.getViewPort().y,$dom$$.setStyles($n$$2$$,{position:"absolute",left:-1E4,top:$body$$,width:1,height:1,overflow:"hidden"}),tinymce.isIE&&!tinymce.isIE11)if($oldRng$$=$sel$$.getRng(),$body$$=$dom$$.doc.body.createTextRange(),$body$$.moveToElementText($n$$2$$),$body$$.execCommand("Paste"),
$dom$$.unbind($n$$2$$),$dom$$.remove($n$$2$$),"\ufeff\ufeff"===$n$$2$$.innerHTML)$ed$$0$$.execCommand("mcePasteWord"),$e$$0$$.preventDefault();else return setTimeout(function(){$sel$$.setRng($oldRng$$);$sel$$.setContent("");$process$$({content:$n$$2$$.innerHTML})},0),tinymce.dom.Event.cancel($e$$0$$);else{var $block$$=function $$block$$$($e$$){$e$$.preventDefault()};$dom$$.bind($ed$$0$$.getDoc(),"mousedown",$block$$);$dom$$.bind($ed$$0$$.getDoc(),"keydown",$block$$);$or$$=$ed$$0$$.selection.getRng();
$n$$2$$=$n$$2$$.firstChild;$body$$=$ed$$0$$.getDoc().createRange();$body$$.setStart($n$$2$$,0);$body$$.setEnd($n$$2$$,2);$sel$$.setRng($body$$);window.setTimeout(function(){var $h$$="",$nl$$=$dom$$.select("div.mcePaste");1<$nl$$.length&&($nl$$=$dom$$.select("div.mcePaste:not(:first)"));$each$$($nl$$,function($n$$0$$){var $child$$=$n$$0$$.firstChild;$child$$&&("DIV"==$child$$.nodeName&&$child$$.style.marginTop&&$child$$.style.backgroundColor)&&$dom$$.remove($child$$,1);$each$$($dom$$.select("div.mcePaste",
$n$$0$$),function($n$$){$dom$$.remove($n$$,1)});$each$$($dom$$.select("span.Apple-style-span",$n$$0$$),function($n$$){$dom$$.remove($n$$,1)});$each$$($dom$$.select("span.Apple-tab-span",$n$$0$$),function($n$$){for(var $str$$=$n$$.innerHTML;$str$$!=$str$$.replace("\t","     ");)$str$$=$str$$.replace("\t","     ");$n$$.parentNode.insertBefore($n$$.ownerDocument.createTextNode($str$$),$n$$);$dom$$.remove($n$$,1)});$each$$($dom$$.select("br[_mce_bogus]",$n$$0$$),function($n$$){$dom$$.remove($n$$)});$h$$+=
$n$$0$$.innerHTML+"<br/>"});$each$$($nl$$,function($n$$){$dom$$.remove($n$$)});$each$$($dom$$.select("div.mcePaste"),function($n$$){$dom$$.remove($n$$)});$or$$&&$sel$$.setRng($or$$);$process$$({content:$h$$});$dom$$.unbind($ed$$0$$.getDoc(),"mousedown",$block$$);$dom$$.unbind($ed$$0$$.getDoc(),"keydown",$block$$)},0)}}var $t$$=this;$t$$.editor=$ed$$0$$;$t$$.url=$url$$;$t$$.onPreProcess=new tinymce.util.Dispatcher($t$$);$t$$.onPostProcess=new tinymce.util.Dispatcher($t$$);$t$$.onPasteComplete=new tinymce.util.Dispatcher($t$$);
$t$$.onPreProcess.add($t$$._preProcess);$t$$.onPostProcess.add($t$$._postProcess);$t$$.onPreProcess.add(function($pl$$,$o$$){$ed$$0$$.execCallback("paste_preprocess",$pl$$,$o$$)});$t$$.onPostProcess.add(function($pl$$,$o$$){$ed$$0$$.execCallback("paste_postprocess",$pl$$,$o$$)});$ed$$0$$.pasteAsPlainText=!1;$ed$$0$$.addCommand("mceInsertClipboardContent",function($u$$,$o$$){$process$$($o$$,!0)});$getParam$$($ed$$0$$,"paste_text_use_dialog")||$ed$$0$$.addCommand("mcePasteText",function(){var $cookie$$=
tinymce.util.Cookie;$ed$$0$$.pasteAsPlainText=!$ed$$0$$.pasteAsPlainText;$ed$$0$$.controlManager.setActive("pastetext",$ed$$0$$.pasteAsPlainText);$ed$$0$$.pasteAsPlainText&&!$cookie$$.get("tinymcePasteText")&&($getParam$$($ed$$0$$,"paste_text_sticky"),$ed$$0$$.windowManager.alert($ed$$0$$.translate("paste.plaintext_mode_sticky")),$getParam$$($ed$$0$$,"paste_text_notifyalways")||$cookie$$.set("tinymcePasteText","1",new Date((new Date).getFullYear()+1,12,31)))});$ed$$0$$.addButton("pastetext",{title:"paste.paste_text_desc",
cmd:"mcePasteText"});$ed$$0$$.addButton("selectall",{title:"paste.selectall_desc",cmd:"selectall"});$getParam$$($ed$$0$$,"paste_auto_cleanup_on_paste")&&(tinymce.isOpera||/Firefox\/2/.test(navigator.userAgent)?$ed$$0$$.onKeyDown.add(function($ed$$,$e$$){((tinymce.isMac?$e$$.metaKey:$e$$.ctrlKey)&&86==$e$$.keyCode||$e$$.shiftKey&&45==$e$$.keyCode)&&$grabContent$$($e$$)}):$ed$$0$$.onPaste.addToTop(function($ed$$,$e$$){return $grabContent$$($e$$)}));$getParam$$($ed$$0$$,"paste_block_drop")&&$ed$$0$$.onInit.add(function(){$ed$$0$$.dom.bind($ed$$0$$.getBody(),
"dragend dragover draggesture dragdrop drop drag".split(" "),function($e$$){$e$$.preventDefault();$e$$.stopPropagation();return false})});$getParam$$($ed$$0$$,"paste_legacy_support")&&$t$$._legacySupport()},getInfo:function(){return{longname:"Paste text/word",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/paste",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_preProcess:function($pl$$,$o$$){function $process$$($items$$){$each$$($items$$,
function($v$$){$h$$=$v$$.constructor==RegExp?$h$$.replace($v$$,""):$h$$.replace($v$$[0],$v$$[1])})}function $makeRow$$($cells$$,$out$$){$out$$.push("<tr>");$each$$($cells$$,function($cell$$){$out$$.push("<td>");$out$$.push($cell$$);$out$$.push("</td>")});$out$$.push("</tr>")}var $ed$$=this.editor,$h$$=$o$$.content,$grep$$=tinymce.grep,$explode$$=tinymce.explode,$trim$$=tinymce.trim,$len_lines$$,$stripClass$$;(function(){var $tabLine$$=/\x0a\x20((?:\x0a\x20\x20[^<\x0a]*)+)\x0a\x20/g,$match$$=$tabLine$$.exec($h$$);
if($match$$){var $out$$=[$h$$.substring(0,$match$$.index),"<table><tbody>"];$tabLine$$.lastIndex=0;var $lastMatchEnd$$=$match$$.index;$h$$.replace($tabLine$$,function($wholeLine$$,$cells$$,$offset$$,$wholeString$$){$offset$$>$lastMatchEnd$$&&($out$$.push("</tbody></table>"),$out$$.push($wholeString$$.substring($lastMatchEnd$$,$offset$$)),$out$$.push("<table><tbody>"));$lastMatchEnd$$=$offset$$+$wholeLine$$.length;$cells$$=$cells$$.split(/\x0a\x20\x20/).slice(1);$makeRow$$($cells$$,$out$$);return $wholeLine$$});
$out$$.push($h$$.substring($lastMatchEnd$$));$h$$=$out$$.join("")}})();(function(){var $lines$$="\t";if(tinymce.isGecko)$lines$$="(?:(?:&nbsp;){3} )";else if(tinymce.isWebKit)$lines$$="(?: *\t)";else if(tinymce.isIE&&!tinymce.isIE11)return;var $tabRowRe$$=RegExp("(?:[^<>]*?"+$lines$$+")+[^<>]*","i"),$tabRe$$=RegExp($lines$$,"i");if(RegExp("^(?:[^<>]*?"+$lines$$+")+[^<>]*<br */?>","i").test($h$$)){for(var $lines$$=$h$$.split(/<br *\/?>/ig),$out$$=[];$lines$$.length;)if($tabRowRe$$.lastIndex=0,$tabRowRe$$.test($lines$$[0])){var $lines$$0$$=
$lines$$,$out$$0$$=$out$$;$out$$0$$.push("<table><tbody>");for($tabRowRe$$.lastIndex=0;$lines$$0$$.length&&$tabRowRe$$.test($lines$$0$$[0]);){var $cells$$=$lines$$0$$.shift().split($tabRe$$);$makeRow$$($cells$$,$out$$0$$)}$out$$0$$.push("</tbody></table>")}else $out$$.push($lines$$.shift()),$out$$.push("<br />");$h$$=$out$$.join("")}})();$h$$=$h$$.replace(/<style([^>]*)>([^<]*?)<\/style>/gi,"");$process$$([[/^([^<]+)<br\s*\/?>$/gi,"$1"]]);$process$$([[/(<[a-z][^>]*)\sid="?_mcePaste"?/gi,"$1"]]);(function(){var $breaks$$=
/<br[^>]*>/;/^https?:\/\/(?:[^:]+:[^@])?[\w\.]+(?::\d+)?\S*$/.test($h$$)&&!$breaks$$.test($h$$)&&($h$$="<a href='"+$h$$+"' title='"+$h$$+"' class='loading'>"+$h$$+"</a>")})();if(/class="?Mso|style="[^"]*\bmso-|w:WordDocument/i.test($h$$)||$o$$.wordContent){$o$$.wordContent=!0;$process$$([/^\s*(?:&nbsp;)+/gi,/(?:&nbsp;|<br[^>]*>)+\s*$/gi]);$getParam$$($ed$$,"paste_convert_headers_to_strong")&&($h$$=$h$$.replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>"));if($getParam$$($ed$$,
"paste_convert_middot_lists")){$process$$([[/<\!--\[if !supportLists\]--\>/gi,"$&__MCE_ITEM__"],[/(<span[^>]+(?:mso-list:|:\s*symbol|:\s*wingdings)[^>]+>)/gi,"$1__MCE_ITEM__"],[/<span[^>]+mso-list:\s+Ignore[^>]+>/gi,'<span class="pasted-list-info">']]);do $len_lines$$=$h$$,$process$$([[/<span[^>]*>((?:&nbsp;|\s|\u00a0)*)<\/span>/gi,"$1"],[/<span[^>]+(?:mso-list:|:\s*symbol|:\s*wingdings)[^>]+>(__MCE_ITEM__)([^<]*?)<\/span>/gi,"$1$2"],[/(__MCE_ITEM__)(?:&nbsp;|\s|\u00a0)*/gi,"$1"]]);while($len_lines$$!=
$h$$)}$process$$([/<\!--[\s\S]+?--\>/gi,/<(?:!|script[^>]*>.*?<\/script(?=[>\s])|\/?(?:\?xml(?::\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\u00a0"]]);do $len_lines$$=$h$$.length,$h$$=$h$$.replace(/(<[a-z][^>]*\s)(?:id|name|language|type|on\w+|\w+:\w+)=(?:"[^"]*"|\w+)\s?/gi,"$1");while($len_lines$$!=$h$$.length);$h$$=$h$$.replace(/<strong><span([^>]*)font-weight:([^<;"]*)normal[;]?([^>]*)>([^<]*?)<\/span><\/strong>/gi,"<span$1$3>$4</span>");$h$$=
$h$$.replace(/<strong><span([^>]*)font-weight:([^<;"]*)bold[er]?[;]?([^>]*)>([^<]*?)<\/span><\/strong>/gi,"<strong><span$1$3>$4</span></strong>");0==$getParam$$($ed$$,"paste_retain_style_properties").replace(/^none$/i,"").length?$h$$=$h$$.replace(/<\/?span[^>]*>/gi,""):$process$$([[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function($str$$,$spaces$$){return 0<$spaces$$.length?$spaces$$.replace(/./," ").slice(Math.floor($spaces$$.length/2)).split("").join("\u00a0"):
""}]])}$process$$([[/(<[a-z][^>]*)\sstyle="([^"]*)"/gi,function wordStyleTransform($s$$4_str$$,$tag$$,$style$$){var $n$$=[],$i$$=0,$s$$4_str$$=$explode$$($trim$$($style$$).replace(/&quot;/gi,"'"),";"),$listDepth$$=!1,$forceOL$$=!1,$removeTag$$=!1;$each$$($s$$4_str$$,function wordStyleTransformInnerLoop($name$$54_v$$){function $ensureUnits$$($v$$){return $v$$+("0"!==$v$$&&/\d$/.test($v$$)?"px":"")}var $styleProps_value$$,$parts$$=$explode$$($name$$54_v$$,":");if(2==$parts$$.length){$name$$54_v$$=$parts$$[0].toLowerCase();
$styleProps_value$$=$parts$$[1].toLowerCase();var $lowerTag$$=$tag$$.toLowerCase();switch($name$$54_v$$){case "text-decoration":"none"!=$styleProps_value$$&&($n$$[$i$$++]=$name$$54_v$$+":"+$styleProps_value$$);return;case "font-style":(0===$lowerTag$$.indexOf("<em")||0===$lowerTag$$.indexOf("<i"))&&"normal"==$trim$$($styleProps_value$$)?$removeTag$$=!0:(0===$lowerTag$$.indexOf("<em")||0===$lowerTag$$.indexOf("<i"))&&"oblique"==$trim$$($styleProps_value$$)||($n$$[$i$$++]=$name$$54_v$$+":"+$styleProps_value$$);
return;case "font-weight":(0===$lowerTag$$.indexOf("<strong")||0===$lowerTag$$.indexOf("<b"))&&"normal"==$trim$$($styleProps_value$$)?$removeTag$$=!0:(0===$lowerTag$$.indexOf("<strong")||0===$lowerTag$$.indexOf("<b"))&&0<=$trim$$($styleProps_value$$).indexOf("bold")||($n$$[$i$$++]=$name$$54_v$$+":"+$styleProps_value$$);return;case "list-style":case "list-style-type":case "list-style-image":case "list-style-position":if(0===$lowerTag$$.indexOf("<ul")||0===$lowerTag$$.indexOf("<ol")||0===$lowerTag$$.indexOf("<li"))$n$$[$i$$++]=
$name$$54_v$$+":"+$styleProps_value$$;return;case "border-collapse":return;case "border":case "border-width":case "border-style":case "border-color":if((0===$lowerTag$$.indexOf("<table")||0===$lowerTag$$.indexOf("<tr")||0===$lowerTag$$.indexOf("<td")||0===$lowerTag$$.indexOf("<th")||0===$lowerTag$$.indexOf("<img"))&&"inherit"!=$styleProps_value$$&&"initial"!=$styleProps_value$$)$styleProps_value$$=$styleProps_value$$.replace(/(?:^|\s*)-moz[-\w]+\b/g,""),$n$$[$i$$++]=$name$$54_v$$+":"+$styleProps_value$$;
return;case "margin":case "margin-left":case "margin-right":case "margin-top":case "margin-bottom":case "mso-padding-alt":case "mso-padding-top-alt":case "mso-padding-right-alt":case "mso-padding-bottom-alt":case "mso-padding-left-alt":case "mso-margin-alt":case "mso-margin-top-alt":case "mso-margin-right-alt":case "mso-margin-bottom-alt":case "mso-margin-left-alt":case "mso-table-layout-alt":case "mso-height":case "mso-width":case "mso-vertical-align-alt":$styleProps_value$$=$styleProps_value$$.replace(/^0(?:[\w]+)/gi,
"0").replace(/(?:\s)0(?:[\w]+)/gi," 0").replace(/(?:\s)0\.00(?:[\d|\w]+)/gi," 0");$styleProps_value$$=$styleProps_value$$.replace(/^[0\s]*$/gi,"0");"0"!=$styleProps_value$$&&($name$$54_v$$=$name$$54_v$$.replace(/^mso-|-alt$/g,"").toLowerCase(),"margin-left"==$name$$54_v$$&&"<p"==$trim$$($lowerTag$$)?($name$$54_v$$=parseFloat($styleProps_value$$),"in"==$styleProps_value$$.replace(/[\d\.]*([^\d]*)$/g,"$1").toLowerCase()&&($n$$[$i$$++]="padding-left:"+90*$name$$54_v$$+"px")):"0"!=$parts$$[1]&&"initial"!=
$parts$$[1]&&(0===$lowerTag$$.indexOf("<table")||0===$lowerTag$$.indexOf("<tr")||0===$lowerTag$$.indexOf("<td")||0===$lowerTag$$.indexOf("<th")||0===$lowerTag$$.indexOf("<img")?0!==$styleProps_value$$.indexOf("-")&&($n$$[$i$$++]=$name$$54_v$$+":"+$styleProps_value$$):$n$$[$i$$++]=$name$$54_v$$+":"+$styleProps_value$$));return;case "mso-list":$listDepth$$=$styleProps_value$$.replace(/.*level(\d*).*/gi,"$1");return;case "mso-bidi-theme-font":$forceOL$$=!0;return;case "horiz-align":case "text-align":$n$$[$i$$++]=
"text-align:"+$styleProps_value$$;return;case "text-indent":$n$$[$i$$++]="text-indent:"+$styleProps_value$$;return;case "vert-align":$n$$[$i$$++]="vertical-align:"+$styleProps_value$$;return;case "color":case "font-color":case "mso-foreground":"transparent"!=$styleProps_value$$&&($n$$[$i$$++]="color:"+$styleProps_value$$);return;case "mso-background":case "mso-highlight":$n$$[$i$$++]="background:"+$styleProps_value$$;return;case "background-color":"transparent"!=$styleProps_value$$&&"rgb(255, 255, 255)"!=
$styleProps_value$$&&($n$$[$i$$++]="background-color:"+$styleProps_value$$);return;case "background-position":case "background-repeat":"initial initial"!=$styleProps_value$$&&("repeat repeat"!=$styleProps_value$$&&"0px 0px"!=$styleProps_value$$)&&($n$$[$i$$++]="background-position:"+$styleProps_value$$);return;case "background-image":return;case "font-size":"1em"!=$styleProps_value$$&&($n$$[$i$$++]="font-size:"+$styleProps_value$$);return;case "mso-default-height":"0px"!=$styleProps_value$$&&($n$$[$i$$++]=
"min-height:"+$ensureUnits$$($styleProps_value$$));return;case "mso-default-width":"0px"!=$styleProps_value$$&&($n$$[$i$$++]="min-width:"+$ensureUnits$$($styleProps_value$$));return;case "mso-padding-between-alt":$n$$[$i$$++]="border-collapse:separate;border-spacing:"+$ensureUnits$$($styleProps_value$$);return;case "text-line-through":if("single"==$styleProps_value$$||"double"==$styleProps_value$$)$n$$[$i$$++]="text-decoration:line-through";return;case "mso-zero-height":"yes"==$styleProps_value$$&&
($n$$[$i$$++]="display:none");return}if(!/^(?:mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?!decor|trans)|top-bar|version|vnd|word-break)/.test($name$$54_v$$)&&!(0===$lowerTag$$.indexOf("<p")&&("min-height"==$name$$54_v$$||"height"==$name$$54_v$$)))if($parts$$[1]=$parts$$[1].replace(/^0(?:[\w]+)/gi,"0").replace(/(?:\s)0(?:[\w]+)/gi," 0").replace(/(?:\s)0.00(?:[\d|\w]+)/gi," 0"),$parts$$[1]=$parts$$[1].replace(/^[0\s]*$/gi,"0"),
$styleProps_value$$=$getParam$$($ed$$,"paste_retain_style_properties"),$styleProps_value$$=tinymce.is($styleProps_value$$,"string")&&"all"!==$styleProps_value$$&&"*"!==$styleProps_value$$?tinymce.explode($styleProps_value$$.replace(/^none$/i,"")):[],0<=(!$styleProps_value$$.length||tinymce.inArray($styleProps_value$$,$name$$54_v$$))&&"0"!=$parts$$[1]&&"initial"!=$parts$$[1])$n$$[$i$$++]=$name$$54_v$$+":"+$parts$$[1]}});$tag$$=$tag$$+($forceOL$$?" jive-list-ol='1'":"")+($listDepth$$?" jive-list-info='"+
$listDepth$$+"'":"")+($removeTag$$?" jive-remove-tag='1'":"");return 0<$i$$?$tag$$+' style="'+$n$$.join(";")+'"':$tag$$}]]);$getParam$$($ed$$,"paste_convert_headers_to_strong")&&$process$$([[/<h[1-6][^>]*>/gi,"<p><strong>"],[/<\/h[1-6][^>]*>/gi,"</strong></p>"]]);$stripClass$$=$getParam$$($ed$$,"paste_strip_class_attributes");"none"!==$stripClass$$&&($len_lines$$=function $$len_lines$$$($match$$,$g1$$){if("all"===$stripClass$$)return"";var $cls$$=$grep$$($explode$$($g1$$.replace(/^(["'])(.*)\1$/,
"$2")," "),function($v$$){return/^(?!mso)/i.test($v$$)});return $cls$$.length?' class="'+$cls$$.join(" ")+'"':""},$h$$=$h$$.replace(/ class="([^"]+)"/gi,$len_lines$$),$h$$=$h$$.replace(/ class=([\w-]+)/gi,$len_lines$$));$getParam$$($ed$$,"paste_remove_spans")&&($h$$=$h$$.replace(/<\/?span[^>]*>/gi,""));$getParam$$($ed$$,"paste_remove_pre")&&($h$$=$h$$.replace(/<\/?pre[^>]*>/gi,""));$getParam$$($ed$$,"paste_remove_comments")&&($h$$=$h$$.replace(/\/\*|\/\/.*(?=[\n\r])/gi,"/"));$getParam$$($ed$$,"paste_remove_empty_lines")&&
($h$$=$h$$.replace(/(<(?!\/)[^>]+>)+(<\/[^>]+>)/gi,""));$getParam$$($ed$$,"paste_remove_table")&&($h$$=$h$$.replace(/<\/?table[^>]*>/gi,""),$h$$=$h$$.replace(/<\/?tbody[^>]*>/gi,""),$h$$=$h$$.replace(/<\/?tr[^>]*>/gi,""),$h$$=$h$$.replace(/<td[^>]*>/gi,"<p>"),$h$$=$h$$.replace(/<\/td>/gi,"</p>"));$process$$([[/<li[^>]*>(.*)<\/li>/gi,function($outer$$,$inner$$){var $start$$=$outer$$.substr(0,$outer$$.indexOf(">")+1),$end$$=$outer$$.substr($start$$.length+$inner$$.length),$inner$$=$inner$$.replace(/<p([^>]*)>(.*?)<\/p>/gi,
"<span$1>$2</span>"),$inner$$=$inner$$.replace(/<div([^>]*)>(.*?)<\/div>/gi,"<span$1>$2</span>"),$inner$$=$inner$$.replace(/<br><\/span>/gi,"</span>");do var $prevInner$$=$inner$$,$inner$$=$inner$$.replace(/<span[^>]*><\/span>/gi,"");while($prevInner$$!=$inner$$);return $start$$+$inner$$+$end$$}]]);$h$$=$h$$.replace(/<meta[^>]*>/gi,"");$h$$=$h$$.replace(/<\/meta>/gi,"");$h$$=$h$$.replace(/<br[^>]*>$/i,"");$len_lines$$=/^<pre[^>]*>([\s\S]*)<\/pre[^>]*>$/i.exec($h$$);if(null!=$len_lines$$)$h$$=$len_lines$$[1].replace(/\n/g,
"<br />");else{$h$$=$h$$.replace(/\r/gi,"\n");$len_lines$$=$h$$.split("\n");var $out$$=[];$each$$($len_lines$$,function($value$$){$out$$.push($trim$$($value$$))});$h$$=$out$$.join(" ")}$h$$=$h$$.replace(/<title([^>]*)>([^<]*?)<\/title>/gi,"");$len_lines$$=$h$$=$h$$.replace(/\n/gi,"").replace(/\r/gi,"");do $h$$=$len_lines$$,$len_lines$$=$h$$.replace(/<span>(.*?)<\/span>/gi,"$1");while($len_lines$$!=$h$$);$h$$=$h$$.replace(/<pre>/gi,"<pre class='jive-pre'>");$h$$=$h$$.replace(/<div><br><\/div>/gi,"");
$h$$=$h$$.replace(/<div([^>]*)>(\s?)<\/div>/gi,"");$h$$=$h$$.replace(/<li[^>]*>(.*?)<\/li>/gi,"<li>$1</li>");$h$$=$h$$.replace(/<ul[^>]*>(.*?)<\/ul>/gi,"<ul>$1</ul>");$h$$=$h$$.replace(/<li[^>]*>(.*?)<p[^>]*>(.*?)<\/li>/gi,"<li>$1$2</li>");$h$$=$h$$.replace(/<li[^>]*>(.*?)<\/p>(.*?)<\/li>/gi,"<li>$1$2</li>");$h$$=$h$$.replace(/<li><p>(.*?)<\/p><\/li>/gi,"<li>$1</li>");$h$$=$h$$.replace(/<ul><\/ul>/gi,"");$h$$=$h$$.replace(/<ol><\/ol>/gi,"");$h$$=$h$$.replace(/>([\s|^\u00a0]*)<td/gi,"><td");$h$$=$h$$.replace(/<\/td>([\s|^\u00a0]*)</gi,
"</td><");$h$$=$h$$.replace(/<\/li>([\s&&[^\u00a0]]*)<\/ul>/gi,"</li></ul>");$h$$=$h$$.replace(/<\/li>([\s&&[^\u00a0]]*)<\/ol>/gi,"</li></ol>");$h$$=$h$$.replace(/<ul>([\s&&[^\u00a0]]*)<li>/gi,"<ul><li>");$h$$=$h$$.replace(/<ol>([\s&&[^\u00a0]]*)<li>/gi,"<ol><li>");$h$$=$h$$.replace(/<\/li>([\s&&[^\u00a0]]*)<li>/gi,"<li><li>");$h$$=$h$$.replace(RegExp("(</?(?:H[1-6R]|P|DIV|ADDRESS|PRE|FORM|TABLE|TBODY|THEAD|TFOOT|TH|TR|TD|LI|OL|UL|CAPTION|BLOCKQUOTE|CENTER|DL|DT|DD|DIR|FIELDSET|NOSCRIPT|MENU|ISINDEX|SAMP)[^>]*>)\\s+(?=<(?:H[1-6R]|P|DIV|ADDRESS|PRE|FORM|TABLE|TBODY|THEAD|TFOOT|TH|TR|TD|LI|OL|UL|CAPTION|BLOCKQUOTE|CENTER|DL|DT|DD|DIR|FIELDSET|NOSCRIPT|MENU|ISINDEX|SAMP))",
"gi"),"$1");$h$$=$h$$.replace(RegExp("(</(?:H[1-6R]|P|DIV|ADDRESS|PRE|FORM|TABLE|TBODY|THEAD|TFOOT|TH|TR|TD|LI|OL|UL|CAPTION|BLOCKQUOTE|CENTER|DL|DT|DD|DIR|FIELDSET|NOSCRIPT|MENU|ISINDEX|SAMP)[^>]*>)\\s+(?=</(?:H[1-6R]|P|DIV|ADDRESS|PRE|FORM|TABLE|TBODY|THEAD|TFOOT|TH|TR|TD|LI|OL|UL|CAPTION|BLOCKQUOTE|CENTER|DL|DT|DD|DIR|FIELDSET|NOSCRIPT|MENU|ISINDEX|SAMP))","gi"),"$1");$h$$=$h$$.replace(/> /gi,">&nbsp;");$h$$=$h$$.replace(/ </gi,"&nbsp;<");$process$$([[/<div([^>]*)>((.(?!<div))*?)<\/div>/gi,function($str$$,
$div_lowerContents$$,$contents$$){$div_lowerContents$$=$contents$$.toLowerCase();return $div_lowerContents$$.indexOf("<ul")>=0||$div_lowerContents$$.indexOf("<ol")>=0||$div_lowerContents$$.indexOf("<blockquote")>=0||$div_lowerContents$$.indexOf("<p")>=0?$contents$$:$str$$}]]);$h$$=$h$$.replace(/<div([^>]*)>(.*?)<\/div>/gi,"<p$1>$2</p>");$h$$=$h$$.replace(/<\/strong><strong(?:\s*)>/gi,"");$h$$=$h$$.replace(/<\/b><b(?:\s*)>/gi,"");$h$$=$h$$.replace(/<\/u><u(?:\s*)>/gi,"");$h$$=$h$$.replace(/<\/em><em(?:\s*)>/gi,
"");$h$$=$h$$.replace(/<\/i><i(?:\s*)>/gi,"");$h$$=$h$$.replace(/(_jivemacro_uid_\d+)/gi,"");$h$$=$h$$.replace(/(_jivemacro_uid=['"][^"']*['"])/gi,"");$h$$=$h$$.replace(/<br class="Apple-interchange-newline">/gi,"");$o$$.content=$h$$;$j(".toggle_html").trigger("click");$j(".toggle_html").trigger("click")},_postProcess:function($pl$$,$o$$){function $filterChildNodes$$($parent$$,$validChildNameTest$$){for(var $n$$=$parent$$.firstChild;$n$$;){var $c$$=$n$$,$n$$=$n$$.nextSibling;$validChildNameTest$$.test($c$$.nodeName)||
$parent$$.removeChild($c$$)}}var $ed$$=this.editor,$dom$$=$ed$$.dom,$childParas_endsWith_sib$$,$currentName_p$$;this._removeNodes($pl$$,$o$$);this._fixOrphanLIs($pl$$,$o$$);$o$$.wordContent&&($each$$($dom$$.select("a",$o$$.node),function($a$$){(!$a$$.href||-1!=$a$$.href.indexOf("#_Toc"))&&$dom$$.remove($a$$,1)}),$getParam$$($ed$$,"paste_convert_middot_lists")&&this._convertLists($pl$$,$o$$),$each$$($dom$$.select("*",$o$$.node),function($el$$){"SPAN"==$el$$.nodeName&&(!$el$$.className&&!$dom$$.getAttrib($el$$,
"style"))&&$dom$$.remove($el$$,!0)}));$getParam$$($ed$$,"paste_remove_styles")||$getParam$$($ed$$,"paste_remove_styles_if_webkit")&&tinymce.isWebKit?$each$$($dom$$.select("*[style]",$o$$.node),function($el$$){$el$$.removeAttribute("style");$el$$.removeAttribute("data-mce-style")}):tinymce.isWebKit&&$each$$($dom$$.select("*",$o$$.node),function($el$$){$el$$.getAttribute("data-mce-style")&&$el$$.setAttribute("style",$el$$.getAttribute("data-mce-style"));$el$$.removeAttribute("data-mce-style")});if(1<
$o$$.node.childNodes.length){for(var $aTag_flush$$=!1,$href_kids$$=[],$currentChild_text$$=$o$$.node.firstChild,$blockKids$$=0;null!=$currentChild_text$$;){$childParas_endsWith_sib$$=$currentChild_text$$.nextSibling;$currentName_p$$=$currentChild_text$$.nodeName.toLowerCase();var $sibName$$=$childParas_endsWith_sib$$?$childParas_endsWith_sib$$.nodeName.toLowerCase():null;3==$currentChild_text$$.nodeType||!$dom$$.isBlock($currentChild_text$$)&&"br"!=$currentName_p$$?($childParas_endsWith_sib$$&&"p"==
$sibName$$&&0==$childParas_endsWith_sib$$.innerHTML.length?$childParas_endsWith_sib$$.parentNode.removeChild($childParas_endsWith_sib$$):$childParas_endsWith_sib$$&&"br"==$sibName$$&&($childParas_endsWith_sib$$.parentNode.removeChild($childParas_endsWith_sib$$),$aTag_flush$$=!0),$href_kids$$.push($currentChild_text$$)):"br"==$currentName_p$$&&($currentName_p$$=$dom$$.create("p"),$currentChild_text$$.parentNode.insertBefore($currentName_p$$,$currentChild_text$$),$currentName_p$$.appendChild($currentChild_text$$),
$currentChild_text$$=$currentName_p$$,++$blockKids$$);if(($childParas_endsWith_sib$$&&1==$childParas_endsWith_sib$$.nodeType&&$dom$$.isBlock($childParas_endsWith_sib$$)||$aTag_flush$$)&&$href_kids$$.length){$currentName_p$$=$href_kids$$[0].ownerDocument.createElement("p");$o$$.node.insertBefore($currentName_p$$,$href_kids$$[0]);do $currentName_p$$.appendChild($href_kids$$.shift());while($href_kids$$.length);$currentChild_text$$=$currentName_p$$;++$blockKids$$;$href_kids$$=[]}$aTag_flush$$=!1;$currentChild_text$$=
$currentChild_text$$.nextSibling}if($href_kids$$.length&&0<$blockKids$$){$currentName_p$$=$href_kids$$[0].ownerDocument.createElement("p");$o$$.node.insertBefore($currentName_p$$,$href_kids$$[0]);do $currentName_p$$.appendChild($href_kids$$.shift());while($href_kids$$.length)}}$each$$($dom$$.select("table",$o$$.node),function($t$$){for(var $n$$=$t$$.firstChild;$n$$;){var $c$$=$n$$,$n$$=$n$$.nextSibling;if($c$$.nodeType!=1)$t$$.removeChild($c$$);else{var $name$$=$c$$.nodeName.toLowerCase();$name$$!=
"thead"&&($name$$!="tbody"&&$name$$!="tr")&&$t$$.removeChild($c$$)}}});$each$$($dom$$.select("tr",$o$$.node),function($tr$$){$filterChildNodes$$($tr$$,/t[hd]/i)});$each$$($dom$$.select("tbody",$o$$.node),function($tb$$){$filterChildNodes$$($tb$$,/tr/i)});$childParas_endsWith_sib$$=$dom$$.select("p p",$o$$.node);$each$$($childParas_endsWith_sib$$,function($childP$$){var $parentP$$=$dom$$.getParent($childP$$,"p",$o$$.node);$dom$$.split($parentP$$,$childP$$)});$each$$($dom$$.select("a.jive_macro",$o$$.node),
function($macroElem$$){$dom$$.getAttrib($macroElem$$,"href")&&$dom$$.setAttrib($macroElem$$,"href","javascript:;");if(!$dom$$.getAttrib($macroElem$$,"jivemacro")){var $classList$$=$macroElem$$.className.split(/\s+/);$each$$($classList$$,function($item_macroType$$){if($item_macroType$$.indexOf("jive_macro_")===0){$item_macroType$$=$item_macroType$$.substr(11);$dom$$.setAttrib($macroElem$$,"jivemacro",$item_macroType$$)}})}});$ed$$.plugins.jiveimage&&$each$$($dom$$.select("img",$o$$.node),function($img$$){$dom$$.addClass($img$$,
"jive-image");if(/^(?:data|blob):/.test($img$$.src)){$dom$$.addClass($img$$,"toUpload");$dom$$.setStyles($img$$,{"max-width":"1200px","max-height":"900px"})}else/^(?:file|webkit-fake-url):/.test($img$$.src)&&$dom$$.remove($img$$)});$childParas_endsWith_sib$$=function(){return typeof"a".endsWith=="function"?function nativeEndsWith($s$$,$tail$$){return $s$$.endsWith($tail$$)}:function endsWithJs($s$$,$tail$$){return $s$$.length>=$tail$$.length?$s$$.substring($s$$.length-$tail$$.length)==$tail$$:false}}();
1==$o$$.node.childNodes.length&&"a"==$o$$.node.firstChild.nodeName.toLowerCase()&&($aTag_flush$$=$o$$.node.firstChild,!$dom$$.hasClass($aTag_flush$$,"jive_macro")&&!$dom$$.getAttrib($aTag_flush$$,"jivemacro")&&($href_kids$$=$dom$$.getAttrib($aTag_flush$$,"href"),$currentChild_text$$=$ed$$.convertURL(tinymce.trim($aTag_flush$$.textContent)),($childParas_endsWith_sib$$($href_kids$$,$currentChild_text$$)||$childParas_endsWith_sib$$($currentChild_text$$,$href_kids$$))&&$dom$$.addClass($aTag_flush$$,"loading")));
1==$o$$.node.childNodes.length&&"p"==$o$$.node.firstChild.nodeName.toLowerCase()&&$dom$$.remove($o$$.node.firstChild,!0);$ed$$.addVisual($o$$.node)},_fixOrphanLIs:function($pl$$,$o$$){var $dom$$=$pl$$.editor.dom;"li"!==$pl$$.editor.selection.getNode().nodeName.toLowerCase()&&$each$$($dom$$.select("li",$o$$.node),function($li$$){if("ul"!=$li$$.parentNode.nodeName.toLowerCase()&&"ol"!=$li$$.parentNode.nodeName.toLowerCase()){var $ul$$=$li$$.ownerDocument.createElement("ul");$li$$.parentNode.insertBefore($ul$$,
$li$$);$ul$$.appendChild($li$$)}})},_removeNodes:function($pl$$,$o$$){$each$$($pl$$.editor.dom.select("[jive-remove-tag=1]",$o$$.node),function($remove_me$$){if(1==$remove_me$$.nodeType){for(;$remove_me$$.childNodes.length;)$remove_me$$.parentNode.insertBefore($remove_me$$.childNodes[0],$remove_me$$);$remove_me$$.parentNode.removeChild($remove_me$$)}})},_convertLists:function($pl$$,$o$$){function $createList$$($params_style$$){var $list$$=$dom$$.create($params_style$$.listType),$params_style$$="list-style-type: "+
$params_style$$.subType;tinymce.isIE&&!tinymce.isIE11?$list$$.style.setAttribute("cssText",$params_style$$):$list$$.setAttribute("style",$params_style$$);return $list$$}function $getParagraphMetaData$$($indicator_p$$){var $listInfoSpans_result$$=$dom$$.select(".pasted-list-info",$indicator_p$$),$text$$;$text$$=0<$listInfoSpans_result$$.length?$listInfoSpans_result$$[0].textContent:$indicator_p$$.innerHTML.replace(/<\/?\w+[^>]*>/gi,"").replace(/&nbsp;/g,"\u00a0");var $listInfoSpans_result$$={isListItem:/__MCE_ITEM__+/.test($text$$)||
/^(\d)+\./.test($text$$)||/^v\s+/.test($text$$)||/^[a-z]+\./i.test($text$$)},$forceType$$=null;$dom$$.select("span[jive-list-ol=1]",$indicator_p$$).length&&($forceType$$="ol");$dom$$.select("span[jive-list-ul=1]",$indicator_p$$).length&&($forceType$$="ul");$listInfoSpans_result$$.isListItem&&($indicator_p$$=$text$$.match(/^[^\s]+/)[0].replace(/^(?:__MCE_ITEM__)*/,""),$listInfoSpans_result$$.subType||($listInfoSpans_result$$.subType=/^0\d/.test($indicator_p$$)?"decimal-leading-zero":/^\d/.test($indicator_p$$)?
"decimal":/^[i]/.test($indicator_p$$)?"lower-roman":/^[I]/.test($indicator_p$$)?"upper-roman":/^v/.test($indicator_p$$)&&(!$forceType$$||"ul"==$forceType$$)?"disc":/^o/.test($indicator_p$$)&&(!$forceType$$||"ul"==$forceType$$)?"circle":/^[a-z]/.test($indicator_p$$)?"lower-alpha":/^[A-Z]/.test($indicator_p$$)?"upper-alpha":/^[\u03b1-\u03c8]/.test($indicator_p$$)?"lower-greek":"disc"),$listInfoSpans_result$$.listType=/disc|circle|square/.test($listInfoSpans_result$$.subType)?"ul":"ol");return $listInfoSpans_result$$}
var $dom$$=$pl$$.editor.dom,$listElm$$,$lastMargin$$=-1,$levels$$=[],$lastType$$,$html$$1$$;$each$$($dom$$.select("p",$o$$.node),function($p$$){var $html$$0$$,$parents$$,$meta$$=$getParagraphMetaData$$($p$$);if($meta$$.isListItem){var $margin$$=parseFloat($p$$.getAttribute("jive-list-info")||0);$margin$$>$lastMargin$$&&$levels$$.push($margin$$);!$listElm$$||$meta$$.listType!=$lastType$$&&$margin$$==$lastMargin$$?($listElm$$=$createList$$($meta$$),$dom$$.insertAfter($listElm$$,$p$$)):$margin$$>$lastMargin$$?
($html$$0$$=$listElm$$,$listElm$$=$createList$$($meta$$),$html$$0$$.appendChild($listElm$$)):$margin$$<$lastMargin$$&&($html$$0$$=tinymce.inArray($levels$$,$margin$$),$parents$$=$dom$$.getParents($listElm$$.parentNode,"ol,ul"),$listElm$$=$parents$$[$parents$$.length-1-$html$$0$$]||$listElm$$,$listElm$$.nodeName.toLowerCase()!=$meta$$.listType&&($html$$0$$=$listElm$$,$listElm$$=$createList$$($meta$$),$dom$$.insertAfter($listElm$$,$html$$0$$)));$each$$($dom$$.select(".pasted-list-info",$p$$),function($elem$$){$dom$$.remove($elem$$)});
$each$$($dom$$.select("span",$p$$),function($span$$){if($span$$.childNodes.length==0)$dom$$.remove($span$$);else{var $html$$=$span$$.innerHTML.replace(/<\/?\w+[^>]*>/gi,"");$meta$$.listType=="ul"&&/^.?\s*(&nbsp;|\u00a0)+\s*/.test($html$$)?$dom$$.remove($span$$):/^__MCE_ITEM__[\s\S]*\w+[\.|\)|:]?(&nbsp;|\u00a0)+\s*/.test($html$$)&&$dom$$.remove($span$$)}});/alpha$/.test($meta$$.subType)&&($p$$.innerHTML=$p$$.innerHTML.replace(/^[a-z]+\.(\s|\u00a0|&nbsp;)+/i,""));$html$$0$$=$p$$.innerHTML;"ul"==$meta$$.listType?
$html$$0$$=$html$$0$$.replace(/(__MCE_ITEM__)+.?\s*(&nbsp;|\u00a0|\u00b7)+\s*/,""):($html$$0$$=$html$$0$$.replace(/(__MCE_ITEM__)+\s*\w+[\.|\)|:]?(&nbsp;|\u00a0)+\s*/,"").replace(/^\d+\.(\s|\u00a0|&nbsp;)+/,""),$html$$0$$=$html$$0$$.replace(/__MCE_ITEM__(\w)+\.\s?/,""));$listElm$$.appendChild($dom$$.create("li",0,$html$$0$$));$dom$$.remove($p$$);$lastMargin$$=$margin$$;$lastType$$=$meta$$.listType}else $listElm$$=$lastMargin$$=0});$html$$1$$=$o$$.node.innerHTML;$html$$1$$=$html$$1$$.replace(/__MCE_ITEM__/g,
"");do{var $oldHTML$$=$html$$1$$;$html$$1$$=$html$$1$$.replace(/<(\w+)[^>]*?>\s*<\/[^>]*>/gi,"")}while($oldHTML$$!=$html$$1$$);$o$$.node.innerHTML=$html$$1$$},_insertBlockContent:function($ed$$,$dom$$,$content_vp$$){function $isEmptyListItem$$($c$$2_li$$){if($dom$$.isEmpty($c$$2_li$$))return!0;for($c$$2_li$$=$c$$2_li$$.firstChild;$c$$2_li$$;){if(1==$c$$2_li$$.nodeType&&$dom$$.isEmpty($c$$2_li$$)&&"img"!=$c$$2_li$$.nodeName.toLowerCase())return!0;$c$$2_li$$=$c$$2_li$$.firstChild}return!1}var $parentBlock_y$$,
$marker$$,$sel$$=$ed$$.selection,$last$$,$elm_elmHeight_isFrontOfLi$$;$elm_elmHeight_isFrontOfLi$$=$ed$$.selectionUtil.atStartOf($sel$$.getNode());this._insert('<span class="mce_paste_marker"></span>',1);$marker$$=function findMarker($className$$){return($className$$=$dom$$.select("."+$className$$))&&0<$className$$.length?$className$$[0]:null}("mce_paste_marker");$parentBlock_y$$=$dom$$.getParent($marker$$,"p,h1,h2,h3,h4,h5,h6,ul,ol,th,td");if($ed$$.dom.getParent($sel$$.getNode(),"li")){var $li$$=
$ed$$.dom.getParent($sel$$.getNode(),"li"),$l$$=$ed$$.dom.getParent($li$$,"ol,ul");$elm_elmHeight_isFrontOfLi$$?($l$$.insertBefore($marker$$,$li$$),$parentBlock_y$$=$l$$):$ed$$.selectionUtil.atEndOf($li$$)&&($l$$.insertBefore($marker$$,$li$$.nextSibling),$parentBlock_y$$=$l$$);$isEmptyListItem$$($li$$)&&$l$$.removeChild($li$$)}$parentBlock_y$$&&!/TD|TH/.test($parentBlock_y$$.nodeName)&&($marker$$=$dom$$.split($parentBlock_y$$,$marker$$));$each$$($dom$$.create("div",0,$content_vp$$).childNodes,function($n$$){$last$$=
$n$$.cloneNode(!0);$marker$$.parentNode.insertBefore($last$$,$marker$$)});(function select($n$$){var $r$$;if(tinymce.isIE&&!tinymce.isIE11){$r$$=$ed$$.getDoc().body.createTextRange();try{$r$$.moveToElementText($n$$)}catch($e$$){try{$r$$.moveToElementText($n$$.parentNode)}catch($e2$$){}}$r$$.collapse(!1);$r$$.select()}else $sel$$.select($n$$,1),$sel$$.collapse(!1)})($last$$);$each$$($dom$$.select(".mce_paste_marker"),function($n$$){$dom$$.remove($n$$)});$elm_elmHeight_isFrontOfLi$$=$sel$$.getStart();
$content_vp$$=$dom$$.getViewPort($ed$$.getWin());$parentBlock_y$$=$ed$$.dom.getPos($elm_elmHeight_isFrontOfLi$$).y;$elm_elmHeight_isFrontOfLi$$=$elm_elmHeight_isFrontOfLi$$.clientHeight;if($parentBlock_y$$<$content_vp$$.y||$parentBlock_y$$+$elm_elmHeight_isFrontOfLi$$>$content_vp$$.y+$content_vp$$.h)$ed$$.getWin().scrollTo(0,$parentBlock_y$$<$content_vp$$.y?$parentBlock_y$$:$parentBlock_y$$-$content_vp$$.h+$elm_elmHeight_isFrontOfLi$$)},_insert:function($h$$,$skip_undo$$){var $ed$$=this.editor,$r$$=
$ed$$.selection.getRng();!$ed$$.selection.isCollapsed()&&$r$$.startContainer!=$r$$.endContainer&&$ed$$.getDoc().execCommand("Delete",!1,null);$ed$$.execCommand("mceInsertContent",!1,$h$$,{skip_undo:$skip_undo$$})},_insertPlainText:function($ed$$,$dom$$,$h$$){function $process$$($items$$){$each$$($items$$,function($v$$){$h$$=$v$$.constructor==RegExp?$h$$.replace($v$$,""):$h$$.replace($v$$[0],$v$$[1])})}var $i$$3_node$$,$len$$,$is_pos$$,$linebr_rpos$$,$breakElms_rl$$,$before$$,$after$$,$w$$=$ed$$.getWin(),
$d$$=$ed$$.getDoc(),$sel$$=$ed$$.selection;$is_pos$$=tinymce.is;var $inArray$$=tinymce.inArray;$linebr_rpos$$=$getParam$$($ed$$,"paste_text_linebreaktype");$breakElms_rl$$=$getParam$$($ed$$,"paste_text_replacements");if("string"===typeof $h$$&&0<$h$$.length){$entities$$||($entities$$=("34,quot,38,amp,39,apos,60,lt,62,gt,"+$ed$$.serializer.settings.entities).split(","));/<(?:p|br|h[1-6]|ul|ol|dl|table|t[rdh]|div|blockquote|fieldset|pre|address|center)[^>]*>/i.test($h$$)?$process$$([/[\n\r]+/g]):$process$$([/\r+/g]);
$process$$([[/<\/(?:p|h[1-6]|ul|ol|dl|table|div|blockquote|fieldset|pre|address|center)>/gi,"\n\n"],[/<br[^>]*>|<\/tr>/gi,"\n"],[/<\/t[dh]>\s*<t[dh][^>]*>/gi,"\t"],/<[a-z!\/?][^>]*>/gi,[/&nbsp;/gi," "],[/&(#\d+|[a-z0-9]{1,10});/gi,function($e$$,$s$$){return"#"===$s$$.charAt(0)?String.fromCharCode($s$$.slice(1)):0<($e$$=$inArray$$($entities$$,$s$$))?String.fromCharCode($entities$$[$e$$-1]):" "}],[/(?:(?!\n)\s)*(\n+)(?:(?!\n)\s)*/gi,"$1"],[/\n{3,}/g,"\n\n"],/^\s+|\s+$/g]);$h$$=$dom$$.encode($h$$);$sel$$.isCollapsed()||
$d$$.execCommand("Delete",!1,null);$is_pos$$($breakElms_rl$$,"array")||$is_pos$$($breakElms_rl$$,"array")?$process$$($breakElms_rl$$):$is_pos$$($breakElms_rl$$,"string")&&$process$$(RegExp($breakElms_rl$$,"gi"));"none"==$linebr_rpos$$?$process$$([[/\n+/g," "]]):"br"==$linebr_rpos$$?$process$$([[/\n/g,"<br />"]]):$process$$([/^\s+|\s+$/g,[/\n\n/g,"</p><p>"],[/\n/g,"<br />"]]);if(-1!=($is_pos$$=$h$$.indexOf("</p><p>"))){$linebr_rpos$$=$h$$.lastIndexOf("</p><p>");$i$$3_node$$=$sel$$.getNode();$breakElms_rl$$=
[];do if(1==$i$$3_node$$.nodeType){if("TD"==$i$$3_node$$.nodeName||"BODY"==$i$$3_node$$.nodeName)break;$breakElms_rl$$[$breakElms_rl$$.length]=$i$$3_node$$}while($i$$3_node$$=$i$$3_node$$.parentNode);if(0<$breakElms_rl$$.length){$before$$=$h$$.substring(0,$is_pos$$);$after$$="";$i$$3_node$$=0;for($len$$=$breakElms_rl$$.length;$i$$3_node$$<$len$$;$i$$3_node$$++)$before$$+="</"+$breakElms_rl$$[$i$$3_node$$].nodeName.toLowerCase()+">",$after$$+="<"+$breakElms_rl$$[$breakElms_rl$$.length-$i$$3_node$$-
1].nodeName.toLowerCase()+">";$h$$=$is_pos$$==$linebr_rpos$$?$before$$+$after$$+$h$$.substring($is_pos$$+7):$before$$+$h$$.substring($is_pos$$+4,$linebr_rpos$$+4)+$after$$+$h$$.substring($linebr_rpos$$+7)}}$ed$$.execCommand("mceInsertRawHTML",!1,$h$$+'<span id="_plain_text_marker">&nbsp;</span>');window.setTimeout(function(){var $marker$$1_vp$$=$dom$$.get("_plain_text_marker"),$elm$$1_elmHeight$$,$y$$;$sel$$.select($marker$$1_vp$$,!1);$d$$.execCommand("Delete",!1,null);$elm$$1_elmHeight$$=$sel$$.getStart();
$marker$$1_vp$$=$dom$$.getViewPort($w$$);$y$$=$dom$$.getPos($elm$$1_elmHeight$$).y;$elm$$1_elmHeight$$=$elm$$1_elmHeight$$.clientHeight;if($y$$<$marker$$1_vp$$.y||$y$$+$elm$$1_elmHeight$$>$marker$$1_vp$$.y+$marker$$1_vp$$.h)$d$$.body.scrollTop=$y$$<$marker$$1_vp$$.y?$y$$:$y$$-$marker$$1_vp$$.h+25},0)}},_legacySupport:function(){var $t$$=this,$ed$$=$t$$.editor;$ed$$.addCommand("mcePasteWord",function(){$ed$$.windowManager.open({file:CS_RESOURCE_BASE_URL+"/resources/scripts/tiny_mce3/plugins/paste/pasteword.htm",
width:parseInt($getParam$$($ed$$,"paste_dialog_width")),height:parseInt($getParam$$($ed$$,"paste_dialog_height")),inline:1})});$getParam$$($ed$$,"paste_text_use_dialog")&&$ed$$.addCommand("mcePasteText",function(){$ed$$.windowManager.open({file:$t$$.url+"/pastetext.htm",width:parseInt($getParam$$($ed$$,"paste_dialog_width")),height:parseInt($getParam$$($ed$$,"paste_dialog_height")),inline:1})});$ed$$.addButton("pasteword",{title:"paste.paste_word_desc",cmd:"mcePasteWord"})}});tinymce.PluginManager.add("paste",
tinymce.plugins.PastePlugin)})();
;
(function(){var a=tinymce.util.JSONRequest,c=tinymce.each,b=tinymce.DOM;tinymce.create("tinymce.plugins.SpellcheckerPlugin",{getInfo:function(){return{longname:"Spellchecker",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/spellchecker",version:tinymce.majorVersion+"."+tinymce.minorVersion}},init:function(f,g){var h=this,d;h.url=g;h.editor=f;h.rpcUrl=f.getParam("spellchecker_rpc_url","{backend}");f.onBeginSpelling=new tinymce.util.Dispatcher(f);f.onEndSpelling=new tinymce.util.Dispatcher(f);f.onSpellCheckFinished=new tinymce.util.Dispatcher(f);if(h.rpcUrl=="{backend}"){if(tinymce.isIE){return}h.hasSupport=true;f.onContextMenu.addToTop(function(i,j){if(h.active){return false}})}f.addCommand("mceSpellCheck",function(){if(h.rpcUrl=="{backend}"){h.editor.getBody().spellcheck=h.active=!h.active;return}if(!h.active){f.onBeginSpelling.dispatch();f.setProgressState(1);h._sendRPC("checkWords",[h.selectedLang,h._getWords()],function(i){if(i.length>0){h.active=1;h._markWords(i);f.setProgressState(0);f.nodeChanged();f.onSpellCheckFinished.dispatch()}else{f.setProgressState(0);if(f.getParam("spellchecker_report_no_misspellings",true)){f.windowManager.alert("spellchecker.no_mpell")}f.onEndSpelling.dispatch()}})}else{h._done()}});f.onInit.add(function(){if(f.settings.content_css!==false){f.dom.loadCSS(window.CS_RESOURCE_BASE_URL+"/styles/tiny_mce3/plugins/spellchecker/css/content.css")}});f.onClick.add(h._showMenu,h);if(f&&f.plugins.contextmenu){f.onContextMenu.add(h._showMenu,h)}f.onNodeChange.add(function(j,i){i.setActive("spellchecker",h.active)});f.onSetContent.add(function(){h._done()});f.onBeforeGetContent.add(function(){h._done()});f.onBeforeExecCommand.add(function(i,j){if(j=="mceFullScreen"){h._done()}});h.languages={};c(f.getParam("spellchecker_languages","+English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr,German=de,Italian=it,Polish=pl,Portuguese=pt,Spanish=es,Swedish=sv","hash"),function(j,i){if(i.indexOf("+")===0){i=i.substring(1);h.selectedLang=j}h.languages[i]=j});var e=_jive_locale.toLowerCase();if(_.contains(_.values(h.languages),e)){h.selectedLang=e}},createControl:function(h,d){var f=this,g,e=f.editor;if(h=="spellchecker"){if(f.rpcUrl=="{backend}"){if(f.hasSupport){g=d.createButton(h,{title:"spellchecker.desc",cmd:"mceSpellCheck",scope:f})}return g}g=d.createSplitButton(h,{title:"spellchecker.desc",cmd:"mceSpellCheck",scope:f});g.onRenderMenu.add(function(j,i){i.add({title:"spellchecker.langs","class":"mceMenuItemTitle"}).setDisabled(1);c(f.languages,function(n,m){var p={icon:1},l;p.onclick=function(){if(n==f.selectedLang){return}l.setSelected(1);f.selectedItem.setSelected(0);f.selectedItem=l;f.selectedLang=n};p.title=m;l=i.add(p);l.setSelected(n==f.selectedLang);if(n==f.selectedLang){f.selectedItem=l}})});return g}},_walk:function(i,g){var h=this.editor.getDoc(),e;if(h.createTreeWalker){e=h.createTreeWalker(i,NodeFilter.SHOW_TEXT,null,false);while((i=e.nextNode())!=null){g.call(this,i)}}else{tinymce.walk(i,g,"childNodes")}},_getSeparators:function(){var e="",d,f=this.editor.getParam("spellchecker_word_separator_chars",'\\s!"#$%&()*+,-./:;<=>?@[]^_{|}����������������\u201d\u201c');for(d=0;d<f.length;d++){e+="\\"+f.charAt(d)}return e},_cleanBody:function(){var e=this.editor,g=[],d="",f={},h=e.dom;this._walk(e.getBody(),function(i){while($def(i)&&i.nodeType==3&&i.nextSibling&&i.nextSibling.nodeType==3){i.nodeValue=i.nodeValue+i.nextSibling.nodeValue;i.nextSibling.parentNode.removeChild(i.nextSibling)}})},_getWords:function(){var e=this.editor,h=[],d="",f={},i=e.dom;var g=e.plugins.jivemacros;this._walk(e.getBody(),function(l){if(l.nodeType==3){var j=i.getParent(l,"span");var k=i.getParent(l,"pre");if(!(j!=null&&g.isMacro(j)||k!=null&&g.isMacro(k)&&g.getMacroFor(k).getName()!="quote")){d+=l.nodeValue+" "}}});d=d.replace(new RegExp("([0-9]|["+this._getSeparators()+"])","g")," ");d=tinymce.trim(d.replace(/(\s+)/g," "));c(d.split(" "),function(j){if(!f[j]){h.push(j);f[j]=1}});return h},_removeWords:function(e){var f=this.editor,h=f.dom,g=f.selection,d=g.getBookmark();c(h.select("span").reverse(),function(i){if(i&&(h.hasClass(i,"mceItemHiddenSpellWord")||h.hasClass(i,"mceItemHidden"))){if(!e||h.decode(i.innerHTML)==e){h.remove(i,1)}}});g.moveToBookmark(d)},_markWords:function(m){var g=this.editor,e=this._getSeparators(),f=g.dom,j=[];var i=g.selection,k=i.getBookmark(BOOKMARKTYPE);var l=g.plugins.jivemacros;var h=m.join("|");var d=new RegExp("(^|["+e+"])("+h+")(?=["+e+"]|$)","g");this._walk(this.editor.getBody(),function(o){if(o.nodeType==3){j.push(o)}});c(j,function(r){var p=f.getParent(r,"span");var q=f.getParent(r,"pre");if(!(p!=null&&l.isMacro(p)||q!=null&&l.isMacro(q)&&l.getMacroFor(q).getName()!="quote")){var o=r.nodeValue;d.lastIndex=0;if(d.test(o)){o=f.encode(o);o=o.replace(d,'$1<span class="mceItemHiddenSpellWord">$2</span>');f.replace(f.create("span",{"class":"mceItemHidden"},o),r)}}});i.moveToBookmark(k)},_showMenu:function(h,j){var i=this,h=i.editor,d=i._menu,l,k=h.dom,g=k.getViewPort(h.getWin()),f=j.target;j=0;if(!d){d=h.controlManager.createDropMenu("spellcheckermenu",{"class":"mceNoIcons"});i._menu=d}if(k.hasClass(f,"mceItemHiddenSpellWord")){d.removeAll();d.add({title:"spellchecker.wait","class":"mceMenuItemTitle"}).setDisabled(1);i._sendRPC("getSuggestions",[i.selectedLang,k.decode(f.innerHTML)],function(m){var e;d.removeAll();if(m.length>0){d.add({title:"spellchecker.sug","class":"mceMenuItemTitle"}).setDisabled(1);c(m,function(n){d.add({title:n,onclick:function(){k.replace(h.getDoc().createTextNode(n),f);i._checkDone()}})});d.addSeparator()}else{d.add({title:"spellchecker.no_sug","class":"mceMenuItemTitle"}).setDisabled(1)}e=i.editor.getParam("spellchecker_enable_ignore_rpc","");d.add({title:"spellchecker.ignore_word",onclick:function(){var n=f.innerHTML;k.remove(f,1);i._checkDone();if(e){h.setProgressState(1);i._sendRPC("ignoreWord",[i.selectedLang,n],function(o){h.setProgressState(0)})}}});d.add({title:"spellchecker.ignore_words",onclick:function(){var n=f.innerHTML;i._removeWords(k.decode(n));i._checkDone();if(e){h.setProgressState(1);i._sendRPC("ignoreWords",[i.selectedLang,n],function(o){h.setProgressState(0)})}}});if(i.editor.getParam("spellchecker_enable_learn_rpc")){d.add({title:"spellchecker.learn_word",onclick:function(){var n=f.innerHTML;k.remove(f,1);i._checkDone();h.setProgressState(1);i._sendRPC("learnWord",[i.selectedLang,n],function(o){h.setProgressState(0)})}})}d.update()});l=b.getPos(h.getContentAreaContainer());d.settings.offset_x=l.x;d.settings.offset_y=l.y;h.selection.select(f);l=k.getPos(f);d.showMenu(l.x,l.y+f.offsetHeight-g.y);return tinymce.dom.Event.cancel(j)}else{d.hideMenu()}},_checkDone:function(){var e=this,d=e.editor,g=d.dom,f;c(g.select("span"),function(h){if(h&&g.hasClass(h,"mceItemHiddenSpellWord")){f=true;return false}});if(!f){e._done()}},_done:function(){var d=this,e=d.active;if(d.active){d.editor.onEndSpelling.dispatch();d.active=0;d._removeWords();if(d._menu){d._menu.hideMenu()}if(e){d.editor.nodeChanged()}}},_sendRPC:function(e,g,d){var f=this;a.sendRPC({url:f.rpcUrl,method:e,params:g,success:d,error:function(i,h){f.editor.setProgressState(0);f.editor.windowManager.alert(i.errstr||("Error response: "+h.responseText))}})}});tinymce.PluginManager.add("spellchecker",tinymce.plugins.SpellcheckerPlugin)})();
;
var foo=function(){var $DOM$$=tinymce.DOM,$Event$$=tinymce.dom.Event,$extend$$=tinymce.extend,$each$$=tinymce.each,$Cookie$$=tinymce.util.Cookie,$lastExtID$$,$explode$$=tinymce.explode;tinymce.ThemeManager.requireLangPack("advanced");tinymce.create("tinymce.themes.AdvancedTheme",{controls:{bold:["bold_desc","Bold"],italic:["italic_desc","Italic"],underline:["underline_desc","Underline"],strikethrough:["striketrough_desc","Strikethrough"],justifyleft:["justifyleft_desc","JustifyLeft"],justifycenter:["justifycenter_desc",
"JustifyCenter"],justifyright:["justifyright_desc","JustifyRight"],justifyfull:["justifyfull_desc","JustifyFull"],bullist:["bullist_desc","jiveInsertUnorderedList"],numlist:["numlist_desc","jiveInsertOrderedList"],outdent:["outdent_desc","mceOutdent"],indent:["indent_desc","mceIndent"],cut:["cut_desc","Cut"],copy:["copy_desc","Copy"],paste:["paste_desc","Paste"],link:["link_desc","mceLink"],unlink:["unlink_desc","unlink"],image:["image_desc","mceImage"],undo:["undo_desc","Undo"],redo:["redo_desc",
"Redo"],sub:["sub_desc","subscript"],sup:["sup_desc","superscript"],code:["code_desc","mceCodeEditor"],hr:["hr_desc","InsertHorizontalRule"],removeformat:["removeformat_desc","mceRemoveFullFormat"],forecolor:["forecolor_desc","ForeColor"],forecolorpicker:["forecolor_desc","mceForeColor"],backcolor:["backcolor_desc","HiliteColor"],backcolorpicker:["backcolor_desc","mceBackColor"],blockquote:["blockquote_desc","mceBlockQuote"],codebtn:["codebtn_desc","codebtnFunc"]},stateControls:"bold italic underline strikethrough bullist numlist justifyleft justifycenter justifyright justifyfull blockquote".split(" "),
removeListsFromHelper:function($ed$$,$pre$$,$currNode$$,$lastNode$$){var $ret$$=!1;if(null==$currNode$$)return!0;$currNode$$==$lastNode$$&&($ret$$=!0);var $doc$$=$ed$$.getDoc();if(3==$currNode$$.nodeType||"ol"!=$currNode$$.nodeName.toLowerCase()&&"ul"!=$currNode$$.nodeName.toLowerCase())return $pre$$.appendChild($currNode$$),!1;for(;0<$currNode$$.childNodes.length;){var $node$$=$currNode$$.childNodes[0];if(this.removeListsFromHelper($ed$$,$pre$$,$node$$,$lastNode$$))return("ol"==$currNode$$.nodeName.toLowerCase()||
"ul"==$currNode$$.nodeName.toLowerCase())&&$currNode$$.removeChild($node$$),!0;("ol"==$currNode$$.nodeName.toLowerCase()||"ul"==$currNode$$.nodeName.toLowerCase())&&$currNode$$.removeChild($node$$)}this.shouldEndLine($currNode$$)&&$pre$$.appendChild($doc$$.createTextNode("\n"));return $ret$$?$ret$$:null!=$currNode$$.nextSibling&&this.removeListsFromHelper($ed$$,$pre$$,$currNode$$.nextSibling,$lastNode$$)?!0:!1},getParentNode:function($ed$$,$node$$){return(new tinymce.dom.DOMUtils($ed$$.getDoc())).getParent($node$$,
function($x$$){return $x$$==$ed$$.getBody()||$x$$!=$node$$})},removeListsFrom:function($ed$$,$pre$$,$currNode$$,$lastNode$$){var $next_ret$$=!1;if(null==$currNode$$)return!0;$currNode$$==$lastNode$$&&($next_ret$$=!0);var $doc$$=$ed$$.getDoc();if(3==$currNode$$.nodeType||"ol"!=$currNode$$.nodeName.toLowerCase()&&"ul"!=$currNode$$.nodeName.toLowerCase())return $pre$$.appendChild($currNode$$),!1;for(;0<$currNode$$.childNodes.length;){var $node$$=$currNode$$.childNodes[0];if(this.removeListsFromHelper($ed$$,
$pre$$,$node$$,$lastNode$$))return("ol"==$currNode$$.nodeName.toLowerCase()||"ul"==$currNode$$.nodeName.toLowerCase())&&$currNode$$.removeChild($node$$),!0;("ol"==$currNode$$.nodeName.toLowerCase()||"ul"==$currNode$$.nodeName.toLowerCase())&&$currNode$$.removeChild($node$$)}this.shouldEndLine($currNode$$)&&$pre$$.appendChild($doc$$.createTextNode("\n"));if($next_ret$$){if("ol"==$currNode$$.nodeName.toLowerCase()||"ul"==$currNode$$.nodeName.toLowerCase())$doc$$=this.getParentNode($ed$$,$currNode$$),
$doc$$.removeChild($currNode$$);return $next_ret$$}if(null!=$currNode$$.nextSibling){$next_ret$$=$currNode$$.nextSibling;if("ol"==$currNode$$.nodeName.toLowerCase()||"ul"==$currNode$$.nodeName.toLowerCase())$doc$$=this.getParentNode($ed$$,$currNode$$),$doc$$.removeChild($currNode$$);if(this.removeListsFromHelper($ed$$,$pre$$,$next_ret$$,$lastNode$$))return!0}$next_ret$$=this.getNextSibling($ed$$,$currNode$$);if("ol"==$currNode$$.nodeName.toLowerCase()||"ul"==$currNode$$.nodeName.toLowerCase())$doc$$=
this.getParentNode($ed$$,$currNode$$),$doc$$.removeChild($currNode$$);return this.removeListsFrom($ed$$,$pre$$,$next_ret$$,$lastNode$$)?!0:!1},init:function($ed$$0$$,$url$$){var $t$$=this,$s$$,$v$$;$ed$$0$$.addCommand("mceRemoveFullFormat",function(){if(!$ed$$0$$.selection.isCollapsed()){$ed$$0$$.execCommand("RemoveFormat");var $n$$=$ed$$0$$.selection.getNode();null==$ed$$0$$.dom.getParent($n$$,"table")&&$ed$$0$$.execCommand("FormatBlock",!1,"<p>")}});$t$$.editor=$ed$$0$$;$t$$.url=$url$$;$t$$.onResolveName=
new tinymce.util.Dispatcher(this);$t$$.onResize=new tinymce.util.Dispatcher(this);$t$$.settings=$s$$=$extend$$({theme_advanced_path:!0,theme_advanced_toolbar_location:"bottom",theme_advanced_blockformats:"p,address,pre,h1,h2,h3,h4,h5,h6",theme_advanced_toolbar_align:"center",theme_advanced_fonts:"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",
theme_advanced_font_sizes:"1,2,3,4,5,6,7",theme_advanced_more_colors:1,theme_advanced_row_height:23,theme_advanced_resize_horizontal:1,theme_advanced_resizing_use_cookie:1},$ed$$0$$.settings);if(($v$$=$s$$.theme_advanced_path_location)&&"none"!=$v$$)$s$$.theme_advanced_statusbar_location=$s$$.theme_advanced_path_location;"none"==$s$$.theme_advanced_statusbar_location&&($s$$.theme_advanced_statusbar_location=0);$ed$$0$$.onInit.add(function(){$ed$$0$$.onNodeChange.add($t$$._nodeChanged,$t$$);$ed$$0$$.onKeyDown.add($t$$._keyDown,
$t$$);jive.ext.x.xTimer.set("timeout",$t$$,"_refreshFont",33);jive.ext.x.xTimer.set("timeout",$t$$,"_refreshFont",500);jive.ext.x.xTimer.set("timeout",$t$$,"_refreshFontColor",33);jive.ext.x.xTimer.set("timeout",$t$$,"_refreshFontColor",500);jive.ext.x.xTimer.set("timeout",$t$$,"_refreshFontSize",33);jive.ext.x.xTimer.set("timeout",$t$$,"_refreshFontSize",500);$ed$$0$$.addCommand("jiveInsertUnorderedList",function(){$ed$$0$$.execCommand("mceInsertUnorderedList");window.focus();$ed$$0$$.focus()});
$ed$$0$$.addCommand("jiveInsertOrderedList",function(){$ed$$0$$.execCommand("mceInsertOrderedList");window.focus();$ed$$0$$.focus()});var $c$$=$ed$$0$$.controlManager.get("fontsizeselect");if($c$$){var $div$$=document.createElement("DIV"),$lo$$=["8 pt","10 pt","12 pt","14 pt","18 pt","24 pt","36 pt"],$fz$$=[8,10,12,14,18,24,36];$c$$.computed=[];document.body.appendChild($div$$);$each$$($explode$$($t$$.settings.theme_advanced_font_sizes),function($v$$){$div$$.style.fontSize=$fz$$[$v$$-1]+"pt";var $computedValue$$=
jive.ext.x.xGetCS($div$$,"font-size");$c$$.computed.push($computedValue$$);$c$$.add($lo$$[parseInt($v$$)-1],$v$$,{style:"font-size:"+$fz$$[$v$$-1]+"pt","class":"mceFontSize"+$v$$})});document.body.removeChild($div$$);$ed$$0$$.onKeyUp.add(function($ed$$){var $cm$$=$ed$$.controlManager;$cm$$.setActive("bold",$ed$$.queryCommandState("Bold"));$cm$$.setActive("italic",$ed$$.queryCommandState("Italic"));$cm$$.setActive("underline",$ed$$.queryCommandState("Underline"));$cm$$.setActive("strikethrough",$ed$$.queryCommandState("Strikethrough"))});
$ed$$0$$.onBeforeExecCommand.add(function($ed$$,$cmd_rng$$,$cm$$,$val$$){$cm$$=$ed$$.controlManager;$cmd_rng$$=="Bold"&&$cm$$.get("bold").setActive($ed$$.queryCommandState("Bold"));$cmd_rng$$=="Italic"&&$cm$$.get("italic").setActive($ed$$.queryCommandState("Italic"));$cmd_rng$$=="Underline"&&$cm$$.get("underline").setActive($ed$$.queryCommandState("Underline"));$cmd_rng$$=="Strikethrough"&&$cm$$.get("strikethrough").setActive($ed$$.queryCommandState("Strikethrough"));($cmd_rng$$=="mceOutdentComplete"||
$cmd_rng$$=="mceIndentComplete")&&$cm$$.setDisabled("outdent",!$ed$$.queryCommandState("Outdent"));if($cmd_rng$$=="FontSize"&&!$ed$$.selection.isCollapsed()){$cmd_rng$$=$ed$$.selection.getRng(true);$ed$$.plugins.jiveutil.walkDOMTree($cmd_rng$$.startContainer,$cmd_rng$$.endContainer,function($node$$){if(!tinymce.isWebKit&&$node$$.style)$node$$.style.fontSize="";$node$$.nodeType==1&&($node$$.nodeName.toLowerCase()=="font"&&$node$$.getAttribute("size")!=$val$$)&&$node$$.setAttribute("size",$val$$)})}})}});
$ed$$0$$.onSetProgressState.add(function($ed$$,$b$$,$ti$$){var $co$$,$id$$=$ed$$.id,$tb$$;if($b$$)$t$$.progressTimer=setTimeout(function(){$co$$=$ed$$.getContainer();$co$$=$co$$.insertBefore($DOM$$.create("DIV",{style:"position:relative"}),$co$$.firstChild);$tb$$=$DOM$$.get($ed$$.id+"_tbl");$DOM$$.add($co$$,"div",{id:$id$$+"_blocker","class":"mceBlocker",style:{width:$tb$$.clientWidth+2,height:$tb$$.clientHeight+2}});$DOM$$.add($co$$,"div",{id:$id$$+"_progress","class":"mceProgress",style:{left:$tb$$.clientWidth/
2,top:$tb$$.clientHeight/2}})},$ti$$||0);else{$DOM$$.remove($id$$+"_blocker");$DOM$$.remove($id$$+"_progress");clearTimeout($t$$.progressTimer)}});$DOM$$.loadCSS(window.CS_RESOURCE_BASE_URL+"/"+($s$$.editor_css||"styles/tiny_mce3/themes/advanced/skins/"+$ed$$0$$.settings.skin+"/ui.css"));$s$$.ui_css&&$DOM$$.loadCSS($s$$.ui_css);$DOM$$.loadCSS(window.CS_RESOURCE_BASE_URL+"/"+($s$$.editor_css||"styles/tiny_mce3/themes/advanced/skins/"+$ed$$0$$.settings.skin+"/content.css"));$s$$.skin_variant&&$DOM$$.loadCSS($ed$$0$$.baseURI.toAbsolute($s$$.editor_css||
"themes/advanced/skins/"+$ed$$0$$.settings.skin+"/ui_"+$s$$.skin_variant+".css"))},createControl:function($n$$,$cf$$){var $c$$;if($c$$=$cf$$.createControl($n$$))return $c$$;switch($n$$){case "styleselect":return this._createStyleSelect();case "formatselect":return this._createBlockFormats();case "fontselect":return this._createFontSelect();case "fontsizeselect":return this._createFontSizeSelect();case "forecolor":return this._createForeColorMenu();case "backcolor":return this._createBackColorMenu()}if($c$$=
this.controls[$n$$])return $cf$$.createButton($n$$,{title:"advanced."+$c$$[0],cmd:$c$$[1],ui:$c$$[2],value:$c$$[3]})},execCommand:function($cmd$$,$ui$$,$val$$){return($cmd$$=this["_"+$cmd$$])?($cmd$$.call(this,$ui$$,$val$$),!0):!1},_importClasses:function(){var $ed$$=this.editor,$c$$=$ed$$.controlManager.get("styleselect");0==$c$$.getLength()&&$each$$($ed$$.dom.getClasses(),function($o$$){$c$$.add($o$$["class"],$o$$["class"])})},_createStyleSelect:function(){var $t$$=this,$ed$$0$$=$t$$.editor,$c$$=
$ed$$0$$.controlManager.createListBox("styleselect",{title:"advanced.style_select",onselect:function($v$$){if($c$$.selectedValue===$v$$)return $ed$$0$$.execCommand("mceSetStyleInfo",0,{command:"mceRemoveFullFormat"}),$c$$.select(),!1;$ed$$0$$.execCommand("mceSetCSSClass",0,$v$$)}});$c$$&&($each$$($ed$$0$$.getParam("theme_advanced_styles","","hash"),function($v$$,$k$$){$v$$&&$c$$.add($t$$.editor.translate($k$$),$v$$)}),$c$$.onPostRender.add(function($ed$$,$n$$){$Event$$.add($n$$,"focus",$t$$._importClasses,
$t$$);$Event$$.add($n$$,"mousedown",$t$$._importClasses,$t$$)}));return $c$$},_createFontSelect:function(){var $c$$,$ed$$=this.editor;($c$$=$ed$$.controlManager.createListBox("fontselect",{title:"advanced.fontdefault",cmd:"FontName"}))&&$each$$($ed$$.getParam("theme_advanced_fonts",this.settings.theme_advanced_fonts,"hash"),function($v$$,$k$$){$c$$.add($ed$$.translate($k$$),$v$$.toLowerCase(),{style:-1==$v$$.indexOf("dings")?"font-family:"+$v$$:""})});return $c$$},_createFontSizeSelect:function(){return this.editor.controlManager.createListBox("fontsizeselect",
{title:"advanced.font_size",cmd:"FontSize"})},_createBlockFormats:function(){var $c$$,$fmts$$={p:"advanced.paragraph",address:"advanced.address",pre:"advanced.pre",h1:"advanced.h1",h2:"advanced.h2",h3:"advanced.h3",h4:"advanced.h4",h5:"advanced.h5",h6:"advanced.h6",div:"advanced.div",blockquote:"advanced.blockquote",code:"advanced.code",dt:"advanced.dt",dd:"advanced.dd",samp:"advanced.samp"},$t$$=this;($c$$=$t$$.editor.controlManager.createListBox("formatselect",{title:"advanced.block",cmd:"FormatBlock"}))&&
$each$$($t$$.editor.getParam("theme_advanced_blockformats",$t$$.settings.theme_advanced_blockformats,"hash"),function($v$$,$k$$){$c$$.add($t$$.editor.translate($k$$!=$v$$?$k$$:$fmts$$[$v$$]),$v$$,{"class":"mce_formatPreview mce_"+$v$$})});return $c$$},_createForeColorMenu:function(){var $c$$,$_theme$$=this,$s$$3_v$$=$_theme$$.settings,$o$$={};$s$$3_v$$.theme_advanced_more_colors&&($o$$.more_colors_func=function $$o$$$more_colors_func$(){$_theme$$._mceColorPicker(0,{color:$c$$.value,func:function($co$$){$c$$.setColor($co$$)}})});
if($s$$3_v$$=$s$$3_v$$.theme_advanced_text_colors)$o$$.colors=$s$$3_v$$;$o$$.title="advanced.forecolor_desc";$o$$.cmd="ForeColor";$o$$.scope=this;$c$$=$_theme$$.editor.controlManager.createColorSplitButton("forecolor",$o$$);$c$$.oldSetColor=$c$$.setColor;$c$$.setColor=function $$c$$$setColor$($co$$){$_theme$$.ignoreRefreshCommand=true;this.oldSetColor($co$$);$_theme$$.ignoreRefreshCommand=false};return $c$$},_createBackColorMenu:function(){var $c$$,$_theme$$=this,$s$$4_v$$=$_theme$$.settings,$o$$=
{};$s$$4_v$$.theme_advanced_more_colors&&($o$$.more_colors_func=function $$o$$$more_colors_func$(){$_theme$$._mceColorPicker(0,{color:$c$$.value,func:function($co$$){$c$$.setColor($co$$)}})});if($s$$4_v$$=$s$$4_v$$.theme_advanced_background_colors)$o$$.colors=$s$$4_v$$;$o$$.title="advanced.backcolor_desc";$o$$.cmd="HiliteColor";$o$$.scope=this;$c$$=$_theme$$.editor.controlManager.createColorSplitButton("backcolor",$o$$);$c$$.oldSetColor=$c$$.setColor;$c$$.setColor=function $$c$$$setColor$($co$$){$_theme$$.ignoreRefreshCommand=
true;this.oldSetColor($co$$);$_theme$$.ignoreRefreshCommand=false};return $c$$},renderUI:function($o$$){var $n$$0$$,$ic$$,$tb$$,$t$$=this,$ed$$0$$=$t$$.editor,$s$$=$t$$.settings,$sc$$,$p$$,$nl$$;$n$$0$$=$p$$=$DOM$$.create("span",{id:$ed$$0$$.id+"_parent","class":"mceEditor "+$ed$$0$$.settings.skin+"Skin"+($s$$.skin_variant?" "+$ed$$0$$.settings.skin+"Skin"+$t$$._ufirst($s$$.skin_variant):"")});$DOM$$.boxModel||($n$$0$$=$DOM$$.add($n$$0$$,"div",{"class":"mceOldBoxModel"}));$n$$0$$=$sc$$=$DOM$$.add($n$$0$$,
"table",{id:$ed$$0$$.id+"_tbl","class":"mceLayout",cellSpacing:0,cellPadding:0});$n$$0$$=$tb$$=$DOM$$.add($n$$0$$,"tbody");switch(($s$$.theme_advanced_layout_manager||"").toLowerCase()){case "rowlayout":$ic$$=$t$$._rowLayout($s$$,$tb$$,$o$$);break;case "customlayout":$ic$$=$ed$$0$$.execCallback("theme_advanced_custom_layout",$s$$,$tb$$,$o$$,$p$$);break;default:$ic$$=$t$$._simpleLayout($s$$,$tb$$,$o$$,$p$$)}$n$$0$$=$o$$.targetNode;$nl$$=$DOM$$.stdMode?$sc$$.getElementsByTagName("tr"):$sc$$.rows;$DOM$$.addClass($nl$$[0],
"mceFirst");$DOM$$.addClass($nl$$[1],"mceIframeRow");$DOM$$.addClass($nl$$[$nl$$.length-1],"mceLast");$each$$($DOM$$.select("tr",$tb$$),function($n$$){$DOM$$.addClass($n$$.firstChild,"mceFirst");$DOM$$.addClass($n$$.childNodes[$n$$.childNodes.length-1],"mceLast")});$DOM$$.get($s$$.theme_advanced_toolbar_container)?$DOM$$.get($s$$.theme_advanced_toolbar_container).appendChild($p$$):$DOM$$.insertAfter($p$$,$n$$0$$);$Event$$.add($ed$$0$$.id+"_path_row","click",function($e$$){$e$$=$e$$.target;if("A"==
$e$$.nodeName)return $t$$._sel($e$$.className.replace(/^.*mcePath_([0-9]+).*$/,"$1")),$Event$$.cancel($e$$)});(!$ed$$0$$.getParam("accessibility_focus")||$ed$$0$$.getParam("tab_focus"))&&$Event$$.add($DOM$$.add($p$$,"a",{href:"#"},"<\!-- IE --\>"),"focus",function(){tinyMCE.get($ed$$0$$.id).focus()});"external"==$s$$.theme_advanced_toolbar_location&&($o$$.deltaHeight=0);$t$$.deltaHeight=$o$$.deltaHeight;$o$$.targetNode=null;$ed$$0$$.onKeyDown.add(function($ed$$,$evt$$){if($evt$$.altKey&&$evt$$.keyCode===
121){tinymce.isWebKit&&window.focus();$t$$.toolbarGroup.focus();return $Event$$.cancel($evt$$)}});$ed$$0$$.addShortcut("alt+q","Jump to Toolbar",function(){tinymce.isWebKit&&window.focus();$t$$.toolbarGroup.focus()});return{iframeContainer:$ic$$,editorContainer:$ed$$0$$.id+"_parent",sizeContainer:$sc$$,deltaHeight:$o$$.deltaHeight}},getInfo:function(){return{longname:"Advanced theme",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",version:tinymce.majorVersion+"."+tinymce.minorVersion}},
resizeBy:function($dw$$,$dh$$){var $e$$=$DOM$$.get(this.editor.id+"_tbl");this.resizeTo($e$$.clientWidth+$dw$$,$e$$.clientHeight+$dh$$)},resizeTo:function($w$$,$h$$){var $ed$$=this.editor,$s$$=$ed$$.settings,$e$$=$DOM$$.get($ed$$.id+"_tbl"),$ed$$=$DOM$$.get($ed$$.id+"_ifr"),$w$$=Math.max($s$$.theme_advanced_resizing_min_width||100,$w$$),$h$$=Math.max($s$$.theme_advanced_resizing_min_height||100,$h$$),$w$$=Math.min($s$$.theme_advanced_resizing_max_width||65535,$w$$),$h$$=Math.min($s$$.theme_advanced_resizing_max_height||
65535,$h$$);$DOM$$.setStyle($ed$$,"height",$h$$-($e$$.clientHeight-$ed$$.clientHeight));$DOM$$.setStyles($e$$,{width:$w$$,height:$h$$})},destroy:function(){var $id$$=this.editor.id;$Event$$.clear($id$$+"_resize");$Event$$.clear($id$$+"_path_row");$Event$$.clear($id$$+"_external_close")},_simpleLayout:function($s$$,$tb$$,$o$$,$ic$$1_p$$){var $ed$$=this.editor,$lo$$=$s$$.theme_advanced_toolbar_location,$s$$=$s$$.theme_advanced_statusbar_location,$etb_n$$,$c$$;"top"==$lo$$&&this._addToolbars($tb$$,$o$$);
"external"==$lo$$&&($etb_n$$=$c$$=$DOM$$.create("div",{style:"position:relative"}),$etb_n$$=$DOM$$.add($etb_n$$,"div",{id:$ed$$.id+"_external","class":"mceExternalToolbar"}),$DOM$$.add($etb_n$$,"a",{id:$ed$$.id+"_external_close",href:"javascript:;","class":"mceExternalClose"}),$etb_n$$=$DOM$$.add($etb_n$$,"table",{id:$ed$$.id+"_tblext",cellSpacing:0,cellPadding:0}),$etb_n$$=$DOM$$.add($etb_n$$,"tbody"),"mceOldBoxModel"==$ic$$1_p$$.firstChild.className?$ic$$1_p$$.firstChild.appendChild($c$$):$ic$$1_p$$.insertBefore($c$$,
$ic$$1_p$$.firstChild),this._addToolbars($etb_n$$,$o$$),$ed$$.onMouseUp.add(function(){var $e$$=$DOM$$.get($ed$$.id+"_external");$DOM$$.show($e$$);$DOM$$.hide($lastExtID$$);var $f$$=$Event$$.add($ed$$.id+"_external_close","click",function(){$DOM$$.hide($ed$$.id+"_external");$Event$$.remove($ed$$.id+"_external_close","click",$f$$)});$DOM$$.show($e$$);$DOM$$.setStyle($e$$,"top",0-$DOM$$.getRect($ed$$.id+"_tblext").h-1);$DOM$$.hide($e$$);$DOM$$.show($e$$);$e$$.style.filter="";$lastExtID$$=$ed$$.id+"_external";
$e$$=null}));"top"==$s$$&&this._addStatusBar($tb$$,$o$$);$etb_n$$=$DOM$$.add($tb$$,"tr");$etb_n$$=$ic$$1_p$$=$DOM$$.add($etb_n$$,"td",{"class":"mceIframeContainer"});"bottom"==$lo$$&&this._addToolbars($tb$$,$o$$);"bottom"==$s$$&&this._addStatusBar($tb$$,$o$$);return $ic$$1_p$$},_rowLayout:function($s$$,$tb$$,$o$$){var $t$$=this,$dc$$,$da$$,$cf$$=$t$$.editor.controlManager,$n$$,$ic$$,$to$$,$a$$;$dc$$=$s$$.theme_advanced_containers_default_class||"";$da$$=$s$$.theme_advanced_containers_default_align||
"center";$each$$($explode$$($s$$.theme_advanced_containers||""),function($c$$,$i$$){var $v$$=$s$$["theme_advanced_container_"+$c$$]||"";switch($c$$.toLowerCase()){case "mceeditor":$n$$=$DOM$$.add($tb$$,"tr");$n$$=$ic$$=$DOM$$.add($n$$,"td",{"class":"mceIframeContainer"});break;case "mceelementpath":$t$$._addStatusBar($tb$$,$o$$);break;default:$a$$=$s$$["theme_advanced_container_"+$c$$+"_align"].toLowerCase(),$a$$="mce"+$t$$._ufirst($a$$),$n$$=$DOM$$.add($DOM$$.add($tb$$,"tr"),"td",{"class":"mceToolbar "+
($s$$["theme_advanced_container_"+$c$$+"_class"]||$dc$$)+" "+$a$$||$da$$}),$to$$=$cf$$.createToolbar("toolbar"+$i$$),$t$$._addControls($v$$,$to$$),$DOM$$.setHTML($n$$,$to$$.renderHTML()),$o$$.deltaHeight-=$s$$.theme_advanced_row_height}});return $ic$$},_addControls:function($v$$0$$,$tb$$){var $t$$=this,$s$$=$t$$.settings,$di$$,$cf$$=$t$$.editor.controlManager;$s$$.theme_advanced_disable&&!$t$$._disabled?($di$$={},$each$$($explode$$($s$$.theme_advanced_disable),function($v$$){$di$$[$v$$]=1}),$t$$._disabled=
$di$$):$di$$=$t$$._disabled;$each$$($explode$$($v$$0$$),function($c$$11_n$$){if(!$di$$||!$di$$[$c$$11_n$$])if($c$$11_n$$=="tablecontrols")$each$$(["table","delete_table","|","row_props","cell_props","|","row_before","row_after","delete_row","|","col_before","col_after","delete_col","|","row_up","row_down","col_left","col_right","|","split_cells","merge_cells"],function($n$$){($n$$=$t$$.createControl($n$$,$cf$$))&&$tb$$.add($n$$)});else($c$$11_n$$=$t$$.createControl($c$$11_n$$,$cf$$))&&$tb$$.add($c$$11_n$$)})},
_addToolbars:function($c$$,$o$$){var $a$$1_i$$,$tb$$,$ed$$=this.editor,$s$$=this.settings,$v$$,$cf$$=$ed$$.controlManager,$n$$,$h$$=[],$toolbarGroup$$;this.toolbarGroup=$toolbarGroup$$=$cf$$.createToolbarGroup("toolbargroup",{name:$ed$$.getLang("advanced.toolbar"),tab_focus_toolbar:$ed$$.getParam("theme_advanced_tab_focus_toolbar")});$a$$1_i$$=$s$$.theme_advanced_toolbar_align.toLowerCase();$a$$1_i$$="mce"+this._ufirst($a$$1_i$$);$n$$=$DOM$$.add($DOM$$.add($c$$,"tr"),"td",{"class":"mceToolbar "+$a$$1_i$$});
(!$ed$$.getParam("accessibility_focus")||$ed$$.getParam("tab_focus"))&&$h$$.push($DOM$$.createHTML("a",{href:"#",onfocus:"tinyMCE.get('"+$ed$$.id+"').focus();"},"<\!-- IE --\>"));$h$$.push($DOM$$.createHTML("a",{href:"#",title:$ed$$.getLang("advanced.toolbar_focus"),onclick:"this.focus(); return false;","class":"js-toolbarFocus",tabindex:"-1"},"<\!-- IE --\>"));for($a$$1_i$$=1;$v$$=$s$$["theme_advanced_buttons"+$a$$1_i$$];$a$$1_i$$++)$tb$$=$cf$$.createToolbar("toolbar"+$a$$1_i$$,{"class":"mceToolbarRow"+
$a$$1_i$$}),$s$$["theme_advanced_buttons"+$a$$1_i$$+"_add"]&&($v$$+=","+$s$$["theme_advanced_buttons"+$a$$1_i$$+"_add"]),$s$$["theme_advanced_buttons"+$a$$1_i$$+"_add_before"]&&($v$$=$s$$["theme_advanced_buttons"+$a$$1_i$$+"_add_before"]+","+$v$$),this._addControls($v$$,$tb$$),$toolbarGroup$$.add($tb$$),$o$$.deltaHeight-=$s$$.theme_advanced_row_height;$h$$.push($toolbarGroup$$.renderHTML());$h$$.push($DOM$$.createHTML("a",{href:"#",accesskey:"z",title:$ed$$.getLang("advanced.toolbar_focus"),onfocus:"tinyMCE.getInstanceById('"+
$ed$$.id+"').focus();",tabindex:"-1"},"<\!-- IE --\>"));$n$$.innerHTML=$h$$.join("")},_addStatusBar:function($tb$$,$o$$0$$){var $JSCompiler_object_inline_x_0$$,$JSCompiler_object_inline_y_1$$,$JSCompiler_object_inline_w_2$$,$JSCompiler_object_inline_h_3$$,$JSCompiler_object_inline_dx_4$$,$JSCompiler_object_inline_dy_5$$,$n$$,$t$$=this,$ed$$=$t$$.editor,$s$$=$t$$.settings,$mf$$,$me$$,$td$$;$n$$=$DOM$$.add($tb$$,"tr");$n$$=$td$$=$DOM$$.add($n$$,"td",{"class":"mceStatusbar"});$n$$=$DOM$$.add($n$$,"div",
{id:$ed$$.id+"_path_row"});$DOM$$.add($n$$,"a",{href:"#",accesskey:"x"});$s$$.theme_advanced_resizing&&!tinymce.isOldWebKit&&($DOM$$.add($td$$,"a",{id:$ed$$.id+"_resize",href:"javascript:;",onclick:"return false;","class":"mceResize",tabindex:"-1"}),$s$$.theme_advanced_resizing_use_cookie&&$ed$$.onPostRender.add(function(){var $o$$=$Cookie$$.getHash("TinyMCE_"+$ed$$.id+"_size"),$c$$=$DOM$$.get($ed$$.id+"_tbl");$o$$&&($s$$.theme_advanced_resize_horizontal&&($c$$.style.width=Math.max(10,$o$$.cw)+"px"),
$c$$.style.height=Math.max(10,$o$$.ch)+"px",$DOM$$.get($ed$$.id+"_ifr").style.height=Math.max(10,parseInt($o$$.ch)+$t$$.deltaHeight)+"px")}),$ed$$.onPostRender.add(function(){$Event$$.add($ed$$.id+"_resize","mousedown",function($e$$0$$){var $c$$,$p$$,$w$$0$$,$h$$0$$;$c$$=$DOM$$.get($ed$$.id+"_tbl");$w$$0$$=$c$$.clientWidth;$h$$0$$=$c$$.clientHeight;miw=$s$$.theme_advanced_resizing_min_width||100;mih=$s$$.theme_advanced_resizing_min_height||100;maw=$s$$.theme_advanced_resizing_max_width||65535;mah=
$s$$.theme_advanced_resizing_max_height||65535;$p$$=$DOM$$.add($DOM$$.get($ed$$.id+"_parent"),"div",{"class":"mcePlaceHolder"});$DOM$$.setStyles($p$$,{width:$w$$0$$,height:$h$$0$$});$DOM$$.hide($c$$);$DOM$$.show($p$$);$JSCompiler_object_inline_x_0$$=$e$$0$$.screenX;$JSCompiler_object_inline_y_1$$=$e$$0$$.screenY;$JSCompiler_object_inline_w_2$$=$w$$0$$;$JSCompiler_object_inline_h_3$$=$h$$0$$;$JSCompiler_object_inline_dy_5$$=$JSCompiler_object_inline_dx_4$$=null;$mf$$=$Event$$.add($DOM$$.doc,"mousemove",
function($e$$){var $w$$,$h$$;$JSCompiler_object_inline_dx_4$$=$e$$.screenX-$JSCompiler_object_inline_x_0$$;$JSCompiler_object_inline_dy_5$$=$e$$.screenY-$JSCompiler_object_inline_y_1$$;$w$$=Math.max(miw,$JSCompiler_object_inline_w_2$$+$JSCompiler_object_inline_dx_4$$);$h$$=Math.max(mih,$JSCompiler_object_inline_h_3$$+$JSCompiler_object_inline_dy_5$$);$w$$=Math.min(maw,$w$$);$h$$=Math.min(mah,$h$$);$s$$.theme_advanced_resize_horizontal&&($p$$.style.width=$w$$+"px");$p$$.style.height=$h$$+"px";return $Event$$.cancel($e$$)});
$me$$=$Event$$.add($DOM$$.doc,"mouseup",function(){var $ifr$$;$Event$$.remove($DOM$$.doc,"mousemove",$mf$$);$Event$$.remove($DOM$$.doc,"mouseup",$me$$);$c$$.style.display="";$DOM$$.remove($p$$);null!==$JSCompiler_object_inline_dx_4$$&&($ifr$$=$DOM$$.get($ed$$.id+"_ifr"),$s$$.theme_advanced_resize_horizontal&&($c$$.style.width=Math.max(10,$JSCompiler_object_inline_w_2$$+$JSCompiler_object_inline_dx_4$$)+"px"),$c$$.style.height=Math.max(10,$JSCompiler_object_inline_h_3$$+$JSCompiler_object_inline_dy_5$$)+
"px",$ifr$$.style.height=Math.max(10,$ifr$$.clientHeight+$JSCompiler_object_inline_dy_5$$)+"px",$s$$.theme_advanced_resizing_use_cookie&&$Cookie$$.setHash("TinyMCE_"+$ed$$.id+"_size",{cw:$JSCompiler_object_inline_w_2$$+$JSCompiler_object_inline_dx_4$$,ch:$JSCompiler_object_inline_h_3$$+$JSCompiler_object_inline_dy_5$$}),$ed$$.theme.onResize.dispatch($ed$$.theme,!0))});return $Event$$.cancel($e$$0$$)})}));$o$$0$$.deltaHeight-=21;$n$$=$tb$$=null},_getCurrentNode:function($ed$$){var $node$$=$ed$$.selection.getNode();
return null==$node$$||$node$$==$ed$$.getDoc()?0<$ed$$.getBody().childNodes.length?$ed$$.getBody().childNodes[0]:null:$node$$},ignoreRefreshCommand:!1,_refreshFontColor:function($color$$2_computedStyle_node$$){if(!this.ignoreRefreshCommand){var $ed$$=tinyMCE.activeEditor,$preview$$=$j('[id="'+$ed$$.id+'_forecolor_preview"]',$ed$$.getContainer());0<$preview$$.length&&("function"!=typeof $color$$2_computedStyle_node$$?($color$$2_computedStyle_node$$=this._getCurrentNode($ed$$),$color$$2_computedStyle_node$$=
jive.ext.x.xGetCS($color$$2_computedStyle_node$$,"color")):$color$$2_computedStyle_node$$=$color$$2_computedStyle_node$$("color"),$preview$$.css("background-color",$color$$2_computedStyle_node$$),$ed$$.controlManager.get("forecolor").value=$color$$2_computedStyle_node$$)}},_refreshFont:function($computedStyle$$1_node$$){var $ed$$=tinyMCE.activeEditor,$c$$=$ed$$.controlManager.get("fontselect"),$font$$;if($c$$)if("function"!=typeof $computedStyle$$1_node$$?($computedStyle$$1_node$$=this._getCurrentNode($ed$$),
$font$$=jive.ext.x.xGetCS($computedStyle$$1_node$$,"font-family")):$font$$=$computedStyle$$1_node$$("font-family").replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase(),0<=$font$$.indexOf(","))$c$$.select($font$$.toLowerCase());else{var $done$$=!1;$each$$($ed$$.getParam("theme_advanced_fonts",this.settings.theme_advanced_fonts,"hash"),function($v$$){if(!$done$$){var $values$$=$v$$.split(",");if($j.inArray($font$$,$values$$)==0){$done$$=true;$c$$.select($v$$.toLowerCase())}}});$done$$||$each$$($ed$$.getParam("theme_advanced_fonts",
this.settings.theme_advanced_fonts,"hash"),function($v$$){if(!$done$$){var $values$$=$v$$.split(",");if($j.inArray($font$$,$values$$)>=0){$done$$=true;$c$$.select($v$$.toLowerCase())}}})}},_refreshFontSize:function($computedStyle$$2_index$$43_node$$9_size$$){var $ed$$=tinyMCE.activeEditor,$c$$=$ed$$.controlManager.get("fontsizeselect");$c$$&&("function"!=typeof $computedStyle$$2_index$$43_node$$9_size$$?($computedStyle$$2_index$$43_node$$9_size$$=this._getCurrentNode($ed$$),$computedStyle$$2_index$$43_node$$9_size$$=
jive.ext.x.xGetCS($computedStyle$$2_index$$43_node$$9_size$$,"font-size")):$computedStyle$$2_index$$43_node$$9_size$$=$computedStyle$$2_index$$43_node$$9_size$$("font-size"),$computedStyle$$2_index$$43_node$$9_size$$=tinyMCE.inArray($c$$.computed,$computedStyle$$2_index$$43_node$$9_size$$),$c$$.select($computedStyle$$2_index$$43_node$$9_size$$+1))},_keyDown:function(){},_nodeChanged:function($ed$$,$cm$$,$n$$0$$,$co$$5_computedStyle$$){var $t$$=this,$p$$,$de$$=0,$v$$,$c$$17_node$$,$s$$=$t$$.settings;
tinymce.each($t$$.stateControls,function($c$$){$cm$$.setActive($c$$,$ed$$.queryCommandState($t$$.controls[$c$$][1]))});$cm$$.setActive("visualaid",$ed$$.hasVisual);$cm$$.setDisabled("undo",!$ed$$.undoManager.hasUndo()&&!$ed$$.typing);$cm$$.setDisabled("redo",!$ed$$.undoManager.hasRedo());$cm$$.setDisabled("outdent",!$ed$$.queryCommandState("Outdent"));$p$$=$DOM$$.getParent($n$$0$$,"A");if($c$$17_node$$=$cm$$.get("link"))if(!$p$$||!$p$$.name)$c$$17_node$$.setDisabled(!$p$$&&$co$$5_computedStyle$$),
$c$$17_node$$.setActive(!!$p$$);if($c$$17_node$$=$cm$$.get("unlink"))$c$$17_node$$.setDisabled(!$p$$&&$co$$5_computedStyle$$),$c$$17_node$$.setActive(!!$p$$&&!$p$$.name);if($c$$17_node$$=$cm$$.get("anchor"))$c$$17_node$$.setActive(!!$p$$&&$p$$.name),tinymce.isWebKit&&($p$$=$DOM$$.getParent($n$$0$$,"IMG"),$c$$17_node$$.setActive(!!$p$$&&"a"==$DOM$$.getAttrib($p$$,"_mce_name")));$p$$=$DOM$$.getParent($n$$0$$,"IMG");($c$$17_node$$=$cm$$.get("image"))&&$c$$17_node$$.setActive(!!$p$$&&-1==$n$$0$$.className.indexOf("mceItem"));
if($c$$17_node$$=$cm$$.get("styleselect"))$n$$0$$.className?($t$$._importClasses(),$c$$17_node$$.select($n$$0$$.className)):$c$$17_node$$.select();if($c$$17_node$$=$cm$$.get("formatselect"))($p$$=$DOM$$.getParent($n$$0$$,$DOM$$.isBlock))&&$c$$17_node$$.select($p$$.nodeName.toLowerCase());$c$$17_node$$=this._getCurrentNode($ed$$);$co$$5_computedStyle$$=jive.ext.x.xGetCSFunc($c$$17_node$$);if($c$$17_node$$=$cm$$.get("fontselect"))$c$$17_node$$.select($ed$$.queryCommandValue("FontName")),this._refreshFont($co$$5_computedStyle$$);
($c$$17_node$$=$cm$$.get("forecolor"))&&this._refreshFontColor($co$$5_computedStyle$$);($c$$17_node$$=$cm$$.get("fontsizeselect"))&&this._refreshFontSize($co$$5_computedStyle$$);$s$$.theme_advanced_path&&$s$$.theme_advanced_statusbar_location&&($p$$=$DOM$$.get($ed$$.id+"_path")||$DOM$$.add($ed$$.id+"_path_row","span",{id:$ed$$.id+"_path"}),$DOM$$.setHTML($p$$,""),$ed$$.dom.getParent($n$$0$$,function($n$$){var $na$$=$n$$.nodeName.toLowerCase(),$ti$$="";if(!(1!=$n$$.nodeType||$DOM$$.hasClass($n$$,"mceItemHidden")||
$DOM$$.hasClass($n$$,"mceItemRemoved"))){if($v$$=$DOM$$.getAttrib($n$$,"_mce_name"))$na$$=$v$$;tinymce.isIE&&"HTML"!==$n$$.scopeName&&($na$$=$n$$.scopeName+":"+$na$$);$na$$=$na$$.replace(/mce\:/g,"");switch($na$$){case "b":$na$$="strong";break;case "i":$na$$="em";break;case "img":if($v$$=$DOM$$.getAttrib($n$$,"src"))$ti$$+="src: "+$v$$+" ";break;case "a":if($v$$=$DOM$$.getAttrib($n$$,"name"))$ti$$+="name: "+$v$$+" ",$na$$+="#"+$v$$;if($v$$=$DOM$$.getAttrib($n$$,"href"))$ti$$+="href: "+$v$$+" ";break;
case "font":$s$$.convert_fonts_to_spans&&($na$$="span");if($v$$=$DOM$$.getAttrib($n$$,"face"))$ti$$+="font: "+$v$$+" ";if($v$$=$DOM$$.getAttrib($n$$,"size"))$ti$$+="size: "+$v$$+" ";if($v$$=$DOM$$.getAttrib($n$$,"color"))$ti$$+="color: "+$v$$+" ";break;case "span":if($v$$=$DOM$$.getAttrib($n$$,"style"))$ti$$+="style: "+$v$$+" "}if($v$$=$DOM$$.getAttrib($n$$,"id"))$ti$$+="id: "+$v$$+" ";if($v$$=$n$$.className)if(($v$$=$v$$.replace(/(webkit-[\w\-]+|Apple-[\w\-]+|mceItem\w+|mceVisualAid)/g,""))&&-1==
$v$$.indexOf("mceItem"))if($ti$$+="class: "+$v$$+" ",$DOM$$.isBlock($n$$)||"img"==$na$$||"span"==$na$$)$na$$+="."+$v$$;$na$$=$na$$.replace(/(html:)/g,"");$na$$={name:$na$$,node:$n$$,title:$ti$$};$t$$.onResolveName.dispatch($t$$,$na$$);$ti$$=$na$$.title;$na$$=$na$$.name;$n$$=$DOM$$.create("a",{href:"javascript:;",onmousedown:"return false;",title:$ti$$,"class":"mcePath_"+$de$$++},$na$$);$p$$.hasChildNodes()?($p$$.insertBefore($DOM$$.doc.createTextNode(" \u00bb "),$p$$.firstChild),$p$$.insertBefore($n$$,
$p$$.firstChild)):$p$$.appendChild($n$$)}},$ed$$.getBody()));this.prepForReturn=!1},_sel:function($v$$){this.editor.execCommand("mceSelectNodeDepth",!1,$v$$)},_mceInsertAnchor:function(){var $ed$$=this.editor;$ed$$.windowManager.open({url:tinymce.baseURL+"/themes/advanced/anchor.htm",width:320+parseInt($ed$$.getLang("advanced.anchor_delta_width",0)),height:90+parseInt($ed$$.getLang("advanced.anchor_delta_height",0)),inline:!0},{theme_url:this.url})},_mceCharMap:function(){var $ed$$=this.editor;$ed$$.windowManager.open({url:tinymce.baseURL+
"/themes/advanced/charmap.htm",width:550+parseInt($ed$$.getLang("advanced.charmap_delta_width",0)),height:250+parseInt($ed$$.getLang("advanced.charmap_delta_height",0)),inline:!0},{theme_url:this.url})},_mceHelp:function(){this.editor.windowManager.open({url:tinymce.baseURL+"/themes/advanced/about.htm",width:480,height:380,inline:!0},{theme_url:this.url})},_mceColorPicker:function($u$$,$v$$){var $ed$$=this.editor,$v$$=$v$$||{};$ed$$.windowManager.open({url:tinymce.baseURL+"/themes/advanced/color_picker.htm",
width:385+parseInt($ed$$.getLang("advanced.colorpicker_delta_width",0)),height:260+parseInt($ed$$.getLang("advanced.colorpicker_delta_height",0)),close_previous:!1,inline:!0},{input_color:$v$$.color,func:$v$$.func,theme_url:this.url,cs_resource_base_url:CS_RESOURCE_BASE_URL})},_mceCodeEditor:function(){var $ed$$=this.editor;$ed$$.windowManager.open({url:tinymce.baseURL+"/themes/advanced/source_editor.htm",width:parseInt($ed$$.getParam("theme_advanced_source_editor_width",720)),height:parseInt($ed$$.getParam("theme_advanced_source_editor_height",
580)),inline:!0,resizable:!0,maximizable:!0},{theme_url:this.url})},_mceImage:function(){var $ed$$=this.editor;-1==$ed$$.dom.getAttrib($ed$$.selection.getNode(),"class").indexOf("mceItem")&&$ed$$.windowManager.open({url:tinymce.baseURL+"/themes/advanced/image.htm",width:355+parseInt($ed$$.getLang("advanced.image_delta_width",0)),height:275+parseInt($ed$$.getLang("advanced.image_delta_height",0)),inline:!0},{theme_url:this.url})},_mceLink:function(){var $ed$$=this.editor;$ed$$.windowManager.open({url:tinymce.baseURL+
"/themes/advanced/link.htm",width:310+parseInt($ed$$.getLang("advanced.link_delta_width",0)),height:200+parseInt($ed$$.getLang("advanced.link_delta_height",0)),inline:!0},{theme_url:this.url})},_mceNewDocument:function(){var $ed$$=this.editor;$ed$$.windowManager.confirm("advanced.newdocument",function($s$$){$s$$&&$ed$$.execCommand("mceSetContent",!1,"")})},_mceForeColor:function(){var $t$$=this;this._mceColorPicker(0,{color:$t$$.fgColor,func:function($co$$){$t$$.fgColor=$co$$;$t$$.editor.execCommand("ForeColor",
!1,$co$$)}})},_mceBackColor:function(){var $t$$=this;this._mceColorPicker(0,{color:$t$$.bgColor,func:function($co$$){$t$$.bgColor=$co$$;$t$$.editor.execCommand("HiliteColor",!1,$co$$)}})},_ufirst:function($s$$){return $s$$.substring(0,1).toUpperCase()+$s$$.substring(1)}});tinymce.ThemeManager.add("advanced",tinymce.themes.AdvancedTheme)}();
;
tinyMCE.addI18n("en.advanced",{style_select:"Styles",font_size:"Font size",fontdefault:"Font family",block:"Format",paragraph:"Paragraph",div:"Div",address:"Address",pre:"Preformatted",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",blockquote:"Blockquote",code:"Code",samp:"Code sample",dt:"Definition term ",dd:"Definition description",bold_desc:"Bold (Ctrl+B)",italic_desc:"Italic (Ctrl+I)",underline_desc:"Underline (Ctrl+U)",striketrough_desc:"Strikethrough",justifyleft_desc:"Align left",justifycenter_desc:"Align center",justifyright_desc:"Align right",justifyfull_desc:"Align full",bullist_desc:"Unordered list",numlist_desc:"Ordered list",outdent_desc:"Outdent",indent_desc:"Indent",undo_desc:"Undo (Ctrl+Z)",redo_desc:"Redo (Ctrl+Y)",link_desc:"Insert/edit link",unlink_desc:"Unlink",image_desc:"Insert/edit image",cleanup_desc:"Cleanup messy code",code_desc:"Edit HTML Source",sub_desc:"Subscript",sup_desc:"Superscript",hr_desc:"Insert horizontal ruler",removeformat_desc:"Remove formatting",custom1_desc:"Your custom description here",forecolor_desc:"Select text color",backcolor_desc:"Select background color",charmap_desc:"Insert custom character",visualaid_desc:"Toggle guidelines/invisible elements",anchor_desc:"Insert/edit anchor",cut_desc:"Cut",copy_desc:"Copy",paste_desc:"Paste",image_props_desc:"Image properties",newdocument_desc:"New document",help_desc:"Help",blockquote_desc:"Blockquote",clipboard_msg:"Copy/Cut/Paste is not available in Mozilla and Firefox.\r\nDo you want more information about this issue?",path:"Path",newdocument:"Are you sure you want clear all contents?",toolbar_focus:"Jump to tool buttons - Alt+Q, Jump to editor - Alt-Z",more_colors:"More colors"});
;
tinyMCE.addI18n('en.advanced',{
    style_select: "Styles",
    font_size: "Font size",
    fontdefault: "Font family",
    block: "Format",
    paragraph: "Paragraph",
    div: "Div",
    address: "Address",
    pre: "Preformatted",
    h1: "Heading 1",
    h2: "Heading 2",
    h3: "Heading 3",
    h4: "Heading 4",
    h5: "Heading 5",
    h6: "Heading 6",
    blockquote: "Blockquote",
    code: "Code",
    samp: "Code sample",
    dt: "Definition term",
    dd: "Definition description",
    bold_desc: "Bold (Ctrl+B)",
    italic_desc: "Italic (Ctrl+I)",
    underline_desc: "Underline (Ctrl+U)",
    striketrough_desc: "Strikethrough",
    justifyleft_desc: "Align left",
    justifycenter_desc: "Align center",
    justifyright_desc: "Align right",
    justifyfull_desc: "Align full",
    bullist_desc: "Unordered list",
    numlist_desc: "Ordered list",
    outdent_desc: "Outdent",
    indent_desc: "Indent",
    undo_desc: "Undo (Ctrl+Z)",
    redo_desc: "Redo (Ctrl+Y)",
    link_desc: "Insert/edit link",
    unlink_desc: "Unlink",
    image_desc: "Insert/edit image",
    cleanup_desc: "Cleanup messy code",
    code_desc: "Edit HTML Source",
    sub_desc: "Subscript",
    sup_desc: "Superscript",
    hr_desc: "Insert horizontal ruler",
    removeformat_desc: "Remove formatting",
    custom1_desc: "Your custom description here",
    forecolor_desc: "Select text color",
    backcolor_desc: "Select background color",
    charmap_desc: "Insert custom character",
    visualaid_desc: "Toggle guidelines/invisible elements",
    anchor_desc: "Insert/edit anchor",
    cut_desc: "Cut",
    copy_desc: "Copy",
    paste_desc: "Paste",
    image_props_desc: "Image properties",
    newdocument_desc: "New document",
    help_desc: "Help",
    blockquote_desc: "Blockquote",
    clipboard_msg: "Copy/Cut/Paste is not available in Mozilla and Firefox.\r\nDo you want more information about this issue?",
    path: "Path",
    newdocument: "Are you sure you want clear all contents?",
    toolbar_focus: "Jump to tool buttons - Alt+Q",
    more_colors: "More colors",

    spellchecker_desc: "Check Spelling",
    insert_image_desc: "Insert image",
    edit_image_desc: "Edit image",

    colorpicker_apply:"Apply",
    colorpicker_color:"Color",
    colorpicker_picker_tab:"Picker",
    colorpicker_palette_tab:"Palette",
    colorpicker_named_tab:"Named",
    colorpicker_name:"Name",
    colorpicker_picker_title:"Color picker",
    colorpicker_palette_title:"Palette colors",
    colorpicker_named_title:"Named colors"
});
;
tinyMCE.addI18n("en.advanced_dlg",{about_title:"About TinyMCE",about_general:"About",about_help:"Help",about_license:"License",about_plugins:"Plugins",about_plugin:"Plugin",about_author:"Author",about_version:"Version",about_loaded:"Loaded plugins",anchor_title:"Insert/edit anchor",anchor_name:"Anchor name",code_title:"HTML Source Editor",code_wordwrap:"Word wrap",colorpicker_title:"Select a color",colorpicker_picker_tab:"Picker",colorpicker_picker_title:"Color picker",colorpicker_palette_tab:"Palette",colorpicker_palette_title:"Palette colors",colorpicker_named_tab:"Named",colorpicker_named_title:"Named colors",colorpicker_color:"Color:",colorpicker_name:"Name:",charmap_title:"Select custom character",image_title:"Insert/edit image",image_src:"Image URL",image_alt:"Image description",image_list:"Image list",image_border:"Border",image_dimensions:"Dimensions",image_vspace:"Vertical space",image_hspace:"Horizontal space",image_align:"Alignment",image_align_baseline:"Baseline",image_align_top:"Top",image_align_middle:"Middle",image_align_bottom:"Bottom",image_align_texttop:"Text top",image_align_textbottom:"Text bottom",image_align_left:"Left",image_align_right:"Right",link_title:"Insert/edit link",link_url:"Link URL",link_target:"Target",link_target_same:"Open link in the same window",link_target_blank:"Open link in a new window",link_titlefield:"Title",link_is_email:"The URL you entered seems to be an email address, do you want to add the required mailto: prefix?",link_is_external:"The URL you entered seems to external link, do you want to add the required http:// prefix?",link_list:"Link list"});
;
if(typeof(jive)!="undefined"){jive.rte.plugin.code=function(f,a,g,m,b,n,e,k,i){var j=this;var h=$j("<span style='height:12px;width:1px;background-color:black;position:absolute;top:0px;'></span>");function c(o,p){while(p.parentNode){if(p.parentNode==o){return true}p=p.parentNode}return false}setInterval(function(){if(h.parents("body").length>0){if(h.is(":visible")){h.hide()}else{h.show()}}},500);var l=null;e=[{name:"__default_attr",value:"plain"}];this.getName=function(){return f};this.getUrl=function(){return a};this.isButton=function(){return i};this.isEnabled=function(){return k};this.isShowSettings=function(){return m};this.isShowInMacroList=function(){return b};this.getMacroType=function(){return g};this.getParameterSets=function(){var r=new Array();r.push({name:"html",deleteAll:true,params:[{name:"__default_attr",value:"html"}]});r.push({name:"xml",deleteAll:false,params:[{name:"__default_attr",value:"xml"}]});r.push({name:"sql",deleteAll:false,params:[{name:"__default_attr",value:"sql"}]});r.push({name:"java",deleteAll:false,params:[{name:"__default_attr",value:"java"}]});r.push({name:"plain",deleteAll:false,params:[{name:"__default_attr",value:"plain"}]});r.push({name:"c++",deleteAll:false,params:[{name:"__default_attr",value:"c++"}]});r.push({name:"c#",deleteAll:false,params:[{name:"__default_attr",value:"c#"}]});r.push({name:"css",deleteAll:false,params:[{name:"__default_attr",value:"css"}]});r.push({name:"javascript",deleteAll:false,params:[{name:"__default_attr",value:"javascript"}]});r.push({name:"php",deleteAll:false,params:[{name:"__default_attr",value:"php"}]});r.push({name:"python",deleteAll:false,params:[{name:"__default_attr",value:"python"}]});r.push({name:"ruby",deleteAll:false,params:[{name:"__default_attr",value:"ruby"}]});var q=new Array();for(var o=0;o<r.length;o++){var p=new jive.rte.ParamSet();p.name=r[o].name;p.deleteAll=r[o].deleteAll;p.params=r[o].params;q.push(p)}return q};this.getAllowedParameters=function(){return e};this.usesCustomBackground=function(){return true};this.updateCursor=function(p,E,x){if(l!=p.selection()||h.parents("body").length==0){var r=l=p.selection();if(r&&r.collapsed){var q=r.startContainer;if(q){var y=r.startOffset;if(q.nodeType!=3){y=0;for(var u=0;u<r.startOffset&&u<q.childNodes.length;u++){y+=$j(q.childNodes[u]).text().length}}else{while(q.previousSibling){y+=$j(q.previousSibling).text().length;q=q.previousSibling}}var C=$j(q.nodeType==3?q.parentNode:q);C=C.parents().andSelf().filter("p:first");if(c(E,q)){h.show();h.height(C.height());var D=0;while(C.prev().length){C=C.prev();D++}x.data("line",D);x.data("offset",y);var A=x.find("li:nth("+D+") span:first");A.prepend(h.remove());if(A.length==0){return}if(A.contents().length==1){h.css({left:0})}else{var s=A.get(0).childNodes[1];var t=0;var o=null;while(t<y){if(s.nodeType!=3){if(t+$j(s).text().length<y){t+=$j(s).text().length;if(s.nextSibling){s=s.nextSibling}else{var B=document.createElement("span");s.parentNode.insertBefore(B,s);s.parentNode.insertBefore(s,B);s=B;o=B;break}}else{if(s.childNodes.length==0){break}else{s=s.childNodes[0]}}}else{if(t+s.nodeValue.length<y){t+=s.nodeValue.length;if(s.nextSibling){s=s.nextSibling}else{var B=document.createElement("span");s.parentNode.insertBefore(B,s);s.parentNode.insertBefore(s,B);s=B;o=B;break}}else{if(t+s.nodeValue.length==y){t+=s.nodeValue.length;var B=document.createElement("span");s.parentNode.insertBefore(B,s);s.parentNode.insertBefore(s,B);s=B;o=B;break}else{if(t+s.nodeValue.length>y){var w=y-t;var z=s.nodeValue.substr(w);s.nodeValue=s.nodeValue.substr(0,w);var v=document.createTextNode(z);s.parentNode.insertBefore(v,s);s.parentNode.insertBefore(s,v);B=document.createElement("span");s.parentNode.insertBefore(B,s);s.parentNode.insertBefore(s,B);s=B;o=B;t+=w;break}}}}}h.css({left:t?$j(s).position().left:A.position().left});if(o){o.parentNode.removeChild(o)}}}else{h.remove()}}else{h.remove()}}else{h.remove()}}};this.refreshPosition=function(o,y,u,p){var q=$j(y);var x=p.top;var r=p.left;var s=q.outerHeight();var v=Math.max.apply(Math,u.find("span").add(q).map(function(){return $j(this).outerWidth()+59}).get());u.css("width",v);u.css("height",s);u.css("top",x);u.css("left",r);if(u.data("needrefresh")=="true"){u.data("needrefresh","false");j.refresh(o,y)}j.updateCursor(o,y,u)};function d(q){var o="";for(var p=0;p<q.childNodes.length;p++){if(q.childNodes[p].nodeType==4){o+=q.childNodes[p].nodeValue}else{if(q.childNodes[p].nodeType==3){o+=q.childNodes[p].nodeValue}else{var r=q.childNodes[p];var s=d(r);if(tinymce.DOM.isBlock(r)){s+="\n"}else{if(r.nodeName.toLowerCase()=="br"&&r.nextSibling!=null){s+="\n"}}o+=s}}}return o}this.refresh=function(q,r){var p=q.getUIDForElement($j(r));var u=q.getHiddenElementFor(p);var v;if(u.children().length==0){v=$j("<pre name='_code_"+p+"'></pre>");u.append(v)}else{v=u.children("pre")}var t=$j(r).attr("___default_attr");if(!t){t="plain"}v.attr("class",t);var s=d(r);if(s==""){s="\n"}if(v.data("text")!=s||t!=v.data("lang")){v.text(s.replace(/\n/g," \n"));v.data("text",s);v.data("lang",t);var o=q.getCurrentNode().parents(".jive_macro_code");u.children("div").remove();require(["jive/rte/syntax/SyntaxHighlighter"],function(w){w.HighlightAll("_code_"+p);j.refreshPosition(q,r,u,$j(r).offset())})}else{j.refreshPosition(q,r,u,$j(r).offset())}};this.caresAboutChangeTo=function(o,q,p){return false}}};
;
function addEvent(c,a,b){if(c.attachEvent){c.attachEvent("on"+a,b)}else{c.addEventListener(a,b,true)}}function setCookie(c,e,a,g,d,f){var b=c+"="+encodeURIComponent(e)+((a)?"; expires="+a.toGMTString():"")+((g)?"; path="+escape(g):"")+((d)?"; domain="+d:"")+((f)?"; secure":"");document.cookie=b}function getCookie(c){var b=document.cookie;var e=c+"=";var d=b.indexOf("; "+e);if(d==-1){d=b.indexOf(e);if(d!==0){return null}}else{d+=2}var a=document.cookie.indexOf(";",d);if(a==-1){a=b.length}return decodeURIComponent(b.substring(d+e.length,a))}function addImageElement(a,c,b){if($j("#"+c).length>0){return}createImageElement(a,c,b)}function createImageElement(a,d,c){var b=document.createElement("INPUT");b.setAttribute("type","hidden");b.setAttribute("name",a);b.setAttribute("id",d);b.setAttribute("value",c);$j("#postform").append(b)}function removeImageElement(a){$j("#"+a).remove()};
;
var DWRTimeout=20000;var objectLookupSessionKey;var errorHandlerMessage="An error occurred:";var __postSubmitted=false;var cancelPost=false;function pause(d){if(window.showModalDialog){var c="window.setTimeout( function () { window.close(); }, "+d+");";var a=window.showModalDialog('javascript:document.writeln("<script>'+c+'<\/script>")')}else{var b=new Date();var e=b.getTime()+d;while(true){b=new Date();if(b.getTime()>e){return}}}}function getEditorMode(){return currentMode}function editorErrorHandler(b,a){if(b.indexOf("Timeout")==-1){$j("#dwr-error-text").text(errorHandlerMessage+" Error Code: "+b);$j("#dwr-error-table").fadeIn();setTimeout(function(){$j("#dwr-error-table").fadeOut()},10000)}}function trimString(a){a.replace(/^\s*|\s*$/g,"");return a}function validatePost(f,d,e,c){if(cancelPost){return true}if(typeof(e)=="undefined"){e="wysiwygtext"}var h=false;var b=window.editor.get(e);var k=$j(c)||$j(document);var a=k.find("#subject01").get(0);if(typeof(a)!="undefined"&&trimString(a.value)==""){var i=k.find("#post-error-table").get(0);if(i){i.style.display="block";scroll(0,0);i=k.find("#post-error-subject").get(0);if(i){i.style.display="block";scroll(0,0)}}h=true}else{var i=k.find("#post-error-subject").get(0);if(i){i.style.display="none"}}var g;if(!b.isMobileOnly()){g=b.getHTML();if(b.isTextOnly()){b.getTextArea().style.display="inline";b.innerHTML="";b.appendChild(document.createTextNode(g));b.style.display="none"}}else{g=b.getHTML()}b.getOriginalTextBox().val(g);if(!d&&(g==null||trimString(g)=="")){var i=k.find("#post-error-table").get(0);if(i){i.style.display="block";scroll(0,0);i=k.find("#post-error-body").get(0);if(i){i.style.display="block";scroll(0,0)}}h=true}else{var j=k.find("#textEditor").get(0);if(j){j.value=g}k.find("#postTypeFlag").get(0).value="true";var i=k.find("#post-error-body").get(0);if(i){i.style.display="none"}}if(h){return false}var i=k.find("#post-error-table").get(0);if(i){i.style.display="none"}if(arguments.length>0){window.onbeforeunload=null}if(!__postSubmitted&&f){__postSubmitted=true;return true}else{if(!f){return true}}return false};
;
// This file was automatically generated from rte_attachment.soy.
// Please don't edit this file by hand.

goog.provide('jive.rte.attachment.attachmentBlock');
goog.provide('jive.rte.attachment.attachmentHeader');
goog.provide('jive.rte.attachment.attachmentList');
goog.provide('jive.rte.attachment.formatSize');
goog.provide('jive.rte.attachment.restrictions');

goog.require('soy');
goog.require('soydata');
goog.require('soy.StringBuilder');


jive.rte.attachment.restrictions = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  if (opt_data.restrictions.maxSize) {
    output.append('<span class="js-attachments-sizeRestriction">', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('tinymce.jiveattachment.maxSizePrefix'),[])), ' ');
    jive.rte.attachment.formatSize({size: opt_data.restrictions.maxSize}, output);
    output.append('</span>');
  }
  output.append((opt_data.restrictions.allowByDefault) ? (opt_data.restrictions.attachmentExtensions.length > 0) ? '<span class="js-attachments-typeRestriction">' + soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('attach.notAllowedTypes.text'),[])) + '  ' + soy.$$escapeHtml(opt_data.restrictions.attachmentExtensions) + '</span>' : '' : '<span class="js-attachments-typeRestriction">' + soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('attach.fileTypes.text'),[])) + '  ' + soy.$$escapeHtml(opt_data.restrictions.attachmentExtensions) + '</span>', (opt_data.restrictions.disallowedTypes) ? '<span class="js-attachments-typeRestriction">' + soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('tinymce.jiveattachment.disallowedTypesPrefix'),[])) + ' ' + soy.$$escapeHtml(opt_data.restrictions.disallowedTypes) + '</span>' : '', (opt_data.restrictions.maxFiles) ? '<span class="js-attachments-countRestriction">' + soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('tinymce.jiveattachment.maxCountPrefix'),[])) + ' ' + soy.$$escapeHtml(opt_data.restrictions.maxFiles) + '</span>' : '');
  return opt_sb ? '' : output.toString();
};


jive.rte.attachment.attachmentHeader = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="js-attachment-list-bar"><a href="#" class="js-attachment-button-label">', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('tinymce.jiveattachment.attachmentBarLabel'),[])), '</a><span class="js-attachment-restrictions">');
  jive.rte.attachment.restrictions(opt_data, output);
  output.append('</span></div>');
  return opt_sb ? '' : output.toString();
};


jive.rte.attachment.attachmentList = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  if (opt_data.attachments.length > 0) {
    output.append('<ul class="js-attachment-list">');
    var attachmentList50 = opt_data.attachments;
    var attachmentListLen50 = attachmentList50.length;
    for (var attachmentIndex50 = 0; attachmentIndex50 < attachmentListLen50; attachmentIndex50++) {
      var attachmentData50 = attachmentList50[attachmentIndex50];
      output.append('<li><span class="jive-icon-med jive-icon-doctype-', soy.$$escapeHtml(attachmentData50.doctype), '"></span><span class="j-attachment-name-chop">', soy.$$escapeHtml(attachmentData50.filename), '</span> <strong class="font-color-meta">');
      if (attachmentData50.size) {
        jive.rte.attachment.formatSize({size: attachmentData50.size}, output);
      }
      output.append('</strong>', (opt_data.restrictions.hasAttachPerms) ? '<a class="js-attachment-remove j-remove" href=\'#\'><span class="ui-remove" title="' + soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('tinymce.jiveattachment.removeAttachmentButton'),[])) + '">' + soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('tinymce.jiveattachment.removeAttachmentButton'),[])) + '</span></a>' : '', '</li>');
    }
    output.append('</ul><div class="j-attach-clip j-ui-elem"></div>');
  }
  return opt_sb ? '' : output.toString();
};


jive.rte.attachment.attachmentBlock = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  jive.rte.attachment.attachmentHeader(opt_data, output);
  jive.rte.attachment.attachmentList(opt_data, output);
  return opt_sb ? '' : output.toString();
};


jive.rte.attachment.formatSize = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append((opt_data.size > 1048576) ? soy.$$escapeHtml(Math.round(opt_data.size / 1048576 * 10) / 10) + '&nbsp;MB' : soy.$$escapeHtml(Math.round(opt_data.size / 1024 * 10) / 10) + '&nbsp;KB');
  return opt_sb ? '' : output.toString();
};

;
// This file was automatically generated from status_input_drop_down.soy.
// Please don't edit this file by hand.

goog.provide('jive.statusinput.dropdown.ddCreateTag');
goog.provide('jive.statusinput.dropdown.ddDefault');
goog.provide('jive.statusinput.dropdown.ddOutputEntries');
goog.provide('jive.statusinput.dropdown.ddOutputTags');
goog.provide('jive.statusinput.dropdown.ddSearch');
goog.provide('jive.statusinput.dropdown.ddTags');
goog.provide('jive.statusinput.dropdown.ddTagsContent');

goog.require('soy');
goog.require('soydata');
goog.require('soy.StringBuilder');
goog.require('jive.autosearch.resultSection');


jive.statusinput.dropdown.ddDefault = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="j-pop-main j-autocomplete-container j-rc5 jive-spotlight-search-result"><p class="j-pop-desc j-actions" style="max-height:none">', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('wallentry.status_input.dd.default.title'),[])), '</p><div class="js-nav-menu-scrollable">');
  jive.statusinput.dropdown.ddOutputEntries(opt_data, output);
  output.append('</div></div>');
  return opt_sb ? '' : output.toString();
};


jive.statusinput.dropdown.ddSearch = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="j-pop-main j-autocomplete-container j-rc5 jive-spotlight-search-result"><p class="j-pop-desc j-actions" style="max-height:none">', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('wallentry.status_input.dd.search.hint'),[])), '</p><div class="js-nav-menu-scrollable">');
  jive.statusinput.dropdown.ddOutputEntries(opt_data, output);
  output.append('</div></div>');
  return opt_sb ? '' : output.toString();
};


jive.statusinput.dropdown.ddTags = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="j-menu j-pop-main j-autocomplete-container j-rc5">');
  jive.statusinput.dropdown.ddTagsContent(opt_data, output);
  output.append('</div>');
  return opt_sb ? '' : output.toString();
};


jive.statusinput.dropdown.ddTagsContent = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  if (opt_data.currentTagText) {
    jive.statusinput.dropdown.ddOutputTags(opt_data, output);
  } else {
    output.append('<p class="font-color-meta j-autocomplete-tag-prompt">', (opt_data.allowTagCreation) ? soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('wallentry.status_input.dd.tags.title'),['Continue typing to search tags or create new tags'])) : soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('wallentry.status_input.dd.tags.title_no_create'),['Continue typing to search tags'])), '</p>');
  }
  return opt_sb ? '' : output.toString();
};


jive.statusinput.dropdown.ddOutputEntries = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  var sectionList31 = opt_data.sections;
  var sectionListLen31 = sectionList31.length;
  for (var sectionIndex31 = 0; sectionIndex31 < sectionListLen31; sectionIndex31++) {
    var sectionData31 = sectionList31[sectionIndex31];
    output.append('<div class="j-results j-spotlight-find" data-type="', soy.$$escapeHtmlAttribute(sectionData31.type), '"><h4 class="font-color-meta">', (sectionData31.type == 'people') ? soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('search.search_for.people'),[])) : (sectionData31.type == 'places') ? soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('search.search_for.places'),[])) : (sectionData31.type == 'content') ? soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('search.search_for.content'),[])) : '', '</h4>');
    jive.autosearch.resultSection(soy.$$augmentMap(sectionData31, {max: 5}), output);
    output.append('</div>');
  }
  return opt_sb ? '' : output.toString();
};


jive.statusinput.dropdown.ddOutputTags = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<ul class="j-autocomplete-results" role="listbox">');
  if (opt_data.shouldCreateTag && opt_data.allowTagCreation) {
    output.append('<li role="option">');
    jive.statusinput.dropdown.ddCreateTag(opt_data, output);
    output.append('</li>');
  }
  var entryList54 = opt_data.entries;
  var entryListLen54 = entryList54.length;
  for (var entryIndex54 = 0; entryIndex54 < entryListLen54; entryIndex54++) {
    var entryData54 = entryList54[entryIndex54];
    output.append('<li role="option"><a class="jive-js-status-input-selectable" href="', soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(jive.soy.func.buildUrl('/tags#/',{tags: entryData54}))), '" data-id="', soy.$$escapeHtmlAttribute(entryData54), '" data-type="tag"><span class="jive-icon-med jive-icon-tag"></span><span class="result-title">', soy.$$escapeHtml(entryData54), '</span></a></li>');
  }
  output.append('</ul>');
  return opt_sb ? '' : output.toString();
};


jive.statusinput.dropdown.ddCreateTag = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<a class="jive-js-status-input-selectable jive-js-status-input-create" href="#" data-id="', soy.$$escapeHtmlAttribute(opt_data.currentTagText), '" data-type="tag"><span class="font-color-normal">', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('global.create'),[])), soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('global.colon'),[])), ' </span><span class="jive-icon-tag jive-icon-med"></span><span class="result-title">', soy.$$escapeHtml(opt_data.currentTagText), '</span></a>');
  return opt_sb ? '' : output.toString();
};

;
// This file was automatically generated from apps-drop-down.soy.
// Please don't edit this file by hand.

goog.provide('jive.apps.dropdown.ddAppContent');
goog.provide('jive.apps.dropdown.ddNoAppContent');
goog.provide('jive.apps.dropdown.ddNoAppInstalled');
goog.provide('jive.apps.dropdown.ddOutputAppActions');
goog.provide('jive.apps.dropdown.ddOutputIconImage');
goog.provide('jive.apps.dropdown.ddOutputMarketAction');

goog.require('soy');
goog.require('soydata');
goog.require('soy.StringBuilder');
goog.require('jive.shared.soy.i18nHelper');


jive.apps.dropdown.ddNoAppContent = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="j-no-match j-empty-view" ><p><strong>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('appframework.app.bang.rte.no.apps.matched'),['No apps match your search term.'])), '</strong></p><p>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('appframework.app.bang.rte.no.apps.general.search.term'),['Try using more general terms.'])), '</p></div>');
  return opt_sb ? '' : output.toString();
};


jive.apps.dropdown.ddNoAppInstalled = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="j-no-apps-installed j-empty-view"><div class="j-empty-container"><div class="j-ui-elem jive-icon-appsmarket"></div><h2>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('appframework.app.name.plural.capitalized'),['Apps'])), '</h2><p class="font-color-meta"><strong>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('appframework.app.bang.rte.no.apps.installed'),['There are no apps installed.'])), '</strong></p><div class="j-divider"></div><p class="font-color-meta">', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('appframework.app.bang.rte.no.apps.exposition'),['Enhance your content by including information created by !-able apps.'])), '</strong></p><div class="j-controls"><a class="j-apps-market-link" href="#">', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('appframework.app.bang.rte.no.apps.open.jive.apps.market'),['Open the Jive Apps Market'])), '<span class="j-ui-elem j-cta-arrow"></span></a></div></div></div>');
  return opt_sb ? '' : output.toString();
};


jive.apps.dropdown.ddAppContent = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class="j-app-actions-container j-menu">');
  if (opt_data.nonInstalled) {
    jive.apps.dropdown.ddNoAppInstalled(null, output);
  } else {
    if (opt_data.entries.length < 1) {
      jive.apps.dropdown.ddNoAppContent(null, output);
      if (opt_data.searchText && opt_data.appsMarketEnabled) {
        output.append('<p class="j-pop-row j-last">');
        jive.apps.dropdown.ddOutputMarketAction({searchText: opt_data.searchText, alwaysShowMarketLink: false}, output);
        output.append('</p>');
      }
    } else {
      output.append('<p class="j-pop-row">', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('jiveapps.app.list.title'),['App Actions'])), '</p>');
      jive.apps.dropdown.ddOutputAppActions(opt_data, output);
      if (opt_data.appsMarketEnabled) {
        output.append('<p class="j-pop-row j-has-icon j-last">');
        jive.apps.dropdown.ddOutputMarketAction({searchText: opt_data.searchText, alwaysShowMarketLink: true}, output);
        output.append('</p>');
      }
    }
  }
  output.append('</div>');
  return opt_sb ? '' : output.toString();
};


jive.apps.dropdown.ddOutputMarketAction = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  if (opt_data.searchText) {
    jive.shared.soy.i18nHelper({i18nKey: 'appframework.app.bang.rte.find.apps.link', arg0: soy.$$escapeHtml(opt_data.searchText), arg1: '<a class="j-apps-market-link" data-filter="' + soy.$$escapeHtml(opt_data.searchText) + '" href="javascript:;">' + soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('appframework.appmarket.title'),[])) + '</a>', noAutoEscape: true}, output);
  } else if (opt_data.alwaysShowMarketLink) {
    jive.shared.soy.i18nHelper({i18nKey: 'appframework.app.bang.rte.find.apps', arg0: '<a class="j-apps-market-link" href="javascript:;">' + soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('appframework.appmarket.title'),[])) + '</a>', noAutoEscape: true}, output);
  }
  return opt_sb ? '' : output.toString();
};


jive.apps.dropdown.ddOutputAppActions = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<ul class="j-app-actions j-autocomplete-results" role="listbox">');
  var entryList73 = opt_data.entries;
  var entryListLen73 = entryList73.length;
  if (entryListLen73 > 0) {
    for (var entryIndex73 = 0; entryIndex73 < entryListLen73; entryIndex73++) {
      var entryData73 = entryList73[entryIndex73];
      output.append('<li role="option"><a data-action-id="', soy.$$escapeHtml(entryData73.id), '" data-app-url="', soy.$$escapeHtml(entryData73.appURL), '" data-app-uuid="', soy.$$escapeHtml(entryData73.appUUID), '" data-app-instance-uuid="', soy.$$escapeHtml(entryData73.appInstanceUUID), '" data-name="os-action-link" data-label="', soy.$$escapeHtml(entryData73.label), '" data-view="', soy.$$escapeHtml(entryData73.view), '" rel="nofollow" href="#" class="jive-js-status-input-selectable js-app-action-select-link app-action">');
      jive.apps.dropdown.ddOutputIconImage({icon: entryData73.icon}, output);
      output.append('<em class="font-color-meta">', soy.$$filterNoAutoescape(entryData73.appName), '</em><span class="label">', soy.$$filterNoAutoescape(entryData73.label), '</span></a></li>');
    }
  } else {
    output.append((opt_data.emptyEntriesHTML) ? '<li>' + soy.$$filterNoAutoescape(opt_data.emptyEntriesHTML) + '</li>' : soy.$$escapeHtml(opt_data.emptyEntriesStr));
  }
  output.append('</ul>');
  return opt_sb ? '' : output.toString();
};


jive.apps.dropdown.ddOutputIconImage = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  switch (opt_data.icon) {
    case 'edit':
      output.append('<span class="jive-icon-med jive-icon-edit"></span>');
      break;
    case 'manage':
      output.append('<span class="jive-icon-med jive-icon-gear"></span>');
      break;
    case 'move':
      output.append('<span class="jive-icon-med jive-icon-move"></span>');
      break;
    case 'add':
      output.append('<span class="jive-icon-med jive-icon-plus"></span>');
      break;
    case 'delete':
      output.append('<span class="jive-icon-med jive-icon-delete"></span>');
      break;
    case 'download':
      output.append('<span class="jive-icon-med jive-icon-appmarket"></span>');
      break;
    case 'flag':
      output.append('<span class="jive-icon-med jive-icon-checkpoint"></span>');
      break;
    case 'graph':
      output.append('<span class="jive-icon-med jive-icon-poll"></span>');
      break;
    case 'link':
      output.append('<span class="jive-icon-med jive-icon-link"></span>');
      break;
    case 'create':
      output.append('<span class="jive-icon-med jive-icon-add"></span>');
      break;
    default:
      output.append('<img src="', soy.$$escapeHtml(opt_data.icon), '" height="16" width="16" />');
  }
  return opt_sb ? '' : output.toString();
};

;
// This file was automatically generated from rte_table.soy.
// Please don't edit this file by hand.

goog.provide('jive.rte.table.allCellProperties');
goog.provide('jive.rte.table.allColumnProperties');
goog.provide('jive.rte.table.allRowProperties');
goog.provide('jive.rte.table.allTableProperties');
goog.provide('jive.rte.table.cellProperties');
goog.provide('jive.rte.table.columnProperties');
goog.provide('jive.rte.table.deleteText');
goog.provide('jive.rte.table.editText');
goog.provide('jive.rte.table.headerCellProperties');
goog.provide('jive.rte.table.mergeCellProperties');
goog.provide('jive.rte.table.propertiesChooser');
goog.provide('jive.rte.table.propertiesChooserCell');
goog.provide('jive.rte.table.propertiesChooserColumn');
goog.provide('jive.rte.table.propertiesChooserMergeCells');
goog.provide('jive.rte.table.propertiesChooserRow');
goog.provide('jive.rte.table.propertiesChooserTable');
goog.provide('jive.rte.table.rowProperties');
goog.provide('jive.rte.table.tableProperties');

goog.require('soy');
goog.require('soydata');
goog.require('soy.StringBuilder');


jive.rte.table.headerCellProperties = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class=\'content ', soy.$$escapeHtmlAttribute(opt_data.section), 'Header\'><h3>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.sample_header'),[])), '</h3><div class=\'formFields sampleContainer\'><table align=\'center\' class=\'sampleHeader\' style=\'width:145px;margin-left:20px;\'><tr><th>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.header'),[])), '</th></tr></table></div><h3>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.style'),[])), '</h3><div class=\'formFields\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.padding'),[])), ': <input value=\'\' class=\'padding spin-button\' maxlength=\'2\'/> px<br>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.background'),[])), ': <input value=\'\' class=\'backgroundColor color\'/><br></div><h3>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.text'),[])), '</h3><div class=\'formFields\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.alignment'),[])), ':<a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_justify mceButtonSelected mce_justifyleft\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.align_left'),[])), '\'><span class=\'mceIcon mce_justifyleft\'></span></a><a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_justify mce_justifycenter\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.align_center'),[])), '\'><span class=\'mceIcon mce_justifycenter\'></span></a><a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_justify mce_justifyright\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.align_right'),[])), '\'><span class=\'mceIcon mce_justifyright\'></span></a><a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_justify mce_justifyfull\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.align_full'),[])), '\'><span class=\'mceIcon mce_justifyfull\'></span></a><br>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.vertical_alignment'),[])), ':<a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_valign mceButtonSelected mce_valigntop\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.valign_top'),[])), '\'><span class=\'mceIcon mce_valigntop\'></span></a><a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_valign mce_valignmiddle\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.valign_middle'),[])), '\'><span class=\'mceIcon mce_valignmiddle\'></span></a><a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_valign mce_valignbottom\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.valign_bottom'),[])), '\'><span class=\'mceIcon mce_valignbottom\'></span></a><br>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.font_family'),[])), ': <a href=\'javascript:;\' class=\'family\'/></a><br>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.color'),[])), ': <input value=\'\' class=\'fontColor color\'/><br></div></div>');
  return opt_sb ? '' : output.toString();
};


jive.rte.table.cellProperties = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class=\'content ', soy.$$escapeHtmlAttribute(opt_data.section), 'Cell\'><h3>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.sample_cell'),[])), '</h3><div class=\'formFields sampleContainer\'><table align=\'center\' class=\'sampleHeader\' style=\'width:145px;margin-left:20px;\'><tr><th>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.cell'),[])), '</th></tr></table></div><h3>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.style'),[])), '</h3><div class=\'formFields\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.padding'),[])), ': <input value=\'\' class=\'padding spin-button\' maxlength=\'2\'/> px<br>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.background'),[])), ': <input value=\'\' class=\'backgroundColor color\'/><br></div><h3>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.text'),[])), '</h3><div class=\'formFields\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.alignment'),[])), ':<a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_justify mceButtonSelected mce_justifyleft\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.align_left'),[])), '\'><span class=\'mceIcon mce_justifyleft\'></span></a><a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_justify mce_justifycenter\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.align_center'),[])), '\'><span class=\'mceIcon mce_justifycenter\'></span></a><a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_justify mce_justifyright\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.align_right'),[])), '\'><span class=\'mceIcon mce_justifyright\'></span></a><a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_justify mce_justifyfull\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.align_full'),[])), '\'><span class=\'mceIcon mce_justifyfull\'></span></a><br>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.vertical_alignment'),[])), ':<a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_valign mceButtonSelected mce_valigntop\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.valign_top'),[])), '\'><span class=\'mceIcon mce_valigntop\'></span></a><a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_valign mce_valignmiddle\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.valign_middle'),[])), '\'><span class=\'mceIcon mce_valignmiddle\'></span></a><a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_valign mce_valignbottom\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.valign_bottom'),[])), '\'><span class=\'mceIcon mce_valignbottom\'></span></a><br>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.font_family'),[])), ': <a href=\'javascript:;\' class=\'family\'></a><br>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.color'),[])), ': <input value=\'\' class=\'fontColor color\'/><br></div></div>');
  return opt_sb ? '' : output.toString();
};


jive.rte.table.tableProperties = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class=\'content tableStyle\'><h3>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.headers'),[])), '</h3><div class=\'formFields\'><a href=\'javascript:;\' class=\'th th-t\'></a><a href=\'javascript:;\' class=\'th th-tb\'></a><a href=\'javascript:;\' class=\'th th-tl\'></a><a href=\'javascript:;\' class=\'th th-n\'></a></div><h3>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.border'),[])), '</h3><div class=\'formFields\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.width'),[])), ': <input value=\'\' class=\'borderWidth spin-button\' maxlength=\'2\'/> px<br>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.color'),[])), ': <input value=\'\' class=\'borderColor color\'/><br></div><h3>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.size_and_position'),[])), '</h3><div class=\'formFields\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.width'),[])), ': <input value=\'\' class=\'widthPx spin-button\' maxlength=\'4\'/> <input value=\'\' class=\'widthPer spin-button\' maxlength=\'3\'/> <input type=\'radio\' name=\'width\' class=\'radio chooseWidthPx\'/> px <input type=\'radio\' name=\'width\' class=\'radio chooseWidthPer\'/> %<br>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.height'),[])), ': <input type=\'radio\' name=\'height\' class=\'radio chooseHeightAuto\'/> ', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.auto'),[])), '<br/><input type=\'radio\' name=\'height\' class=\'radio chooseHeightPx\'/> <input value=\'\' class=\'heightPx spin-button\' maxlength=\'4\'/> px<br>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.alignment'),[])), ':<a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_justifytablenone\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.align_none'),[])), '\'><span class=\'mceIcon mce_justifytablenone\'></span></a><a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_justifytableleft\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.align_left'),[])), '\'><span class=\'mceIcon mce_justifytableleft\'></span></a><a href=\'javascript:;\' class=\'mceButton mceButtonEnabled mce_justifytableright\' title=\'', soy.$$escapeHtmlAttribute(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.align_right'),[])), '\'><span class=\'mceIcon mce_justifytableright\'></span></a></div></div>');
  return opt_sb ? '' : output.toString();
};


jive.rte.table.columnProperties = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class=\'content columnStyle\'><h3>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.headers'),[])), '</h3><div class=\'formFields\'><a href=\'javascript:;\' class=\'th th-t\'></a><a href=\'javascript:;\' class=\'th th-tb\'></a><a href=\'javascript:;\' class=\'th th-tl\'></a><a href=\'javascript:;\' class=\'th th-n\'></a></div><h3>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.size_and_position'),[])), '</h3><div class=\'formFields\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.width'),[])), ': <input type=\'radio\' name=\'width\' class=\'radio chooseWidthAuto\'/> ', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.auto'),[])), '<br/><input type=\'radio\' name=\'width\' class=\'radio chooseWidthPx\'/> <input value=\'\' class=\'widthPx spin-button\' maxlength=\'4\'/> px<br/><input type=\'radio\' name=\'width\' class=\'radio chooseWidthPer\'/> <input value=\'\' class=\'widthPer spin-button\' maxlength=\'3\'/> %<br></div></div>');
  return opt_sb ? '' : output.toString();
};


jive.rte.table.rowProperties = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class=\'content rowStyle\'><h3>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.headers'),[])), '</h3><div class=\'formFields\'><a href=\'javascript:;\' class=\'th th-a\'></a><a href=\'javascript:;\' class=\'th th-l\'></a><a href=\'javascript:;\' class=\'th th-n\'></a></div><h3>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.size_and_position'),[])), '</h3><div class=\'formFields\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.height'),[])), ': <input type=\'radio\' name=\'width\' class=\'radio chooseHeightAuto\'/> ', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.auto'),[])), '<br/><input type=\'radio\' name=\'width\' class=\'radio chooseHeightPx\'/> <input value=\'\' class=\'heightPx spin-button\' maxlength=\'4\'/> px<br/></div></div>');
  return opt_sb ? '' : output.toString();
};


jive.rte.table.allTableProperties = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class=\'properties\'><form action=\'javascript:;\' onsubmit=\'return false\'><nav class=\'j-tab-nav\'><ul class=\'tabs j-tabbar\'><li class=\'j-tab-selected\'><a href=\'javascript:;\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.style'),[])), '</a></li><li><a href=\'javascript:;\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.header'),[])), '</a></li><li><a href=\'javascript:;\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.cell'),[])), '</a></li></ul></nav>');
  jive.rte.table.tableProperties(null, output);
  jive.rte.table.headerCellProperties({section: 'table'}, output);
  jive.rte.table.cellProperties({section: 'table'}, output);
  output.append('</form></div>');
  return opt_sb ? '' : output.toString();
};


jive.rte.table.allColumnProperties = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class=\'properties\'><form action=\'javascript:;\' onsubmit=\'return false\'><nav class=\'j-tab-nav\'><ul class=\'tabs j-tabbar\'><li class=\'j-tab-selected\'><a href=\'javascript:;\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.style'),[])), '</a></li><li><a href=\'javascript:;\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.header'),[])), '</a></li><li><a href=\'javascript:;\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.cell'),[])), '</a></li></ul></nav>');
  jive.rte.table.columnProperties(null, output);
  jive.rte.table.headerCellProperties({section: 'column'}, output);
  jive.rte.table.cellProperties({section: 'column'}, output);
  output.append('</form></div>');
  return opt_sb ? '' : output.toString();
};


jive.rte.table.allRowProperties = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class=\'properties\'><form action=\'javascript:;\' onsubmit=\'return false\'><nav class=\'j-tab-nav\'><ul class=\'tabs j-tabbar\'><li class=\'j-tab-selected\'><a href=\'javascript:;\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.style'),[])), '</a></li><li><a href=\'javascript:;\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.header'),[])), '</a></li><li><a href=\'javascript:;\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.cell'),[])), '</a></li></ul></nav>');
  jive.rte.table.rowProperties(null, output);
  jive.rte.table.headerCellProperties({section: 'row'}, output);
  jive.rte.table.cellProperties({section: 'row'}, output);
  output.append('</form></div>');
  return opt_sb ? '' : output.toString();
};


jive.rte.table.allCellProperties = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class=\'properties\'><form action=\'javascript:;\' onsubmit=\'return false\'><div class=\'content\'><input type=\'radio\' name=\'style\' class=\'radio chooseHeader\'/> ', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.header'),[])), '<input type=\'radio\' name=\'style\' class=\'radio chooseCell\'/> ', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.cell'),[])), '</div>');
  jive.rte.table.headerCellProperties({section: 'cell'}, output);
  jive.rte.table.cellProperties({section: 'cell'}, output);
  output.append('</form></div>');
  return opt_sb ? '' : output.toString();
};


jive.rte.table.mergeCellProperties = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class=\'properties\'><form action=\'javascript:;\' onsubmit=\'return false\'><div class=\'content\'><h3>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.merge_cells'),[])), '</h3><div class=\'formFields\'>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.rows'),[])), ': <input value=\'\' class=\'rowspan spin-button\' maxlength=\'2\'/><br>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.columns'),[])), ': <input value=\'\' class=\'colspan spin-button\' maxlength=\'2\'/><br></div></div></form></div>');
  return opt_sb ? '' : output.toString();
};


jive.rte.table.propertiesChooser = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append('<div class=\'propertiesChooser\'><h3>', soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.edit'),[])), ': <span></span></h3><a class=\'button editTable\' href=\'javascript:;\'></a><a class=\'button editColumn\' href=\'javascript:;\'></a><a class=\'button editRow\' href=\'javascript:;\'></a><a class=\'button editCell\' href=\'javascript:;\'></a><a class=\'button deleteTable\' href=\'javascript:;\'></a></div>');
  return opt_sb ? '' : output.toString();
};


jive.rte.table.propertiesChooserTable = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append(soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.table'),[])));
  return opt_sb ? '' : output.toString();
};


jive.rte.table.propertiesChooserRow = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append(soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.row'),[])));
  return opt_sb ? '' : output.toString();
};


jive.rte.table.propertiesChooserColumn = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append(soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.column'),[])));
  return opt_sb ? '' : output.toString();
};


jive.rte.table.propertiesChooserCell = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append(soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.cell'),[])));
  return opt_sb ? '' : output.toString();
};


jive.rte.table.propertiesChooserMergeCells = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append(soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.merge_cells'),[])));
  return opt_sb ? '' : output.toString();
};


jive.rte.table.editText = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append(soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.edit'),[])));
  return opt_sb ? '' : output.toString();
};


jive.rte.table.deleteText = function(opt_data, opt_sb) {
  var output = opt_sb || new soy.StringBuilder();
  output.append(soy.$$escapeHtml(jive.i18n.i18nText(jive.i18n.getMsg('rte.table.delete'),[])));
  return opt_sb ? '' : output.toString();
};

;
